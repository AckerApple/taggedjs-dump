{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./node_modules/taggedjs/js/tag/ValueTypes.enum.js","webpack:///./node_modules/taggedjs/js/subject/signal.function.js","webpack:///./node_modules/taggedjs/js/isInstance.js","webpack:///./node_modules/taggedjs/js/subject/subject.utils.js","webpack:///./node_modules/taggedjs/js/subject/Subject.class.js","webpack:///./node_modules/taggedjs/js/subject/combineLatest.function.js","webpack:///./node_modules/taggedjs/js/subject/ValueSubject.js","webpack:///./node_modules/taggedjs/js/state/state.function.js","webpack:///./node_modules/taggedjs/js/state/states.utils.js","webpack:///./node_modules/taggedjs/js/state/state.utils.js","webpack:///./node_modules/taggedjs/js/state/getStateValue.function.js","webpack:///./node_modules/taggedjs/js/state/stateHandlers.js","webpack:///./node_modules/taggedjs/js/state/setUseMemory.object.js","webpack:///./node_modules/taggedjs/js/state/syncStates.function.js","webpack:///./node_modules/taggedjs/js/state/watch.function.js","webpack:///./node_modules/taggedjs/js/state/subject.function.js","webpack:///./node_modules/taggedjs/js/state/states.function.js","webpack:///./node_modules/taggedjs/js/state/letProp.function.js","webpack:///./node_modules/taggedjs/js/errors.js","webpack:///./node_modules/taggedjs/js/deepFunctions.js","webpack:///./node_modules/taggedjs/js/tag/getTemplaterResult.function.js","webpack:///./node_modules/taggedjs/js/tag/tag.utils.js","webpack:///./node_modules/taggedjs/js/alterProp.function.js","webpack:///./node_modules/taggedjs/js/tag/executeWrap.function.js","webpack:///./node_modules/taggedjs/js/tag/cloneValueArray.function.js","webpack:///./node_modules/taggedjs/js/tag/getSupport.function.js","webpack:///./node_modules/taggedjs/js/tag/clonePropsBy.function.js","webpack:///./node_modules/taggedjs/js/tag/getTagWrap.function.js","webpack:///./node_modules/taggedjs/js/tag/tag.js","webpack:///./node_modules/taggedjs/js/tag/hasSupportChanged.function.js","webpack:///./node_modules/taggedjs/js/tag/paint.function.js","webpack:///./node_modules/taggedjs/js/updateBeforeTemplate.function.js","webpack:///./node_modules/taggedjs/js/tag/tagRunner.js","webpack:///./node_modules/taggedjs/js/tag/getChildTagsToDestroy.function.js","webpack:///./node_modules/taggedjs/js/tag/smartRemoveKids.function.js","webpack:///./node_modules/taggedjs/js/tag/destroySupport.function.js","webpack:///./node_modules/taggedjs/js/tag/update/compareArrayItems.function.js","webpack:///./node_modules/taggedjs/js/tag/checkDestroyPrevious.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processRegularValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/getNewGlobal.function.js","webpack:///./node_modules/taggedjs/js/tag/isLikeTags.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/howToSetInputValue.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/specialAttribute.js","webpack:///./node_modules/taggedjs/js/state/handleProviderChanges.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/getUpTags.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderSupport.function.js","webpack:///./node_modules/taggedjs/js/state/providersChangeCheck.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/renderTagArray.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/bindSubjectCallback.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/processNameValueAttribute.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/addSupportEventListener.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/processAttributeCallback.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/isSpecialAttribute.function.js","webpack:///./node_modules/taggedjs/js/tag/processUpdateAttrContext.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/updateAttribute.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/processAttribute.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/attachDomElements.function.js","webpack:///./node_modules/taggedjs/js/tag/buildBeforeElement.function.js","webpack:///./node_modules/taggedjs/js/tag/domMetaCollector.js","webpack:///./node_modules/taggedjs/js/tag/getStringsId.function.js","webpack:///./node_modules/taggedjs/js/tag/isLastRunMatched.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/htmlInterpolationToDomMeta.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/restorePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTag.function.js","webpack:///./node_modules/taggedjs/js/tag/processUpdateContext.function.js","webpack:///./node_modules/taggedjs/js/tag/updateSupportBy.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processNewValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagArray.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingTagComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/checkTagValueChange.function.js","webpack:///./node_modules/taggedjs/js/tag/checkStateMismatch.function.js","webpack:///./node_modules/taggedjs/js/tag/afterRender.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderTagOnly.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processNewSubjectTag.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processFirstSubjectValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processFirstSubjectComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagResult.function.js","webpack:///./node_modules/taggedjs/js/tag/update/oneRenderToSupport.function.js","webpack:///./node_modules/taggedjs/js/interpolations/subscribeToTemplate.function.js","webpack:///./node_modules/taggedjs/js/interpolations/processSubscriptionUpdate.function.js","webpack:///./node_modules/taggedjs/js/tag/render/softDestroySupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderWithSupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderExistingTag.function.js","webpack:///./node_modules/taggedjs/js/state/callbackMaker.function.js","webpack:///./node_modules/taggedjs/js/tag/getSupportInCycle.function.js","webpack:///./node_modules/taggedjs/js/tag/getDomTag.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/replacePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/tag/html.js","webpack:///./node_modules/taggedjs/js/tag/tagElement.js","webpack:///./node_modules/taggedjs/js/index.js","webpack:///./node_modules/taggedjs-dump/js/columnEditor.component.js","webpack:///./node_modules/taggedjs-dump/js/arrayTable.component.js","webpack:///./node_modules/taggedjs-dump/js/arrayDisplay.tag.js","webpack:///./node_modules/taggedjs-dump/js/arraysDisplay.component.js","webpack:///./node_modules/taggedjs-dump/js/dumpArray.tag.js","webpack:///./node_modules/taggedjs-dump/js/copyText.function.js","webpack:///./node_modules/taggedjs-dump/js/dumpSimple.tag.js","webpack:///./node_modules/taggedjs-dump/js/dumpObject.tag.js","webpack:///./node_modules/taggedjs-dump/js/controlPanel.tag.js","webpack:///./node_modules/taggedjs-dump/js/dump.tag.js","webpack:///./node_modules/taggedjs/js/state/onInit.js","webpack:///./src/App.tag.ts","webpack:///./src/sampleData.ts","webpack:///./src/run.function.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export const empty = '';\nexport var ImmutableTypes;\n(function (ImmutableTypes) {\n    ImmutableTypes[\"string\"] = \"string\";\n    ImmutableTypes[\"number\"] = \"number\";\n    ImmutableTypes[\"boolean\"] = \"boolean\";\n    ImmutableTypes[\"undefined\"] = \"undefined\";\n})(ImmutableTypes || (ImmutableTypes = {}));\nexport var BasicTypes;\n(function (BasicTypes) {\n    BasicTypes[\"function\"] = \"function\";\n    BasicTypes[\"date\"] = \"date\";\n    BasicTypes[\"unknown\"] = \"unknown\";\n    BasicTypes[\"object\"] = \"object\";\n})(BasicTypes || (BasicTypes = {}));\nconst version = Date.now();\n/** Used as direct memory comparisons, the strings are never compared, just the array */\nexport const ValueTypes = {\n    tag: 'html', // html'' aka StringTag | DomTag\n    dom: 'dom', // compiled version of html''\n    templater: 'templater',\n    tagComponent: 'tagComponent',\n    tagArray: 'tagArray',\n    subject: 'subject',\n    tagJsSubject: 'tagJsSubject',\n    renderOnce: 'renderOnce',\n    stateRender: 'stateRender',\n    version,\n};\n//# sourceMappingURL=ValueTypes.enum.js.map","import { state } from '../state/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\n/** Checks if rendering cycle in process. Then creates object with \"value\" key and ability to \"subscribe\" to value changes */\nexport function signal(initialValue) {\n    const support = getSupportInCycle();\n    if (support) {\n        return state(() => Signal(initialValue));\n    }\n    return Signal(initialValue);\n}\n/** Creates object with \"value\" key and ability to \"subscribe\" to value changes */\nexport function Signal(initialValue) {\n    let value = initialValue;\n    const subscribers = new Set();\n    return {\n        get value() {\n            return value;\n        },\n        set value(newValue) {\n            if (value !== newValue) {\n                value = newValue;\n                // Notify all subscribers\n                subscribers.forEach(callback => callback(newValue));\n            }\n        },\n        subscribe(callback) {\n            callback(value); // emit initial value\n            subscribers.add(callback);\n            // Return an unsubscribe function\n            const unsub = () => subscribers.delete(callback);\n            // support traditional unsubscribe\n            unsub.unsubscribe = unsub;\n            return unsub;\n        },\n    };\n}\n//# sourceMappingURL=signal.function.js.map","import { BasicTypes, ImmutableTypes, ValueTypes } from './tag/ValueTypes.enum.js';\nexport function isSimpleType(value) {\n    switch (value) {\n        case ImmutableTypes.string:\n        case ImmutableTypes.number:\n        case ImmutableTypes.boolean:\n            return true;\n    }\n    return false;\n}\nexport function isStaticTag(value) {\n    if (!value) {\n        return false;\n    }\n    const tagJsType = value.tagJsType;\n    switch (tagJsType) {\n        case ValueTypes.dom:\n        case ValueTypes.tag:\n        case ValueTypes.templater:\n            return true;\n    }\n    return false;\n}\n/** passed in is expected to be a TemplaterResult */\nexport function isTagComponent(value) {\n    const tagType = value?.tagJsType;\n    return tagType === ValueTypes.tagComponent || tagType === ValueTypes.stateRender;\n}\n// isSubjectLike\nexport function isSubjectInstance(subject) {\n    return isObject(subject) && typeof subject.subscribe === BasicTypes.function;\n}\nexport function isPromise(value) {\n    return value && isFunction(value.then);\n}\nexport function isFunction(value) {\n    return typeof value === BasicTypes.function;\n}\nexport function isObject(value) {\n    return typeof (value) === BasicTypes.object && value !== null;\n}\nexport function isArray(value) {\n    return Array.isArray(value);\n}\n//# sourceMappingURL=isInstance.js.map","import { Subject } from './Subject.class.js';\nfunction removeSubFromArray(subscribers, callback) {\n    const index = subscribers.findIndex(sub => sub.callback === callback);\n    if (index !== -1) {\n        subscribers.splice(index, 1);\n    }\n}\nexport function getSubscription(subject, callback, subscribers) {\n    const countSubject = Subject.globalSubCount$;\n    Subject.globalSubCount$.next(countSubject.value + 1);\n    const subscription = function () {\n        subscription.unsubscribe();\n    };\n    subscription.callback = callback;\n    subscription.subscriptions = [];\n    // Return a function to unsubscribe from the BehaviorSubject\n    subscription.unsubscribe = function () {\n        return unsubscribe(subscription, subscribers, callback);\n    };\n    subscription.add = (sub) => {\n        subscription.subscriptions.push(sub);\n        return subscription;\n    };\n    subscription.next = (value) => {\n        callback(value, subscription);\n    };\n    return subscription;\n}\nexport function runPipedMethods(value, methods, onComplete) {\n    const cloneMethods = [...methods];\n    const firstMethod = cloneMethods.shift();\n    const next = (newValue) => {\n        if (cloneMethods.length) {\n            return runPipedMethods(newValue, cloneMethods, onComplete);\n        }\n        onComplete(newValue);\n    };\n    let handler = next;\n    const setHandler = (x) => handler = x;\n    const pipeUtils = { setHandler, next };\n    const methodResponse = firstMethod(value, pipeUtils);\n    handler(methodResponse);\n}\nfunction unsubscribe(subscription, subscribers, callback) {\n    removeSubFromArray(subscribers, callback); // each will be called when update comes in\n    const valSub = Subject.globalSubCount$;\n    Subject.globalSubCount$.next(valSub.value - 1);\n    // any double unsubscribes will be ignored\n    subscription.unsubscribe = () => subscription;\n    // unsubscribe from any combined subjects\n    const subscriptions = subscription.subscriptions;\n    for (const sub of subscriptions) {\n        sub.unsubscribe();\n    }\n    return subscription;\n}\n//# sourceMappingURL=subject.utils.js.map","import { isSubjectInstance } from '../isInstance.js';\nimport { combineLatest } from './combineLatest.function.js';\nimport { getSubscription, runPipedMethods } from './subject.utils.js';\nexport class Subject {\n    value;\n    onSubscription;\n    // private?\n    methods = [];\n    isSubject = true;\n    // private?\n    subscribers = [];\n    subscribeWith;\n    constructor(value, \n    // private? - only used by extending classes\n    onSubscription) {\n        this.value = value;\n        this.onSubscription = onSubscription;\n        // defineValueOn(this)\n    }\n    subscribe(callback) {\n        const subscription = getSubscription(this, callback, this.subscribers);\n        // are we within a pipe?\n        const subscribeWith = this.subscribeWith;\n        if (subscribeWith) {\n            // are we in a pipe?\n            if (this.methods.length) {\n                const orgCallback = callback;\n                callback = (value) => {\n                    runPipedMethods(value, this.methods, lastValue => orgCallback(lastValue, subscription));\n                };\n            }\n            return subscribeWith(callback);\n        }\n        this.subscribers.push(subscription);\n        if (this.onSubscription) {\n            this.onSubscription(subscription);\n        }\n        return subscription;\n    }\n    next(value) {\n        this.value = value;\n        this.emit();\n    }\n    set = this.next.bind(this);\n    emit() {\n        const value = this.value;\n        // Notify all subscribers with the new value\n        // const subs = [...this.subscribers] // subs may change as we call callbacks\n        const subs = this.subscribers; // subs may change as we call callbacks\n        // const length = subs.length\n        for (const sub of subs) {\n            sub.callback(value, sub);\n        }\n    }\n    toPromise() {\n        return new Promise(res => {\n            this.subscribe((x, subscription) => {\n                subscription.unsubscribe();\n                res(x);\n            });\n        });\n    }\n    /** like toPromise but faster */\n    toCallback(callback) {\n        const subscription = this.subscribe((x, runtimeSub) => {\n            const tagJsUnsub = runtimeSub?.unsubscribe;\n            if (tagJsUnsub) {\n                tagJsUnsub(); // its from taggedjs\n            }\n            else {\n                setTimeout(() => subscription.unsubscribe(), 0);\n            }\n            callback(x);\n        });\n        return this;\n    }\n    pipe(...operations) {\n        const subject = new Subject(this.value);\n        subject.setMethods(operations);\n        subject.subscribeWith = (x) => this.subscribe(x);\n        subject.next = x => this.next(x);\n        return subject;\n    }\n    setMethods(operations) {\n        this.methods = operations;\n    }\n    static all(args) {\n        const switched = args.map(arg => {\n            if (isSubjectInstance(arg))\n                return arg;\n            // Call the callback immediately with the current value\n            const x = new Subject(arg, subscription => {\n                subscription.next(arg);\n                return subscription;\n            });\n            return x;\n        });\n        return combineLatest(switched);\n    }\n    static globalSubCount$ = new Subject(0); // for ease of debugging}\n}\nexport class Subjective extends Subject {\n    value;\n    onSubscription;\n    _value;\n    constructor(value, \n    // private?\n    onSubscription) {\n        super(value, onSubscription);\n        this.value = value;\n        this.onSubscription = onSubscription;\n        this._value = value;\n        defineValueOn(this);\n    }\n    next(value) {\n        this._value = value;\n        this.emit();\n    }\n    emit() {\n        const value = this._value;\n        // Notify all subscribers with the new value\n        // const subs = [...this.subscribers] // subs may change as we call callbacks\n        const subs = this.subscribers; // subs may change as we call callbacks\n        // const length = subs.length\n        for (const sub of subs) {\n            sub.callback(value, sub);\n        }\n    }\n}\nexport function defineValueOn(subject) {\n    Object.defineProperty(subject, 'value', {\n        // supports subject.value = x\n        set(value) {\n            subject._value = value;\n            subject.emit();\n        },\n        // supports subject.value\n        get() {\n            return subject._value;\n        }\n    });\n}\n//# sourceMappingURL=Subject.class.js.map","import { Subject } from './Subject.class.js';\nexport function combineLatest(subjects) {\n    const output = new Subject();\n    const subscribe = (callback) => {\n        const valuesSeen = [];\n        const values = [];\n        const setValue = (x, index) => {\n            valuesSeen[index] = true;\n            values[index] = x;\n            const countMatched = valuesSeen.length === subjects.length;\n            if (!countMatched) {\n                return;\n            }\n            for (const item of valuesSeen) {\n                if (!item) {\n                    return;\n                }\n            }\n            // everyone has reported values\n            callback(values, subscription);\n        };\n        const clones = [...subjects];\n        const firstSub = clones.shift();\n        const subscription = firstSub.subscribe(x => setValue(x, 0));\n        const subscriptions = clones.map((subject, index) => {\n            return subject.subscribe(x => setValue(x, index + 1));\n        });\n        subscription.subscriptions = subscriptions;\n        return subscription;\n    };\n    output.subscribeWith = subscribe;\n    return output;\n}\n//# sourceMappingURL=combineLatest.function.js.map","import { Subject, defineValueOn } from './Subject.class.js';\nexport class ValueSubject extends Subject {\n    value;\n    constructor(value) {\n        super(value);\n        this.value = value;\n    }\n    subscribe(callback) {\n        const subscription = super.subscribe(callback);\n        // Call the callback immediately with the current value\n        callback(this.value, subscription);\n        return subscription;\n    }\n}\nexport class ValueSubjective extends Subject {\n    value;\n    constructor(value) {\n        super(value);\n        this.value = value;\n        this._value = value;\n        defineValueOn(this); // if you extend this AND have a constructor, you must call this in your extension\n    }\n    subscribe(callback) {\n        const subscription = super.subscribe(callback);\n        // Call the callback immediately with the current value\n        callback(this._value, subscription);\n        return subscription;\n    }\n}\n//# sourceMappingURL=ValueSubject.js.map","import { setUseMemory } from './setUseMemory.object.js';\n/** Used for variables that need to remain the same variable during render passes */\nexport function state(defaultValue) {\n    return setUseMemory.stateConfig.handlers.handler(defaultValue);\n}\n//# sourceMappingURL=state.function.js.map","import { setUseMemory } from './setUseMemory.object.js';\nimport { state } from './state.function.js';\nexport function firstStatesHandler(setter) {\n    const config = setUseMemory.stateConfig;\n    // State first time run\n    config.states[config.statesIndex] = setter;\n    const support = config.support;\n    support.states[config.statesIndex] = setter;\n    ++config.statesIndex;\n    return setter((...args) => {\n        state(args);\n        return args;\n    });\n}\nexport function reStatesHandler(setter) {\n    const config = setUseMemory.stateConfig;\n    const support = config.support;\n    const statesIndex = config.statesIndex;\n    const prevSupport = config.prevSupport;\n    const oldStates = prevSupport?.states[statesIndex];\n    const lastValues = [];\n    const regetter = (...args) => {\n        lastValues.push(args);\n        return args;\n    };\n    oldStates(regetter);\n    let index = 0;\n    const resetter = (...args) => {\n        // state(value) // fake call and do not care about result\n        // fake state() having been called\n        config.stateArray.push({\n            get: () => args,\n            defaultValue: args,\n        });\n        const lastValue = lastValues[index];\n        ++index;\n        return lastValue;\n    };\n    support.states[config.statesIndex] = setter;\n    ++config.statesIndex;\n    return setter(resetter);\n}\n//# sourceMappingURL=states.utils.js.map","import { runFirstState, runRestate } from './stateHandlers.js';\nimport { firstStatesHandler, reStatesHandler } from './states.utils.js';\nexport function initState(support, config) {\n    config.handlers.handler = runFirstState;\n    config.handlers.statesHandler = firstStatesHandler;\n    config.rearray = [];\n    config.stateArray = [];\n    config.states = [];\n    config.statesIndex = 0;\n    config.support = support;\n}\nexport function reState(support, config, prevState, prevStates) {\n    // set previous state memory\n    config.rearray = prevState;\n    config.stateArray = [];\n    config.states = prevStates;\n    config.statesIndex = 0;\n    config.handlers.handler = runRestate;\n    config.handlers.statesHandler = reStatesHandler;\n    config.support = support;\n}\nexport class StateEchoBack {\n}\n// sends a fake value and then sets back to received value\nexport function getCallbackValue(callback) {\n    const oldState = callback(StateEchoBack); // get value and set to undefined\n    const [value] = oldState;\n    const [checkValue] = callback(value); // set back to original value\n    return [value, checkValue];\n}\n//# sourceMappingURL=state.utils.js.map","import { getCallbackValue } from './state.utils.js';\nexport function getStateValue(state) {\n    const callback = state.callback;\n    if (!callback) {\n        return state.defaultValue;\n    }\n    const [value] = getCallbackValue(callback);\n    return value;\n}\n//# sourceMappingURL=getStateValue.function.js.map","import { setUseMemory } from './setUseMemory.object.js';\nimport { getStateValue } from './getStateValue.function.js';\nimport { BasicTypes } from '../tag/ValueTypes.enum.js';\nexport function runRestate() {\n    const config = setUseMemory.stateConfig;\n    const rearray = config.rearray;\n    const restate = rearray[config.stateArray.length];\n    config.stateArray.push(restate);\n    return restate.defaultValue;\n}\nexport function runFirstState(defaultValue) {\n    const config = setUseMemory.stateConfig;\n    // State first time run\n    let initValue = defaultValue;\n    if (typeof (defaultValue) === BasicTypes.function) {\n        initValue = defaultValue();\n    }\n    // the state is actually intended to be a function\n    if (typeof (initValue) === BasicTypes.function) {\n        const original = initValue;\n        initValue = function initValueFun(...args) {\n            const result = original(...args);\n            return result;\n        };\n        initValue.original = original;\n    }\n    const push = {\n        get: function pushState() {\n            return getStateValue(push);\n        },\n        defaultValue: initValue,\n    };\n    config.stateArray.push(push);\n    return initValue;\n}\n//# sourceMappingURL=stateHandlers.js.map","import { firstStatesHandler } from './states.utils.js';\nimport { runFirstState } from './stateHandlers.js';\nexport const setUseMemory = {\n    stateConfig: {\n        stateArray: [], // state memory on the first render\n        version: Date.now(),\n        handlers: {\n            handler: runFirstState,\n            statesHandler: firstStatesHandler,\n        }\n    },\n};\n//# sourceMappingURL=setUseMemory.object.js.map","export function syncStates(stateFrom, stateTo, oldStates, statesFrom) {\n    // sync state()\n    for (let index = stateFrom.length - 1; index >= 0; --index) {\n        const fromValue = stateFrom[index].get();\n        const callback = stateTo[index].callback; // is it a let state?\n        if (!callback) {\n            continue;\n        }\n        callback(fromValue); // set the value\n    }\n    for (let index = statesFrom.length - 1; index >= 0; --index) {\n        const oldValues = [];\n        const oldGetCallback = (...args) => {\n            oldValues.push(args);\n            return args;\n        };\n        // trigger getting all old values\n        statesFrom[index](oldGetCallback);\n        let getIndex = 0;\n        const newSetCallback = (_) => {\n            return oldValues[getIndex++];\n        };\n        // trigger setting updated values\n        oldStates[index](newSetCallback);\n    }\n}\n//# sourceMappingURL=syncStates.function.js.map","import { ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUseMemory } from './setUseMemory.object.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/**\n * When an item in watch array changes, callback function will be triggered.\n * Triggers on initial watch setup. TIP: try watch.noInit()\n * @param currentValues T[]\n * @param callback WatchCallback\n * @returns T[]\n */\nexport const watch = ((currentValues, callback) => {\n    return setupWatch(currentValues, callback);\n});\nconst defaultFinally = (x) => x;\nfunction newWatch(setup) {\n    const method = (currentValues, callback) => {\n        return setupWatch(currentValues, callback, setup);\n    };\n    method.setup = setup;\n    defineOnMethod(() => method, method);\n    return method;\n}\n/**\n * puts above functionality together\n * @param currentValues values being watched\n * @param callback (currentValue, previousValues) => resolveToValue\n * @param param2\n * @returns\n */\nconst setupWatch = (currentValues, callback, { init, before, final = defaultFinally, } = {}) => {\n    const previous = state({\n        pastResult: undefined,\n        values: undefined,\n    });\n    const previousValues = previous.values;\n    // First time running watch?\n    if (previousValues === undefined) {\n        if (before && !before(currentValues)) {\n            previous.values = currentValues;\n            return previous.pastResult; // do not continue\n        }\n        const castedInit = init || callback;\n        const result = castedInit(currentValues, previousValues);\n        previous.pastResult = final(result);\n        previous.values = currentValues;\n        return previous.pastResult;\n    }\n    const allExact = currentValues.every((item, index) => item === previousValues[index]);\n    if (allExact) {\n        return previous.pastResult;\n    }\n    if (before && !before(currentValues)) {\n        previous.values = currentValues;\n        return previous.pastResult; // do not continue\n    }\n    const result = callback(currentValues, previousValues);\n    previous.pastResult = final(result);\n    previousValues.length = 0;\n    previousValues.push(...currentValues);\n    return previous.pastResult;\n};\nfunction defineOnMethod(getWatch, attachTo) {\n    Object.defineProperty(attachTo, 'noInit', {\n        get() {\n            const watch = getWatch();\n            watch.setup.init = () => undefined;\n            return watch;\n        },\n    });\n    Object.defineProperty(attachTo, 'asSubject', {\n        get() {\n            const oldWatch = getWatch();\n            const firstSupport = state(() => getSupportInCycle());\n            const subject = state(() => new ValueSubject(undefined));\n            const oldState = state(() => ({\n                stateArray: setUseMemory.stateConfig.stateArray,\n                states: setUseMemory.stateConfig.states,\n            }));\n            const method = (currentValues, callback) => {\n                setupWatch(currentValues, (currentValues, previousValues) => {\n                    const nowSupport = getSupportInCycle();\n                    const setTo = callback(currentValues, previousValues);\n                    if (nowSupport !== firstSupport) {\n                        const newestState = oldState.stateArray;\n                        const global = firstSupport.subject.global;\n                        const oldest = global.oldest;\n                        const oldestState = oldest.state;\n                        const newStates = oldState.states;\n                        const oldStates = oldest.states;\n                        syncStates(newestState, oldestState, newStates, oldStates);\n                    }\n                    subject.next(setTo);\n                }, oldWatch.setup);\n                return subject;\n            };\n            method.setup = oldWatch.setup;\n            defineOnMethod(() => method, method);\n            return method;\n        },\n    });\n    Object.defineProperty(attachTo, 'truthy', {\n        get() {\n            const watch = getWatch();\n            watch.setup.before = (currentValues) => currentValues.every(x => x);\n            return watch;\n        },\n    });\n    return attachTo;\n}\ndefineOnMethod(() => newWatch({}), watch);\n//# sourceMappingURL=watch.function.js.map","import { Subject, ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUseMemory } from './setUseMemory.object.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/** Create a Subject that on updates will sync state values to keep chained functions using latest variables */\nexport function subject(initialValue) {\n    const support = getSupportInCycle();\n    if (support) {\n        return state(() => new Subject(initialValue));\n    }\n    return new Subject(initialValue);\n}\nsubject._value = (value) => {\n    const oldestState = state(function subjectValue() {\n        return {\n            stateArray: setUseMemory.stateConfig.stateArray,\n            states: setUseMemory.stateConfig.states,\n        };\n    });\n    const nowSupport = getSupportInCycle();\n    return state(function subjectValue() {\n        const subject = new ValueSubject(value).pipe(x => {\n            syncStates(nowSupport.state, oldestState.stateArray, nowSupport.states, oldestState.states);\n            return x;\n        });\n        return subject;\n    });\n};\nfunction all(args) {\n    const oldestState = state(() => ({\n        stateArray: setUseMemory.stateConfig.stateArray,\n        states: setUseMemory.stateConfig.states,\n    }));\n    const nowSupport = getSupportInCycle();\n    return Subject.all(args).pipe(x => {\n        syncStates(nowSupport.state, oldestState.stateArray, nowSupport.states, oldestState.states);\n        return x;\n    });\n}\nsubject.all = all;\n//# sourceMappingURL=subject.function.js.map","import { setUseMemory } from './setUseMemory.object.js';\n/** Used for variables that need to remain the same variable during render passes. If defaultValue is a function it is called only once, its return value is first state, and let value can changed */\nexport function states(setter) {\n    const config = setUseMemory.stateConfig;\n    return config.handlers.statesHandler(setter);\n}\n//# sourceMappingURL=states.function.js.map","import { signal } from '../subject/signal.function.js';\nimport { states } from './states.function.js';\nimport { watch } from './watch.function.js';\n/**\n * Enables the ability to maintain a change to a props value until the prop itself changes\n * @param prop typically the name of an existing prop\n * @returns immediately call the returned function: letProp(y)(x => [y, y=x])\n */\nexport function letProp(setter) {\n    const propStates2 = signal([]);\n    const passes = signal(0);\n    const passedOn = signal(0);\n    let nowValues = [];\n    let passed = 0;\n    passedOn.value = passes.value;\n    setter((...values) => {\n        nowValues = values;\n        return values;\n    });\n    // When the watched variable changes, then the local prop variable has to update\n    watch(nowValues, () => {\n        ++passed; // first time values and changed values cause new state\n        propStates2.value = nowValues;\n        setter(() => nowValues);\n    });\n    // called and only used during sync'ing processes\n    states(() => {\n        if (passed) {\n            setter((...values) => {\n                propStates2.value = values;\n                if (passes != passedOn) {\n                    return propStates2.value;\n                }\n                return values; // propStates2.value\n            });\n            passedOn.value = passes.value;\n            ++passes.value;\n            return;\n        }\n        setter(() => propStates2.value);\n    });\n    ++passed;\n    return propStates2.value;\n}\n//# sourceMappingURL=letProp.function.js.map","export class TagError extends Error {\n    details;\n    constructor(message, errorCode, details = {}) {\n        super(message);\n        this.name = TagError.name;\n        this.details = { ...details, errorCode };\n    }\n}\nexport class ArrayNoKeyError extends TagError {\n    constructor(message, details) {\n        super(message, 'array-no-key-error', details);\n        this.name = ArrayNoKeyError.name;\n    }\n}\nexport class StateMismatchError extends TagError {\n    constructor(message, details) {\n        super(message, 'state-mismatch-error', details);\n        this.name = StateMismatchError.name;\n    }\n}\nexport class SyncCallbackError extends TagError {\n    constructor(message, details) {\n        super(message, 'sync-callback-error', details);\n        this.name = SyncCallbackError.name;\n    }\n}\n//# sourceMappingURL=errors.js.map","import { isArray, isFunction } from './isInstance.js';\nimport { BasicTypes } from './tag/ValueTypes.enum.js';\nexport function deepClone(obj, maxDepth) {\n    // return makeDeepClone(obj, new WeakMap())\n    return makeDeepClone(obj, maxDepth);\n}\nfunction makeDeepClone(obj, \n// visited: WeakMap<any, any>\nmaxDepth) {\n    // If obj is a primitive type or null, return it directly\n    if (obj === null || typeof obj !== BasicTypes.object) {\n        return obj;\n    }\n    // If obj is already visited, return the cloned reference\n    /*\n    if (visited.has(obj)) {\n      return visited.get(obj)\n    }\n    */\n    if (maxDepth < 0) {\n        return obj;\n    }\n    // Handle special cases like Date and RegExp\n    if (obj instanceof Date) {\n        return new Date(obj);\n    }\n    if (obj instanceof RegExp) {\n        return new RegExp(obj);\n    }\n    // Create an empty object or array with the same prototype\n    const clone = isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n    // Clone each property or element of the object or array\n    if (isArray(obj)) {\n        for (let i = 0; i < obj.length; i++) {\n            clone[i] = makeDeepClone(obj[i], maxDepth - 1);\n        }\n    }\n    else {\n        for (const key in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                clone[key] = makeDeepClone(obj[key], maxDepth - 1);\n            }\n        }\n    }\n    return clone;\n}\nexport function deepEqual(obj1, obj2, maxDepth) {\n    return isDeepEqual(obj1, obj2, maxDepth);\n}\nfunction isDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    const directEqual = obj1 === obj2;\n    if (directEqual || isSameFunctions(obj1, obj2)) {\n        return true;\n    }\n    // If obj is already visited, return the cloned reference\n    // if (visited.has(obj1)) {\n    if (maxDepth < 0) {\n        return true;\n    }\n    if (typeof obj1 === BasicTypes.object && typeof obj2 === BasicTypes.object) {\n        // both are dates and were already determined not the same\n        if (obj1 instanceof Date && obj2 instanceof Date) {\n            return obj1.getTime() === obj2.getTime();\n        }\n        // Register the cloned object to avoid cyclic references\n        // visited.set(obj1, 0)\n        // Check if obj1 and obj2 are both arrays\n        if (isArray(obj1) && isArray(obj2)) {\n            return isArrayDeepEqual(obj1, obj2, maxDepth - 1);\n        }\n        else if (isArray(obj1) || isArray(obj2)) {\n            // One is an array, and the other is not\n            return false;\n        }\n        // return isObjectDeepEqual(obj1, obj2, visited)\n        return isObjectDeepEqual(obj1, obj2, maxDepth - 1);\n    }\n    return false;\n}\nfunction isObjectDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length === 0 && keys2.length === 0) {\n        return true;\n    }\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const keyFound = keys2.includes(key);\n        if (!keyFound || !isDeepEqual(obj1[key], obj2[key], maxDepth - 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isArrayDeepEqual(obj1, obj2, maxDepth) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    for (let i = 0; i < obj1.length; i++) {\n        if (!isDeepEqual(obj1[i], obj2[i], maxDepth - 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isSameFunctions(fn0, fn1) {\n    const bothFunction = isFunction(fn0) && isFunction(fn1);\n    return bothFunction && fn0.toString() === fn1.toString();\n}\n//# sourceMappingURL=deepFunctions.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nexport function getTemplaterResult(propWatch, props) {\n    const templater = {\n        propWatch,\n        props,\n        tagJsType: ValueTypes.templater,\n        key: function keyTemplate(arrayValue) {\n            templater.arrayValue = arrayValue;\n            return templater;\n        }\n    };\n    return templater;\n}\n//# sourceMappingURL=getTemplaterResult.function.js.map","export const tags = [];\n//# sourceMappingURL=tag.utils.js.map","import { isInlineHtml, renderInlineHtml } from './tag/render/renderSupport.function.js';\nimport { renderExistingReadyTag } from './tag/render/renderExistingTag.function.js';\nimport { getSupportInCycle } from './tag/getSupportInCycle.function.js';\nimport { deepCompareDepth } from './tag/hasSupportChanged.function.js';\nimport { isArray, isStaticTag } from './isInstance.js';\nimport { BasicTypes } from './tag/ValueTypes.enum.js';\nimport { setUseMemory } from './state/index.js';\nexport function castProps(props, newSupport, depth) {\n    return props.map(prop => alterProp(prop, newSupport.ownerSupport, newSupport, depth));\n}\n/* Used to rewrite props that are functions. When they are called it should cause parent rendering */\nexport function alterProp(prop, ownerSupport, newSupport, depth) {\n    if (isStaticTag(prop) || !prop) {\n        return prop;\n    }\n    if (!ownerSupport) {\n        return prop; // no one above me\n    }\n    return checkProp(prop, ownerSupport, newSupport, depth);\n}\nexport function checkProp(value, ownerSupport, newSupport, depth) {\n    if (!value) {\n        return value;\n    }\n    if (value.tagJsType) {\n        return value;\n    }\n    if (typeof (value) === BasicTypes.function) {\n        return getPropWrap(value, ownerSupport);\n    }\n    if (depth === deepCompareDepth) {\n        return value;\n    }\n    const skip = isSkipPropValue(value);\n    if (skip) {\n        return value; // no children to crawl through\n    }\n    if (isArray(value)) {\n        return checkArrayProp(value, newSupport, ownerSupport, depth);\n    }\n    return checkObjectProp(value, newSupport, ownerSupport, depth);\n}\nfunction checkArrayProp(value, newSupport, ownerSupport, depth) {\n    for (let index = value.length - 1; index >= 0; --index) {\n        const subValue = value[index];\n        value[index] = checkProp(subValue, ownerSupport, newSupport, depth + 1);\n        if (typeof (subValue) === BasicTypes.function) {\n            if (subValue.mem) {\n                continue;\n            }\n            afterCheckProp(depth + 1, index, subValue, value, newSupport);\n        }\n    }\n    return value;\n}\nfunction checkObjectProp(value, newSupport, ownerSupport, depth) {\n    const keys = Object.keys(value);\n    for (const name of keys) {\n        const subValue = value[name];\n        const result = checkProp(subValue, ownerSupport, newSupport, depth + 1);\n        const newSubValue = value[name];\n        if (newSubValue === result) {\n            continue;\n        }\n        const getset = Object.getOwnPropertyDescriptor(value, name);\n        const hasSetter = getset?.get || getset?.set;\n        if (hasSetter) {\n            continue;\n        }\n        value[name] = result;\n        if (typeof (result) === BasicTypes.function) {\n            if (subValue.mem) {\n                continue;\n            }\n            afterCheckProp(depth + 1, name, subValue, value, newSupport);\n        }\n    }\n    return value;\n}\nfunction afterCheckProp(depth, index, originalValue, newProp, newSupport) {\n    // restore object to have original function on destroy\n    if (depth > 0) {\n        const global = newSupport.subject.global;\n        newProp[index].subscription = global.destroy$.toCallback(function alterCheckProcessor() {\n            newProp[index] = originalValue;\n        });\n    }\n}\nexport function getPropWrap(value, ownerSupport) {\n    const already = value.mem;\n    // already previously converted by a parent?\n    if (already) {\n        return value;\n    }\n    const wrap = function wrapRunner(...args) {\n        return wrap.toCall(...args);\n    }; // what gets called can switch over parent state changes\n    wrap.original = value;\n    wrap.mem = value;\n    // Currently, call self but over parent state changes, I may need to call a newer parent tag owner\n    wrap.toCall = function toCallRunner(...args) {\n        return callbackPropOwner(wrap.mem, args, ownerSupport);\n    };\n    // copy data properties that maybe on source function\n    Object.assign(wrap, value);\n    return wrap;\n}\n/** Function shared by alterProps() and updateExistingTagComponent... TODO: May want to have to functions to reduce cycle checking?  */\nexport function callbackPropOwner(toCall, callWith, ownerSupport) {\n    const global = ownerSupport.subject.global;\n    const newest = global?.newest || ownerSupport;\n    const supportInCycle = getSupportInCycle();\n    const noCycle = supportInCycle === undefined;\n    const callbackResult = toCall(...callWith);\n    const run = function propCallbackProcessor() {\n        const global = newest.subject.global;\n        // are we in a rendering cycle? then its being called by alterProps\n        if (noCycle === false) {\n            const allMatched = global.locked === true;\n            if (allMatched) {\n                return callbackResult; // owner did not change\n            }\n        }\n        safeRenderSupport(newest, ownerSupport);\n        return callbackResult;\n    };\n    if (noCycle) {\n        return run();\n    }\n    setUseMemory.tagClosed$.toCallback(run);\n    return callbackResult;\n}\nexport function isSkipPropValue(value) {\n    return typeof (value) !== BasicTypes.object || !value || value.tagJsType;\n}\nexport function safeRenderSupport(newest, ownerSupport) {\n    const subject = newest.subject;\n    const isInline = isInlineHtml(newest.templater);\n    if (isInline) {\n        const result = renderInlineHtml(ownerSupport, newest);\n        // TODO: below maybe never true\n        /*\n        const global = subject.global as TagGlobal\n        if(global) {\n          delete global.locked\n        }\n        */\n        return result;\n    }\n    const global = subject.global;\n    global.locked = true;\n    renderExistingReadyTag(global.newest, newest, ownerSupport, subject);\n    delete global.locked;\n}\n//# sourceMappingURL=alterProp.function.js.map","import { BasicTypes, ValueTypes } from './ValueTypes.enum.js';\nimport { setUseMemory } from '../state/setUseMemory.object.js';\nexport function executeWrap(templater, result, useSupport, castedProps) {\n    const originalFunction = result.original; // (innerTagWrap as any).original as unknown as TagComponent\n    const stateless = templater.tagJsType === ValueTypes.stateRender;\n    let tag;\n    if (stateless) {\n        tag = templater();\n    }\n    else {\n        tag = originalFunction(...castedProps);\n        // CALL ORIGINAL COMPONENT FUNCTION\n        if (typeof (tag) === BasicTypes.function) {\n            tag = tag();\n        }\n    }\n    tag.templater = templater;\n    templater.tag = tag;\n    const config = setUseMemory.stateConfig;\n    useSupport.state = config.stateArray;\n    useSupport.states = config.states;\n    return useSupport;\n}\n//# sourceMappingURL=executeWrap.function.js.map","import { deepClone } from '../deepFunctions.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { isArray } from '../isInstance.js';\nexport function cloneValueArray(values) {\n    return values.map(cloneTagJsValue);\n}\n/** clones only what is needed to compare differences later */\nexport function cloneTagJsValue(value, maxDepth) {\n    const tag = value;\n    const tagJsType = value?.tagJsType;\n    if (tagJsType) {\n        switch (tagJsType) {\n            case ValueTypes.stateRender:\n                return undefined;\n            case ValueTypes.dom:\n            case ValueTypes.tag:\n            case ValueTypes.templater:\n                return cloneValueArray(tag.values);\n        }\n    }\n    if (isArray(value)) {\n        return cloneValueArray(tag);\n    }\n    return deepClone(value, maxDepth);\n}\n//# sourceMappingURL=cloneValueArray.function.js.map","import { clonePropsBy } from './clonePropsBy.function.js';\nimport { Subject } from '../subject/Subject.class.js';\n/** used only for apps, otherwise use Support */\nexport function getBaseSupport(templater, subject, castedProps) {\n    const baseSupport = {\n        templater,\n        subject,\n        castedProps,\n        appSupport: undefined,\n    };\n    // baseSupport.appSupport = baseSupport\n    const global = subject.global;\n    global.blocked = [];\n    global.destroy$ = new Subject();\n    return baseSupport;\n}\nexport function upgradeBaseToSupport(templater, // at runtime rendering of a tag, it needs to be married to a new Support()\nsupport, appSupport, castedProps) {\n    ;\n    support.state = [];\n    support.states = [];\n    support.appSupport = appSupport;\n    const props = templater.props; // natural props\n    if (props) {\n        support.propsConfig = clonePropsBy(support, props, castedProps);\n    }\n    return support;\n}\nexport function getHtmlSupport(templater, // at runtime rendering of a tag, it needs to be married to a new Support()\nownerSupport, appSupport, subject, castedProps) {\n    const support = {\n        templater,\n        subject,\n        castedProps,\n        appSupport: undefined,\n    };\n    support.ownerSupport = ownerSupport;\n    support.appSupport = appSupport;\n    return support;\n}\nexport function getSupport(templater, // at runtime rendering of a tag, it needs to be married to a new Support()\nownerSupport, appSupport, subject, castedProps) {\n    const support = getBaseSupport(templater, subject, castedProps);\n    support.ownerSupport = ownerSupport;\n    return upgradeBaseToSupport(templater, support, appSupport, castedProps);\n}\n//# sourceMappingURL=getSupport.function.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nimport { cloneTagJsValue } from './cloneValueArray.function.js';\nimport { deepCompareDepth, shallowCompareDepth } from './hasSupportChanged.function.js';\nimport { PropWatches } from './tag.js';\nexport function clonePropsBy(support, props, castProps) {\n    const templater = support.templater;\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        return;\n    }\n    switch (templater.propWatch) {\n        case PropWatches.IMMUTABLE:\n            return support.propsConfig = {\n                latest: props,\n                castProps,\n            };\n        case PropWatches.SHALLOW:\n            return support.propsConfig = {\n                latest: props.map(x => cloneTagJsValue(x, shallowCompareDepth)),\n                castProps,\n            };\n    }\n    return support.propsConfig = {\n        latest: props.map(props => cloneTagJsValue(props, deepCompareDepth)),\n        castProps,\n    };\n}\n//# sourceMappingURL=clonePropsBy.function.js.map","import { castProps } from '../alterProp.function.js';\nimport { syncFunctionProps } from './update/updateExistingTagComponent.function.js';\nimport { executeWrap } from './executeWrap.function.js';\nimport { PropWatches } from './tag.js';\nimport { deepCompareDepth, shallowCompareDepth } from './hasSupportChanged.function.js';\nimport { getSupport } from './getSupport.function.js';\n/** creates/returns a function that when called then calls the original component function\n * Gets used as templater.wrapper()\n */\nexport function getTagWrap(templater, result) {\n    // this function gets called by taggedjs\n    const wrapper = function tagFunWrap(newSupport, subject, lastSupport // subject.global.newest\n    ) {\n        // wrap any prop functions that are passed in\n        const castedProps = getCastedProps(templater, newSupport, lastSupport);\n        const ownerSupport = newSupport.ownerSupport;\n        const useSupport = getSupport(templater, ownerSupport, newSupport.appSupport, // ownerSupport.appSupport as AnySupport,\n        subject, castedProps);\n        return executeWrap(templater, result, useSupport, castedProps);\n    };\n    return wrapper;\n}\nexport function getCastedProps(templater, newSupport, lastSupport) {\n    const maxDepth = templater.propWatch === PropWatches.DEEP ? deepCompareDepth : shallowCompareDepth;\n    const props = templater.props;\n    const propsConfig = newSupport.propsConfig;\n    // When defined, this must be an update where my new props have already been made for me\n    let preCastedProps = propsConfig.castProps;\n    const lastPropsConfig = lastSupport?.propsConfig;\n    const lastCastProps = lastPropsConfig?.castProps;\n    if (lastCastProps) {\n        propsConfig.castProps = lastCastProps;\n        preCastedProps = syncFunctionProps(newSupport, lastSupport, lastSupport.ownerSupport, props, maxDepth);\n    }\n    const castedProps = preCastedProps || castProps(props, newSupport, 0);\n    return castedProps;\n}\n//# sourceMappingURL=getTagWrap.function.js.map","// taggedjs-no-compile\nimport { setUseMemory } from '../state/index.js';\nimport { getTemplaterResult } from './getTemplaterResult.function.js';\nimport { tags } from './tag.utils.js';\nimport { getTagWrap } from './getTagWrap.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nlet tagCount = 0;\nexport var PropWatches;\n(function (PropWatches) {\n    PropWatches[\"DEEP\"] = \"deep\";\n    PropWatches[\"SHALLOW\"] = \"shallow\";\n    PropWatches[\"NONE\"] = \"none\";\n    PropWatches[\"IMMUTABLE\"] = \"immutable\";\n})(PropWatches || (PropWatches = {}));\n/** Wraps a function tag in a state manager and calls wrapped function on event cycles\n * For single rendering, no event cycles, use: tag.renderOnce = (props) => html``\n */\nexport function tag(tagComponent, propWatch = PropWatches.SHALLOW) {\n    /** function developer triggers */\n    const parentWrap = function tagWrapper(...props) {\n        const templater = getTemplaterResult(propWatch, props);\n        templater.tagJsType = ValueTypes.tagComponent;\n        // attach memory back to original function that contains developer display logic\n        const innerTagWrap = getTagWrap(templater, parentWrap);\n        innerTagWrap.original = tagComponent;\n        /*\n            if(!innerTagWrap.parentWrap) {\n              innerTagWrap.parentWrap = parentWrap as TagWrapper<unknown>\n            }\n        */\n        templater.wrapper = innerTagWrap;\n        return templater;\n    }; // we override the function provided and pretend original is what's returned\n    const tag = tagComponent;\n    parentWrap.original = tagComponent;\n    // group tags together and have hmr pickup\n    tag.tags = tags;\n    tag.setUse = setUseMemory;\n    tag.ValueTypes = ValueTypes;\n    tag.tagIndex = tagCount++; // needed for things like HMR\n    tags.push(parentWrap);\n    return parentWrap;\n}\ntag.renderOnce = renderOnceFn;\nfunction renderOnceFn() {\n    throw new Error('Do not call tag.renderOnce as a function but instead set it as: `(props) => tag.renderOnce = () => html`` `');\n}\n/** Used to create variable scoping when calling a function that lives within a prop container function */\nfunction tagUseFn() {\n    throw new Error('Do not call tag.use as a function but instead set it as: `(props) => tag.use = (use) => html`` `');\n}\n/** deprecated */\n;\ntag.state = tagUseFn;\ntag.use = tagUseFn;\ntag.route = routeFn;\nfunction routeFn(_routeProps) {\n    throw new Error('Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n}\n/** Use to structure and define a browser tag route handler\n * Example: export default tag.route = (routeProps: RouteProps) => (state) => html``\n */\n;\ntag.app = function (_routeTag) {\n    throw new Error('Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n};\ntag.deepPropWatch = tag;\ntag.immutableProps = function immutableProps(tagComponent) {\n    return tag(tagComponent, PropWatches.IMMUTABLE);\n};\ntag.watchProps = function watchProps(tagComponent) {\n    return tag(tagComponent, PropWatches.SHALLOW);\n};\n/* BELOW: Cast functions into setters with no getters */\nObject.defineProperty(tag, 'renderOnce', {\n    set(oneRenderFunction) {\n        oneRenderFunction.tagJsType = ValueTypes.renderOnce;\n    },\n});\n// TODO: deprecate this\nObject.defineProperty(tag, 'state', {\n    set(renderFunction) {\n        ;\n        renderFunction.original = {\n            setUse: setUseMemory,\n            tags,\n        };\n        renderFunction.tagJsType = ValueTypes.stateRender;\n    },\n});\nObject.defineProperty(tag, 'use', {\n    set(renderFunction) {\n        ;\n        renderFunction.original = {\n            setUse: setUseMemory,\n            tags,\n        };\n        renderFunction.tagJsType = ValueTypes.stateRender;\n    },\n});\n//# sourceMappingURL=tag.js.map","import { deepEqual } from '../deepFunctions.js';\nimport { isArray } from '../isInstance.js';\nimport { hasPropLengthsChanged } from './render/renderSupport.function.js';\nimport { PropWatches } from './tag.js';\nimport { BasicTypes } from './ValueTypes.enum.js';\nexport function hasSupportChanged(lastSupport, newTemplater) {\n    const latestProps = newTemplater.props;\n    const propsConfig = lastSupport.propsConfig;\n    const pastCloneProps = propsConfig.latest;\n    const propsChanged = hasPropChanges(latestProps, pastCloneProps, lastSupport.templater.propWatch);\n    return propsChanged;\n}\n/**\n *\n * @param props\n * @param pastCloneProps\n * @returns WHEN number then props have changed. WHEN false props have not changed\n */\nfunction hasPropChanges(props, // natural props\npastCloneProps, // previously cloned props\npropWatch) {\n    const hasLenChanged = hasPropLengthsChanged(props, pastCloneProps);\n    if (hasLenChanged) {\n        return 11;\n    }\n    switch (propWatch) {\n        case PropWatches.NONE:\n            return 1; // always render\n        case PropWatches.SHALLOW: // determining equal is same as immutable, its the previous cloning step thats different\n            return shallowPropMatch(props, pastCloneProps);\n        case PropWatches.IMMUTABLE:\n            return immutablePropMatch(props, pastCloneProps);\n    }\n    return deepPropChangeCompare(props, pastCloneProps);\n}\nfunction deepPropChangeCompare(props, pastCloneProps) {\n    // DEEP watch\n    let castedProps = props;\n    let castedPastProps = pastCloneProps;\n    castedProps = [...props];\n    castedPastProps = [...(pastCloneProps || [])];\n    const allFunctionsMatch = castedProps.every((value, index) => onePropCompare(value, index, castedProps, castedPastProps));\n    if (!allFunctionsMatch) {\n        return 7; // a change has been detected by function comparisons\n    }\n    return false;\n}\nexport function immutablePropMatch(props, pastCloneProps) {\n    // if every prop the same, then no changes\n    const len = props.length;\n    for (let index = 0; index < len; ++index) {\n        const prop = props[index];\n        const pastProp = pastCloneProps[index];\n        if (prop !== pastProp) {\n            return 2;\n        }\n    }\n    return false; // false means has not changed\n}\nexport function shallowPropMatch(props, pastCloneProps) {\n    // if every prop the same, then no changes\n    const len = props.length;\n    for (let index = 0; index < len; ++index) {\n        const prop = props[index];\n        const pastProp = pastCloneProps[index];\n        if (isArray(prop) && isArray(pastProp)) {\n            if (prop === pastProp) {\n                continue;\n            }\n            return 3.0; // not equal array\n        }\n        if (typeof (prop) === BasicTypes.function && typeof (pastProp) === BasicTypes.function) {\n            continue; // considered good\n        }\n        if (typeof (prop) === BasicTypes.object) {\n            if (typeof (pastCloneProps) === BasicTypes.object) {\n                const obEntries = Object.entries(prop);\n                for (const subItem of obEntries) {\n                    const result = objectItemMatches(subItem, pastProp);\n                    if (!result) {\n                        return 3.1;\n                    }\n                }\n            }\n            continue; // all sub objects matched\n        }\n        if (prop === pastProp) {\n            continue; // matched good\n        }\n        return 3.3; // not equal\n    }\n    return false; // false means has not changed\n}\nfunction onePropCompare(value, index, castedProps, castedPastProps) {\n    const compare = castedPastProps[index];\n    if (typeof (value) === BasicTypes.object) {\n        const subCastedProps = { ...value };\n        const subCompareProps = { ...compare || {} };\n        const matched = Object.entries(subCastedProps).every(([key, value]) => compareProps(value, subCompareProps[key], () => {\n            delete subCastedProps[key]; // its a function and not needed to be compared\n            delete subCompareProps[key]; // its a function and not needed to be compared\n        }));\n        return matched;\n    }\n    return compareProps(value, compare, () => {\n        castedProps.splice(index, 1);\n        castedPastProps.splice(index, 1);\n    });\n}\nexport const shallowCompareDepth = 3;\nexport const deepCompareDepth = 10;\n/** returning a number means true good comparison */\nfunction compareProps(value, compare, onDelete) {\n    if (!(typeof (value) === BasicTypes.function)) {\n        return deepEqual(value, compare, deepCompareDepth) ? 4 : false;\n    }\n    const compareFn = compare;\n    if (!(typeof (compareFn) === BasicTypes.function)) {\n        return false; // its a function now but was not before\n    }\n    // ensure we are comparing apples to apples as function get wrapped\n    const compareOriginal = compare?.original;\n    if (compareOriginal) {\n        compare = compareOriginal;\n    }\n    const original = value.original;\n    if (original) {\n        value = value.original;\n    }\n    const valueString = value.toString();\n    const compareString = compare.toString();\n    if (valueString === compareString) {\n        onDelete();\n        return 5; // both are function the same\n    }\n    onDelete();\n    return 6;\n}\nfunction objectItemMatches([name, value], pastProp) {\n    const pastValue = pastProp[name];\n    if (typeof (value) === BasicTypes.function && typeof (pastValue) === BasicTypes.function) {\n        return true;\n    }\n    return pastValue === value;\n}\n//# sourceMappingURL=hasSupportChanged.function.js.map","export let paintRemoves = [];\nexport let paintContent = [];\nexport let setContent = [];\n/** array memory that runs and completes BEFORE paintInsertBefores array */\nexport let paintAppends = [];\n/** array memory that runs and completes AFTER paintAppends array */\nexport let paintInsertBefores = [];\nexport let paintAfters = []; // callbacks after all painted\nexport const painting = {\n    locks: 0\n};\nexport function paint() {\n    if (painting.locks > 0) {\n        return;\n    }\n    for (let index = paintRemoves.length - 1; index >= 0; --index) {\n        const toRemove = paintRemoves[index];\n        const parentNode = toRemove.parentNode;\n        parentNode.removeChild(toRemove);\n    }\n    for (const content of paintContent) {\n        content();\n    }\n    for (const [text, textNode] of setContent) {\n        textNode.textContent = text;\n    }\n    for (const now of paintAppends) {\n        now.relative.appendChild(now.element);\n    }\n    for (const { element, relative } of paintInsertBefores) {\n        relative.parentNode.insertBefore(element, relative);\n    }\n    paintRemoves = [];\n    paintContent = [];\n    paintAppends = [];\n    paintInsertBefores = [];\n    setContent = [];\n    for (const now of paintAfters) {\n        now();\n    }\n    paintAfters = [];\n}\n//# sourceMappingURL=paint.function.js.map","import { paintInsertBefores } from './tag/paint.function.js';\nimport { empty } from './tag/ValueTypes.enum.js';\n// Function to update the value of x\nexport function updateBeforeTemplate(value, // value should be casted before calling here\nlastFirstChild) {\n    const textNode = document.createTextNode(value); // never innerHTML\n    paintInsertBefores.push({\n        element: textNode,\n        relative: lastFirstChild,\n    });\n    return textNode;\n}\nexport function castTextValue(value) {\n    switch (value) {\n        case undefined:\n        case false:\n        case null:\n            return empty;\n    }\n    return value;\n}\n//# sourceMappingURL=updateBeforeTemplate.function.js.map","import { getSupportInCycle } from './getSupportInCycle.function.js';\nimport { setUseMemory } from '../state/index.js';\nimport { Subject } from '../subject/index.js';\n// Emits event at the end of a tag being rendered. Use tagClosed$.toPromise() to render a tag after a current tag is done rendering\nsetUseMemory.tagClosed$ = new Subject(undefined, function tagCloser(subscription) {\n    if (!getSupportInCycle()) {\n        subscription.next(); // we are not currently processing so process now\n    }\n});\n// Life cycle 4 - end of life\nexport function runBeforeDestroy(support) {\n    // TODO: We don't need to remove from parents if parent is being destroyed\n    // remove me from my parents\n    const global = support.subject.global;\n    const providers = global.providers;\n    if (providers) {\n        for (const provider of providers) {\n            for (let index = provider.children.length - 1; index >= 0; --index) {\n                const child = provider.children[index];\n                if (child.subject.global === global) {\n                    provider.children.splice(index, 1);\n                }\n            }\n        }\n    }\n    if (global.destroy$) {\n        global.destroy$.next();\n    }\n    support.subject.renderCount = 0; // if it comes back, wont be considered an update\n}\n//# sourceMappingURL=tagRunner.js.map","import { isTagComponent } from '../isInstance.js';\nimport { runBeforeDestroy } from './tagRunner.js';\nexport function getChildTagsToDestroy(childTags) {\n    for (const child of childTags) {\n        const lastArray = child.lastArray;\n        if (lastArray) {\n            getChildTagsToDestroy(lastArray);\n            continue;\n        }\n        const global = child.global;\n        if (!global) {\n            continue; // not a support contextItem\n        }\n        const support = global.newest;\n        const iSubs = global.subscriptions;\n        if (iSubs) {\n            iSubs.forEach(iSub => iSub.unsubscribe());\n        }\n        if (isTagComponent(support.templater)) {\n            runBeforeDestroy(support);\n        }\n        const subTags = global.context;\n        getChildTagsToDestroy(subTags);\n    }\n}\nexport function getChildTagsToSoftDestroy(childTags, tags = [], subs = []) {\n    for (const child of childTags) {\n        const global = child.global;\n        if (!global) {\n            continue;\n        }\n        const support = global.newest;\n        if (support) {\n            tags.push(support);\n            const iSubs = global.subscriptions;\n            if (iSubs) {\n                subs.push(...iSubs);\n            }\n        }\n        const subTags = global.context;\n        if (subTags) {\n            getChildTagsToSoftDestroy(subTags, tags, subs);\n        }\n    }\n    return { tags, subs };\n}\n//# sourceMappingURL=getChildTagsToDestroy.function.js.map","import { destroyArray } from './checkDestroyPrevious.function.js';\nimport { paint, painting, paintRemoves } from './paint.function.js';\n/** sets global.deleted on support and all children */\nexport function smartRemoveKids(support, allPromises) {\n    const subject = support.subject;\n    const global = subject.global;\n    const context = global.context;\n    // already set\n    // global.deleted = true\n    const destroys = global.destroys;\n    if (destroys) {\n        return processContextDestroys(destroys, allPromises, subject);\n    }\n    smartRemoveByContext(context, allPromises);\n    destroyClones(global);\n}\n// Elements that have a destroy or ondestroy attribute\nfunction processContextDestroys(destroys, allPromises, subject) {\n    const global = subject.global;\n    const promises = [];\n    destroys.forEach(destroy => {\n        const maybePromise = destroy();\n        const isPromise = maybePromise instanceof Promise;\n        if (isPromise) {\n            promises.push(maybePromise);\n        }\n    });\n    if (promises.length) {\n        const lastPromise = Promise.all(promises)\n            .then(() => {\n            ++painting.locks;\n            // continue to remove\n            smartRemoveByContext(global.context, allPromises);\n            destroyClones(global);\n            --painting.locks;\n            paint();\n        });\n        // run destroy animations\n        allPromises.push(lastPromise);\n        return;\n    }\n    ++painting.locks;\n    smartRemoveByContext(global.context, allPromises);\n    destroyClones(global);\n    --painting.locks;\n    paint();\n}\nfunction smartRemoveByContext(context, allPromises) {\n    for (const subject of context) {\n        if (subject.withinOwnerElement) {\n            continue; // i live within my owner variable. I will be deleted with owner\n        }\n        const lastArray = subject.lastArray;\n        if (lastArray) {\n            destroyArray(subject, lastArray);\n            continue;\n        }\n        // regular values, no placeholders\n        const elm = subject.simpleValueElm;\n        if (elm) {\n            delete subject.simpleValueElm;\n            paintRemoves.push(elm);\n            continue;\n        }\n        const subGlobal = subject.global;\n        if (subGlobal === undefined) {\n            continue; // subject\n        }\n        if (subGlobal.deleted === true) {\n            continue; // already deleted\n        }\n        subGlobal.deleted = true;\n        const oldest = subGlobal.oldest;\n        if (oldest) {\n            smartRemoveKids(oldest, allPromises);\n            continue;\n        }\n    }\n}\nfunction destroyClones(global) {\n    // const global = subject.global\n    const htmlDomMeta = global.htmlDomMeta;\n    // check subjects that may have clones attached to them\n    htmlDomMeta.forEach(clone => {\n        const marker = clone.marker;\n        if (marker) {\n            paintRemoves.push(marker);\n        }\n        const dom = clone.domElement;\n        if (!dom) {\n            return;\n        }\n        paintRemoves.push(dom);\n    });\n    // htmlDomMeta.length = 0\n}\n//# sourceMappingURL=smartRemoveKids.function.js.map","import { getChildTagsToDestroy } from './getChildTagsToDestroy.function.js';\nimport { smartRemoveKids } from './smartRemoveKids.function.js';\nimport { runBeforeDestroy } from './tagRunner.js';\nexport function destroySupport(support) {\n    const global = support.subject.global;\n    global.deleted = true;\n    support.subject.renderCount = 0; // if it comes back, wont be considered an update\n    const promises = [];\n    const context = global.context;\n    getChildTagsToDestroy(context);\n    if (global.destroy$) {\n        runBeforeDestroy(support);\n    }\n    smartRemoveKids(support, promises);\n    return promises;\n}\n//# sourceMappingURL=destroySupport.function.js.map","import { paint, paintAfters, paintRemoves } from '../paint.function.js';\nimport { destroySupport } from '../destroySupport.function.js';\nexport function compareArrayItems(_subTag, // used to compare arrays\nvalue, index, lastArray, removed, counts) {\n    const newLength = value.length - 1;\n    const at = index - removed;\n    const lessLength = at < 0 || newLength < at;\n    const prevContext = lastArray[index];\n    if (lessLength) {\n        destroyArrayItem(prevContext, counts);\n        return 1;\n    }\n    const oldKey = lastArray[index].value.arrayValue;\n    const oldValueTag = value[index];\n    return runArrayItemDiff(oldKey, oldValueTag, prevContext, counts, lastArray, index);\n}\nfunction runArrayItemDiff(oldKey, oldValueTag, prevContext, counts, lastArray, index) {\n    const isDiff = oldValueTag && oldKey !== oldValueTag.arrayValue;\n    if (isDiff) {\n        if (prevContext.renderCount === 0) {\n            const newKey = oldValueTag.arrayValue;\n            console.warn('Possible array issue. Array is attempting to create/delete same items. Either html.dom(allStrings.allStrings167359[0]).key is not unique or array changes with every render', {\n                oldKey,\n                newKey,\n            });\n            paintAfters.push(() => {\n                destroyArrayItemByGlobal(prevContext.global, prevContext);\n                paintAfters.shift(); // prevent endless recursion\n                paint();\n            });\n            return 1;\n        }\n        destroyArrayItem(prevContext, counts);\n        lastArray.splice(index, 1);\n        return 2;\n    }\n    return 0;\n}\nexport function destroyArrayItem(item, counts) {\n    const global = item.global;\n    destroyArrayItemByGlobal(global, item);\n    ++counts.removed;\n}\nfunction destroyArrayItemByGlobal(global, item) {\n    if (global) {\n        const support = global.oldest;\n        destroySupport(support);\n    }\n    else {\n        const element = item.simpleValueElm;\n        delete item.simpleValueElm;\n        paintRemoves.push(element);\n    }\n}\n//# sourceMappingURL=compareArrayItems.function.js.map\n// @ts-ignore\nconst allStrings = {allStrings167359:[[]]}","// Functions in here are attached as ContextItem.checkValueChange\nimport { processUpdateRegularValue } from './update/processRegularValue.function.js';\nimport { destroyArrayItem } from './update/compareArrayItems.function.js';\nimport { isArray } from '../isInstance.js';\nimport { paintRemoves } from './paint.function.js';\nimport { BasicTypes } from './ValueTypes.enum.js';\nexport function checkArrayValueChange(newValue, subject) {\n    // no longer an array?\n    if (!isArray(newValue)) {\n        const lastArray = subject.lastArray;\n        destroyArray(subject, lastArray);\n        return 9; // 'array'\n    }\n    return false;\n}\nexport function destroyArray(subject, lastArray) {\n    const counts = { added: 0, removed: 0 };\n    for (let index = 0; index < lastArray.length; ++index) {\n        destroyArrayItem(lastArray[index], counts);\n    }\n    delete subject.lastArray;\n}\nexport function checkSimpleValueChange(newValue, subject) {\n    const isBadValue = newValue === null || newValue === undefined;\n    if (isBadValue || !(typeof (newValue) === BasicTypes.object)) {\n        // This will cause all other values to render\n        processUpdateRegularValue(newValue, subject);\n        return -1; // no need to destroy, just update display\n    }\n    const elm = subject.simpleValueElm;\n    delete subject.simpleValueElm;\n    paintRemoves.push(elm);\n    return 6; // 'changed-simple-value'\n}\n//# sourceMappingURL=checkDestroyPrevious.function.js.map","import { castTextValue, updateBeforeTemplate } from '../../updateBeforeTemplate.function.js';\nimport { setContent } from '../paint.function.js';\nimport { checkSimpleValueChange } from '../checkDestroyPrevious.function.js';\nexport function processUpdateRegularValue(value, contextItem) {\n    const castedValue = castTextValue(value);\n    const oldClone = contextItem.simpleValueElm; // placeholder\n    setContent.push([castedValue, oldClone]);\n}\n/** Used during updates that were another value/tag first but now simple string */\nexport function processNowRegularValue(value, subject) {\n    subject.checkValueChange = checkSimpleValueChange;\n    const before = subject.placeholder;\n    const castedValue = castTextValue(value);\n    // Processing of regular values\n    subject.simpleValueElm = updateBeforeTemplate(castedValue, before);\n}\n//# sourceMappingURL=processRegularValue.function.js.map","export function getNewGlobal(subject) {\n    ;\n    subject.renderCount = 0;\n    return subject.global = {}; // TODO: makeSupportTagGlobal\n}\n//# sourceMappingURL=getNewGlobal.function.js.map","import { BasicTypes, ValueTypes } from './ValueTypes.enum.js';\nexport function isLikeTags(support0, // new\nsupport1) {\n    const templater0 = support0.templater;\n    const templater1 = support1.templater;\n    const tag0 = templater0?.tag || support0;\n    const tag1 = templater1.tag; // || (support1 as any)\n    if (templater0?.tagJsType === ValueTypes.stateRender) {\n        return templater0.dom === templater1.dom;\n    }\n    switch (tag0.tagJsType) {\n        case ValueTypes.dom: {\n            if (tag1?.tagJsType !== ValueTypes.dom) {\n                return false; // tag0 is not even same type\n            }\n            return isLikeDomTags(tag0, tag1);\n        }\n        case ValueTypes.tag: {\n            const like = isLikeStringTags(tag0, tag1, support0, support1);\n            return like;\n        }\n    }\n    throw new Error(`unknown tagJsType of ${tag0.tagJsType}`);\n}\n// used when compiler was used\nexport function isLikeDomTags(tag0, tag1) {\n    const domMeta0 = tag0.dom;\n    const domMeta1 = tag1.dom;\n    return domMeta0 === domMeta1;\n}\n// used for no compiling\nfunction isLikeStringTags(tag0, tag1, support0, // new\nsupport1) {\n    const strings0 = tag0.strings;\n    const strings1 = tag1.strings;\n    if (strings0.length !== strings1.length) {\n        return false;\n    }\n    const everyStringMatched = strings0.every((string, index) => strings1[index].length === string.length // performance, just compare length of strings // TODO: Document this\n    // strings1[index] === string // slower\n    );\n    if (!everyStringMatched) {\n        return false;\n    }\n    const values0 = support0.templater.values || tag0.values;\n    const values1 = support1.templater.values || tag1.values;\n    return isLikeValueSets(values0, values1);\n}\nexport function isLikeValueSets(values0, values1) {\n    const valuesLengthsMatch = values0.length === values1.length;\n    if (!valuesLengthsMatch) {\n        return false;\n    }\n    const allVarsMatch = values1.every((value, index) => {\n        const compareTo = values0[index];\n        const isFunctions = typeof (value) === BasicTypes.function && typeof (compareTo) === BasicTypes.function;\n        if (isFunctions) {\n            const stringMatch = value.toString() === compareTo.toString();\n            if (stringMatch) {\n                return true;\n            }\n            return false;\n        }\n        return true;\n    });\n    if (allVarsMatch) {\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=isLikeTags.function.js.map","import { paintContent } from \"../../tag/paint.function.js\";\n// Maybe more performant for updates but seemingly slower for first renders\nexport function howToSetInputValue(element, name, value) {\n    paintContent.push(() => {\n        howToSetFirstInputValue(element, name, value);\n    });\n}\nexport function howToSetFirstInputValue(element, name, value) {\n    if (value === undefined || value === false || value === null) {\n        element.removeAttribute(name);\n        return;\n    }\n    element.setAttribute(name, value);\n}\n//# sourceMappingURL=howToSetInputValue.function.js.map","import { paintAfters, paintContent } from \"../../tag/paint.function.js\";\n/** handles init, destroy, autofocus, autoselect, style., class. */\nexport function specialAttribute(name, value, element, specialName, support, counts) {\n    switch (specialName) {\n        // case 'oninit' as any:\n        case 'init': {\n            const stagger = counts.added;\n            // run delayed after elements placed down\n            paintAfters.push(() => {\n                const event = {\n                    target: element,\n                    stagger,\n                };\n                value(event); // call init/oninit\n            });\n            return;\n        }\n        case 'destroy': {\n            const stagger = ++counts.removed;\n            const global = support.subject.global;\n            global.destroys = global.destroys || [];\n            global.destroys.push(() => {\n                const event = {\n                    target: element,\n                    stagger,\n                };\n                return value(event); // call destroy/ondestroy\n            });\n            return;\n        }\n        case 'autofocus':\n            paintAfters.push(() => element.focus());\n            return;\n        case 'autoselect':\n            paintAfters.push(() => element.select());\n            return;\n        case 'style': {\n            const names = name.split('.');\n            paintContent.push(() => element.style[names[1]] = value); // attribute changes should come first\n            return;\n        }\n        case 'class':\n            processSpecialClass(name, value, element);\n            return;\n    }\n    throw new Error(`Invalid special attribute of ${specialName}. ${name}`);\n}\nfunction processSpecialClass(name, value, element) {\n    const names = name.split('.');\n    names.shift(); // remove class\n    // truthy\n    if (value) {\n        for (const name of names) {\n            paintContent.push(() => element.classList.add(name));\n        }\n        return;\n    }\n    // falsy\n    for (const name of names) {\n        paintContent.push(() => element.classList.remove(name));\n    }\n}\n//# sourceMappingURL=specialAttribute.js.map","export function handleProviderChanges(appSupport, provider) {\n    const tagsWithProvider = getTagsWithProvider(appSupport, provider);\n    return tagsWithProvider;\n}\n/** Updates and returns memory of tag providers */\nfunction getTagsWithProvider(support, provider, memory = []) {\n    const subject = support.subject;\n    memory.push({\n        support,\n        renderCount: subject.renderCount,\n        provider,\n    });\n    const childTags = provider.children;\n    for (let index = childTags.length - 1; index >= 0; --index) {\n        const child = childTags[index];\n        const cSubject = child.subject;\n        memory.push({\n            support: child,\n            renderCount: cSubject.renderCount,\n            provider,\n        });\n    }\n    return memory;\n}\n//# sourceMappingURL=handleProviderChanges.function.js.map","import { isTagComponent } from \"../../isInstance.js\";\nimport { providersChangeCheck } from \"../../state/providersChangeCheck.function.js\";\nimport { checkRenderUp, isInlineHtml } from \"../../tag/render/renderSupport.function.js\";\nimport { ValueTypes } from \"../../tag/ValueTypes.enum.js\";\nexport function getUpTags(support, supports = []) {\n    const global = support.subject.global;\n    const templater = support.templater;\n    const inlineHtml = isInlineHtml(templater);\n    const ownerSupport = support.ownerSupport;\n    if (global.locked) {\n        supports.push(support);\n        return supports;\n    }\n    // is it just a vanilla tag, not component?\n    if (inlineHtml) {\n        return getUpTags(ownerSupport, supports);\n    }\n    const newSupport = support; // global.newest as AnySupport\n    const isComponent = isTagComponent(newSupport.templater);\n    const tagJsType = support.templater.tagJsType;\n    const canContinueUp = ownerSupport && tagJsType !== ValueTypes.stateRender;\n    const continueUp = canContinueUp && (!isComponent || checkRenderUp(ownerSupport, newSupport.templater, newSupport));\n    const proSupports = providersChangeCheck(newSupport);\n    supports.push(...proSupports);\n    if (continueUp) {\n        getUpTags(ownerSupport, supports);\n        if (isComponent) {\n            supports.push(newSupport);\n        }\n        return supports; // more to keep going up, do not push this child for review\n    }\n    supports.push(newSupport);\n    return supports;\n}\n//# sourceMappingURL=getUpTags.function.js.map","import { deepEqual } from '../../deepFunctions.js';\nimport { renderExistingReadyTag } from './renderExistingTag.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { PropWatches } from '../index.js';\nimport { deepCompareDepth, immutablePropMatch, shallowPropMatch } from '../hasSupportChanged.function.js';\nexport function isInlineHtml(templater) {\n    return ValueTypes.templater === templater.tagJsType;\n}\n/** Main function used by all other callers to render/update display of a tag component */\nexport function renderSupport(support) {\n    const global = support.subject.global;\n    const templater = support.templater;\n    const inlineHtml = isInlineHtml(templater);\n    const ownerSupport = support.ownerSupport;\n    if (global.locked) {\n        global.blocked.push(support);\n        return support;\n    }\n    // is it just a vanilla tag, not component?\n    if (inlineHtml) {\n        const result = renderInlineHtml(ownerSupport, support);\n        return result;\n    }\n    global.locked = true;\n    const subject = support.subject;\n    if (global.blocked.length) {\n        support = global.blocked.pop();\n        global.blocked = [];\n    }\n    const tag = renderExistingReadyTag(global.newest, support, ownerSupport, subject);\n    delete global.locked;\n    return tag;\n}\nexport function renderInlineHtml(ownerSupport, support) {\n    const ownGlobal = ownerSupport.subject.global;\n    if (!ownGlobal || ownGlobal.deleted === true) {\n        return support;\n    }\n    // ??? new change\n    const newest = ownGlobal.newest || ownerSupport;\n    const result = renderSupport(newest);\n    return result;\n}\nexport function checkRenderUp(ownerSupport, templater, support) {\n    const selfPropChange = hasPropsToOwnerChanged(templater, support);\n    // render owner up first and that will cause me to re-render\n    if (ownerSupport && selfPropChange) {\n        return true;\n    }\n    return false;\n}\nfunction hasPropsToOwnerChanged(templater, support) {\n    const nowProps = templater.props;\n    const propsConfig = support.propsConfig;\n    const latestProps = propsConfig.latest;\n    const compareLen = hasPropLengthsChanged(nowProps, latestProps);\n    if (compareLen) {\n        return true;\n    }\n    switch (templater.propWatch) {\n        case PropWatches.IMMUTABLE:\n            return immutablePropMatch(nowProps, latestProps);\n        case PropWatches.SHALLOW:\n            return shallowPropMatch(nowProps, latestProps);\n    }\n    return !deepEqual(nowProps, latestProps, deepCompareDepth);\n}\nexport function hasPropLengthsChanged(nowProps, latestProps) {\n    const nowLen = nowProps.length;\n    const latestLen = latestProps.length;\n    /*\n    const noLength = nowProps && nowLen === 0 && latestLen === 0\n  \n    if(noLength) {\n      return false\n    }\n    */\n    return nowLen !== latestLen;\n}\n//# sourceMappingURL=renderSupport.function.js.map","import { handleProviderChanges } from './handleProviderChanges.function.js';\nexport function providersChangeCheck(support) {\n    const global = support.subject.global;\n    const providers = global.providers;\n    if (!providers) {\n        return [];\n    }\n    const prosWithChanges = [];\n    // reset clones\n    for (const provider of providers) {\n        const owner = provider.owner;\n        const hasChange = handleProviderChanges(owner, provider);\n        prosWithChanges.push(...hasChange.map(x => x.support));\n    }\n    return prosWithChanges;\n}\n//# sourceMappingURL=providersChangeCheck.function.js.map","import { paint, painting } from '../../tag/paint.function.js';\nimport { renderSupport } from '../../tag/render/renderSupport.function.js';\nexport function renderTagUpdateArray(supports) {\n    ++painting.locks;\n    supports.forEach(mapTagUpdate);\n    --painting.locks;\n    paint();\n}\nfunction mapTagUpdate(support) {\n    const global = support.subject.global;\n    if (!global) {\n        return; // while rendering a parent, a child may have been deleted (pinbowl)\n    }\n    renderSupport(global.newest);\n}\n//# sourceMappingURL=renderTagArray.function.js.map","// taggedjs-no-compile\n/** File largely responsible for reacting to element events, such as onclick */\nimport { isPromise, isTagComponent } from '../../isInstance.js';\nimport { renderSupport } from '../../tag/render/renderSupport.function.js';\nimport { getUpTags } from './getUpTags.function.js';\nimport { renderTagUpdateArray } from './renderTagArray.function.js';\nconst noData = 'no-data-ever';\nconst promiseNoData = 'promise-no-data-ever';\nexport function bindSubjectCallback(value, support) {\n    const global = support.subject.global;\n    // MAIN EVENT CALLBACK PROCESSOR\n    const subjectFunction = function (element, args) {\n        if (global.deleted === true) {\n            return;\n        }\n        // const newest = global.newest as AnySupport // || subjectFunction.support\n        return runTagCallback(subjectFunction.tagFunction, subjectFunction.support, // newest\n        element, args);\n    };\n    // link back to original. Mostly used for <div oninit ondestroy> animations\n    subjectFunction.tagFunction = value;\n    subjectFunction.support = support;\n    return subjectFunction;\n}\nexport function runTagCallback(value, support, bindTo, args) {\n    // get actual component owner not just the html`` support\n    let component = support;\n    while (component.ownerSupport && !isTagComponent(component.templater)) {\n        component = component.ownerSupport;\n    }\n    const subject = component.subject;\n    const global = subject.global; // tag.subject.global as TagGlobal\n    global.locked = true; // prevent another render from re-rendering this tag\n    // ACTUAL CALLBACK TO ORIGINAL FUNCTION\n    const callbackResult = value.apply(bindTo, args);\n    delete global.locked;\n    const result = afterTagCallback(callbackResult, component);\n    return result;\n}\nexport function afterTagCallback(callbackResult, eventHandlerSupport) {\n    const global = eventHandlerSupport.subject.global; // tag.subject.global as SupportTagGlobal\n    return renderCallbackSupport(eventHandlerSupport, callbackResult, global);\n}\nfunction renderCallbackSupport(last, callbackResult, global) {\n    const tagsToUpdate = getUpTags(last);\n    renderTagUpdateArray(tagsToUpdate);\n    return checkAfterCallbackPromise(callbackResult, last, global);\n}\nexport function checkAfterCallbackPromise(callbackResult, last, global) {\n    if (isPromise(callbackResult)) {\n        const global0 = last.subject.global;\n        global0.locked = true;\n        return callbackResult.then(() => {\n            if (global.deleted === true) {\n                return promiseNoData; // tag was deleted during event processing\n            }\n            const global1 = last.subject.global;\n            delete global1.locked;\n            const tagsToUpdate = getUpTags(last);\n            renderTagUpdateArray(tagsToUpdate);\n            return promiseNoData;\n        });\n    }\n    return noData;\n}\nexport function runBlocked(tag) {\n    const global = tag.subject.global;\n    const blocked = global.blocked;\n    for (const block of blocked) {\n        const lastResult = renderSupport(block);\n        global.newest = lastResult;\n    }\n    global.blocked = [];\n    return global.newest;\n}\n//# sourceMappingURL=bindSubjectCallback.function.js.map","// taggedjs-no-compile\nimport { specialAttribute } from './specialAttribute.js';\nimport { processTagCallbackFun } from './processAttribute.function.js';\nimport { BasicTypes } from '../../tag/ValueTypes.enum.js';\nconst actions = ['init', 'destroy']; // oninit ondestroy\nexport function processDynamicNameValueAttribute(attrName, value, contextItem, element, howToSet, support, counts, isSpecial) {\n    contextItem.attrName = attrName;\n    contextItem.element = element;\n    contextItem.howToSet = howToSet;\n    if (typeof (value) === BasicTypes.function) {\n        if (isSpecial && actions.includes(attrName)) {\n            specialAttribute(attrName, value, element, attrName, support, counts);\n            return;\n        }\n        return processTagCallbackFun(contextItem, value, support, attrName, element);\n    }\n    contextItem.attrName = attrName;\n    contextItem.element = element;\n    contextItem.howToSet = howToSet;\n    contextItem.isSpecial = isSpecial;\n    return processNonDynamicAttr(attrName, value, element, howToSet, counts, support, isSpecial);\n}\nexport function processNonDynamicAttr(attrName, value, element, howToSet, counts, support, isSpecial) {\n    if (isSpecial) {\n        return specialAttribute(attrName, value, element, isSpecial, support, counts);\n    }\n    howToSet(element, attrName, value);\n}\n//# sourceMappingURL=processNameValueAttribute.function.js.map","export function addSupportEventListener(support, eventName, element, callback) {\n    const elm = support.appElement;\n    // cast events that do not bubble up into ones that do\n    if (eventName === 'blur') {\n        eventName = 'focusout';\n    }\n    const replaceEventName = '_' + eventName;\n    // const replaceEventName = eventName\n    const global = support.subject.global;\n    const eventReg = global.events;\n    if (!eventReg[eventName]) {\n        const listener = function eventCallback(event) {\n            event.originalStopPropagation = event.stopPropagation;\n            bubbleEvent(event, replaceEventName, event.target);\n        };\n        eventReg[eventName] = listener;\n        elm.addEventListener(eventName, listener);\n    }\n    // attach to element but not as \"_click\" and \"_keyup\"\n    ;\n    element[replaceEventName] = callback;\n    element[eventName] = callback;\n}\nfunction bubbleEvent(event, replaceEventName, target) {\n    const callback = target[replaceEventName];\n    if (callback) {\n        let stopped = false;\n        event.stopPropagation = function () {\n            stopped = true;\n            event.originalStopPropagation.call(event);\n        };\n        callback(event);\n        if (event.defaultPrevented || stopped) {\n            return;\n        }\n    }\n    const parentNode = target.parentNode;\n    if (parentNode) {\n        bubbleEvent(event, replaceEventName, parentNode);\n    }\n}\n//# sourceMappingURL=addSupportEventListener.function.js.map","import { addSupportEventListener } from './addSupportEventListener.function.js';\nexport function processAttributeFunction(element, newAttrValue, support, attrName) {\n    const fun = function (...args) {\n        return fun.tagFunction(element, args);\n    };\n    // access to original function\n    fun.tagFunction = newAttrValue;\n    fun.support = support;\n    addSupportEventListener(support.appSupport, attrName, element, // support.appSupport.appElement as Element,\n    fun);\n}\n//# sourceMappingURL=processAttributeCallback.function.js.map","/** Looking for (class | style) followed by a period */\nexport function isSpecialAttr(attrName) {\n    if (attrName.startsWith('class.')) {\n        return 'class';\n    }\n    const specialAction = isSpecialAction(attrName);\n    if (specialAction !== false) {\n        return true;\n    }\n    if (attrName.startsWith('style.')) {\n        return 'style';\n    }\n    return false;\n}\nexport function isSpecialAction(attrName) {\n    switch (attrName) {\n        case 'autoselect':\n            return 'autoselect';\n        case 'autofocus':\n            return 'autofocus';\n        case 'oninit': // when read in compile process\n        case 'init': // when read in realtime\n            return 'oninit';\n        case 'ondestroy': // when read in compile process\n        case 'destroy': // when read in realtime\n            return 'destroy';\n    }\n    return false;\n}\n//# sourceMappingURL=isSpecialAttribute.function.js.map","import { processAttributeEmit } from '../interpolations/attributes/processAttribute.function.js';\nimport { updateNameOnlyAttrValue } from '../interpolations/attributes/updateAttribute.function.js';\nconst emptyCounts = { added: 0, removed: 0 };\nexport function processUpdateAttrContext(values, value, contextItem, ownerSupport) {\n    if (contextItem.isNameOnly) {\n        updateNameOnlyAttrValue(values, value, contextItem.value, contextItem.element, // global.element as Element,\n        ownerSupport, contextItem.howToSet, [], // Context, but we dont want to alter current\n        emptyCounts);\n        contextItem.value = value;\n        return;\n    }\n    const element = contextItem.element;\n    processAttributeEmit(value, contextItem.attrName, contextItem, element, ownerSupport, contextItem.howToSet, contextItem.isSpecial, emptyCounts);\n    contextItem.value = value;\n    return;\n}\n//# sourceMappingURL=processUpdateAttrContext.function.js.map","// taggedjs-no-compile\nimport { BasicTypes } from '../../tag/ValueTypes.enum.js';\nimport { paintContent } from '../../tag/paint.function.js';\nimport { isNoDisplayValue, processNameOnlyAttrValue } from './processAttribute.function.js';\nexport function updateNameOnlyAttrValue(values, attrValue, lastValue, element, ownerSupport, howToSet, context, counts) {\n    // check to remove previous attribute(s)\n    if (lastValue) {\n        if (isNoDisplayValue(attrValue)) {\n            element.removeAttribute(lastValue);\n            return;\n        }\n        if (typeof (lastValue) === BasicTypes.object) {\n            const isObStill = typeof (attrValue) === BasicTypes.object;\n            if (isObStill) {\n                for (const name in lastValue) {\n                    // if((attrValue as any)[name]) {\n                    if (name in attrValue) {\n                        continue;\n                    }\n                    paintContent.push(function paintContent() {\n                        element.removeAttribute(name);\n                    });\n                }\n            }\n            else {\n                for (const name in lastValue) {\n                    paintContent.push(function paintContent() {\n                        element.removeAttribute(name);\n                    });\n                }\n            }\n        }\n    }\n    processNameOnlyAttrValue(values, attrValue, element, ownerSupport, howToSet, context, counts);\n}\n//# sourceMappingURL=updateAttribute.function.js.map","// taggedjs-no-compile\nimport { specialAttribute } from './specialAttribute.js';\nimport { isFunction, isObject, isSubjectInstance } from '../../isInstance.js';\nimport { bindSubjectCallback } from './bindSubjectCallback.function.js';\nimport { BasicTypes, ValueTypes, empty } from '../../tag/ValueTypes.enum.js';\nimport { paintContent } from '../../tag/paint.function.js';\nimport { processDynamicNameValueAttribute, processNonDynamicAttr } from './processNameValueAttribute.function.js';\nimport { addOneContext, checkSimpleValueChange } from '../../tag/index.js';\nimport { processAttributeFunction } from './processAttributeCallback.function.js';\nimport { isSpecialAttr } from './isSpecialAttribute.function.js';\nimport { processUpdateAttrContext } from '../../tag/processUpdateAttrContext.function.js';\nimport { blankHandler } from '../optimizers/attachDomElements.function.js';\n/** MAIN FUNCTION. Sets attribute value, subscribes to value updates  */\nexport function processAttribute(values, attrName, element, support, howToSet, //  = howToSetInputValue\ncontext, isSpecial, counts, value) {\n    const nameVar = getTagJsVar(attrName);\n    const isNameVar = nameVar >= 0;\n    if (isNameVar) {\n        const value = values[nameVar];\n        const contextItem = addOneContext(value, context, true);\n        contextItem.isAttr = true;\n        contextItem.element = element;\n        contextItem.howToSet = howToSet;\n        contextItem.isNameOnly = true;\n        // how to process value updates\n        contextItem.handler = (newValue, newValues) => processUpdateAttrContext(newValues, newValue, contextItem, support);\n        processNameOnlyAttrValue(values, value, element, support, howToSet, context, counts);\n        return;\n    }\n    const valueVar = getTagJsVar(value);\n    if (valueVar >= 0) {\n        const value = values[valueVar];\n        const contextItem = {\n            isAttr: true,\n            element,\n            attrName: attrName,\n            checkValueChange: checkSimpleValueChange,\n            withinOwnerElement: true,\n        };\n        context.push(contextItem);\n        const isSubject = isSubjectInstance(contextItem.value);\n        if (isSubject) {\n            return processNameValueAttributeAttrSubject(attrName, contextItem, element, support, howToSet, isSpecial, counts);\n        }\n        contextItem.handler = (newValue, newValues) => processUpdateAttrContext(newValues, newValue, contextItem, support);\n        /*\n        processNameOnlyAttrValue(\n          values,\n          newValue as any,\n          element as Element,\n          support,\n          howToSet as HowToSet,\n          context,\n          counts,\n        )\n        */\n        processDynamicNameValueAttribute(attrName, value, contextItem, element, howToSet, support, counts, isSpecial);\n        contextItem.value = value;\n        return;\n    }\n    return processNonDynamicAttr(attrName, value, element, howToSet, counts, support, isSpecial);\n}\nexport function processNameOnlyAttrValue(values, attrValue, element, ownerSupport, howToSet, context, counts) {\n    if (isNoDisplayValue(attrValue)) {\n        return;\n    }\n    // process an object of attributes ${{class:'something, checked:true}}\n    if (typeof attrValue === BasicTypes.object) {\n        for (const name in attrValue) {\n            const value = attrValue[name];\n            processAttribute(values, name, element, ownerSupport, howToSet, context, isSpecialAttr(name), // only object variables are evaluated for is special attr\n            counts, value);\n        }\n        return;\n    }\n    // regular attributes\n    if (attrValue.length === 0) {\n        return; // ignore, do not set at this time\n    }\n    howToSet(element, attrValue, empty);\n}\n/** Processor for flat attributes and object attributes */\nfunction processNameValueAttributeAttrSubject(attrName, contextItem, element, support, howToSet, isSpecial, counts) {\n    if (isSpecial) {\n        paintContent.push(function paintContent() {\n            element.removeAttribute(attrName);\n        });\n    }\n    const contextValueSubject = contextItem.value;\n    if (isSubjectInstance(contextValueSubject)) {\n        contextItem.handler = blankHandler;\n        const callback = function processAttrCallback(newAttrValue) {\n            processAttributeEmit(newAttrValue, attrName, contextItem, element, support, howToSet, isSpecial, counts);\n        };\n        // 🗞️ Subscribe. Above callback called immediately since its a ValueSubject()\n        const sub = contextValueSubject.subscribe(callback);\n        // Record subscription for later unsubscribe when element destroyed\n        const global = contextItem.global;\n        const subs = global.subscriptions = global.subscriptions || [];\n        subs.push(sub);\n    }\n    processAttributeEmit(contextItem.value, attrName, contextItem, element, support, howToSet, isSpecial, counts);\n    return;\n}\nexport function processAttributeEmit(newAttrValue, attrName, subject, element, support, howToSet, isSpecial, counts) {\n    // should the function be wrapped so every time its called we re-render?\n    if (isFunction(newAttrValue)) {\n        return callbackFun(support, newAttrValue, element, attrName, isSpecial, howToSet, subject, counts);\n    }\n    return processAttributeSubjectValue(newAttrValue, element, attrName, isSpecial, howToSet, support, counts);\n}\nexport function processAttributeSubjectValue(newAttrValue, element, attrName, special, howToSet, support, counts) {\n    // process adding/removing style. class. (false means remove)\n    if (special !== false) {\n        specialAttribute(attrName, newAttrValue, element, special, // string name of special\n        support, counts);\n        return;\n    }\n    switch (newAttrValue) {\n        case undefined:\n        case false:\n        case null:\n            paintContent.push(function paintContentPush() {\n                element.removeAttribute(attrName);\n            });\n            return;\n    }\n    if (isFunction(newAttrValue)) {\n        return processAttributeFunction(element, newAttrValue, support, attrName);\n    }\n    // value is 0\n    howToSet(element, attrName, newAttrValue);\n}\nfunction callbackFun(support, newAttrValue, element, attrName, isSpecial, howToSet, subject, counts) {\n    const wrapper = support.templater.wrapper;\n    const tagJsType = wrapper?.tagJsType || wrapper?.original?.tagJsType;\n    const oneRender = tagJsType === ValueTypes.renderOnce;\n    if (!oneRender) {\n        return processTagCallbackFun(subject, newAttrValue, support, attrName, element);\n    }\n    return processAttributeSubjectValue(newAttrValue, element, attrName, isSpecial, howToSet, support, counts);\n}\nexport function processTagCallbackFun(subject, newAttrValue, support, attrName, element) {\n    const prevFun = subject.value;\n    if (prevFun && prevFun.tagFunction && prevFun.support) {\n        prevFun.tagFunction = newAttrValue;\n        prevFun.support = support;\n        return prevFun;\n    }\n    // tag has state and will need all functions wrapped to cause re-renders\n    newAttrValue = bindSubjectCallback(newAttrValue, support);\n    return processAttributeFunction(element, newAttrValue, support, attrName);\n}\nfunction getTagJsVar(attrPart) {\n    if (isObject(attrPart) && 'tagJsVar' in attrPart)\n        return attrPart.tagJsVar;\n    return -1;\n    // return (attrPart as TagVarIdNum)?.tagJsVar || -1\n}\nexport function isNoDisplayValue(attrValue) {\n    return undefined === attrValue || null === attrValue || false === attrValue;\n}\n//# sourceMappingURL=processAttribute.function.js.map","// taggedjs-no-compile\nimport { processFirstSubjectValue } from \"../../tag/update/processFirstSubjectValue.function.js\";\nimport { howToSetFirstInputValue } from \"../attributes/howToSetInputValue.function.js\";\nimport { paintAppends, paintInsertBefores } from \"../../tag/paint.function.js\";\nimport { processAttribute } from \"../attributes/processAttribute.function.js\";\nimport { addOneContext } from \"../../tag/index.js\";\nimport { isSubjectInstance } from \"../../isInstance.js\";\nimport { empty } from \"../../tag/ValueTypes.enum.js\";\nimport { updateExistingValue } from \"../../tag/update/updateExistingValue.function.js\";\nexport const blankHandler = () => undefined;\nconst someDiv = (typeof document === 'object' && document.createElement('div')); // used for content cleaning\nexport function attachDomElements(nodes, values, support, counts, // used for animation stagger computing\ncontext, depth, // used to know if dynamic variables live within parent owner tag/support\nappendTo, insertBefore, subs = []) {\n    const dom = [];\n    if (appendTo && insertBefore === undefined) {\n        insertBefore = document.createTextNode(empty);\n        paintAppends.push({\n            element: insertBefore,\n            relative: appendTo,\n        });\n        appendTo = undefined;\n    }\n    for (let index = 0; index < nodes.length; ++index) {\n        const node = nodes[index];\n        const value = node.v;\n        const isNum = !isNaN(value);\n        if (isNum) {\n            const index = context.length;\n            const value = values[index];\n            attachDynamicDom(value, index, context, support, subs, counts, depth, appendTo, insertBefore);\n            continue;\n        }\n        const newNode = {}; // DomObjectText\n        dom.push(newNode);\n        if (node.nn === 'text') {\n            attachDomText(newNode, node, appendTo, insertBefore);\n            continue;\n        }\n        // one single html element\n        const domElement = attachDomElement(newNode, node, values, support, context, counts, appendTo, insertBefore);\n        if (node.ch) {\n            newNode.ch = attachDomElements(node.ch, values, support, counts, context, depth + 1, domElement, insertBefore, subs).dom;\n        }\n    }\n    return { subs, dom, context };\n}\nfunction attachDomElement(newNode, node, values, support, context, counts, appendTo, insertBefore) {\n    const domElement = newNode.domElement = document.createElement(node.nn);\n    // attributes that may effect style, come first for performance\n    if (node.at) {\n        node.at.forEach(attr => {\n            const name = attr[0];\n            const value = attr[1];\n            const isSpecial = attr[2] || false;\n            processAttribute(values, name, domElement, support, \n            // howToSetInputValue, // maybe more performant for updates but not first renders\n            howToSetFirstInputValue, context, isSpecial, counts, value);\n        });\n    }\n    if (appendTo) {\n        paintAppends.push({\n            element: domElement,\n            relative: appendTo,\n        });\n    }\n    else {\n        paintInsertBefores.push({\n            element: domElement,\n            relative: insertBefore,\n        });\n    }\n    return domElement;\n}\nfunction attachDomText(newNode, node, owner, insertBefore) {\n    const textNode = newNode;\n    const string = textNode.tc = node.tc;\n    someDiv.innerHTML = string;\n    const domElement = textNode.domElement = document.createTextNode(someDiv.innerText);\n    if (owner) {\n        paintAppends.push({\n            element: domElement,\n            relative: owner,\n        });\n    }\n    else {\n        paintInsertBefores.push({\n            element: domElement,\n            relative: insertBefore,\n        });\n    }\n}\nfunction attachDynamicDom(value, index, context, support, subs, counts, // used for animation stagger computing\ndepth, // used to indicate if variable lives within an owner's element\nappendTo, insertBefore) {\n    const marker = document.createTextNode(empty);\n    const isWithinOwnerElement = depth > 0;\n    const contextItem = addOneContext(value, context, isWithinOwnerElement);\n    contextItem.placeholder = marker;\n    if (appendTo) {\n        paintAppends.push({\n            relative: appendTo,\n            element: marker,\n        });\n    }\n    else {\n        paintInsertBefores.push({\n            relative: insertBefore,\n            element: marker,\n        });\n    }\n    if (isSubjectInstance(value)) {\n        subs.push({\n            insertBefore: marker,\n            appendTo,\n            subject: value,\n            support, // ownerSupport,\n            counts,\n            contextItem,\n        });\n        contextItem.handler = blankHandler;\n        return;\n    }\n    // how to handle value updates\n    contextItem.handler = (newValue, _newValues, newSupport, newContextItem) => updateExistingValue(newContextItem, newValue, newSupport);\n    const global = support.subject.global;\n    global.locked = true;\n    processFirstSubjectValue(value, contextItem, support, counts, appendTo, insertBefore);\n    const global2 = support.subject.global;\n    delete global2.locked;\n    contextItem.value = value;\n    return;\n}\n//# sourceMappingURL=attachDomElements.function.js.map","import { attachDomElements } from '../interpolations/optimizers/attachDomElements.function.js';\nimport { checkSimpleValueChange } from './index.js';\nimport { getDomMeta } from './domMetaCollector.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { painting } from './paint.function.js';\n/** Function that kicks off actually putting tags down as HTML elements */\nexport function buildBeforeElement(support, counts, appendTo, insertBefore) {\n    const global = support.subject.global;\n    global.oldest = support;\n    global.newest = support;\n    ++painting.locks;\n    const result = attachHtmlDomMeta(support, counts, appendTo, insertBefore);\n    global.htmlDomMeta = result.dom;\n    --painting.locks;\n    // return fragment\n    return result;\n}\nfunction attachHtmlDomMeta(support, counts, appendTo, insertBefore) {\n    const domMeta = loadDomMeta(support);\n    const thisTag = support.templater.tag;\n    const values = thisTag.values;\n    const context = [];\n    const global = support.subject.global;\n    global.context = context;\n    const result = attachDomElements(domMeta, values, support, counts, context, 0, appendTo, insertBefore);\n    return result;\n}\nfunction loadDomMeta(support) {\n    const templater = support.templater;\n    const thisTag = templater.tag; // || templater\n    if (thisTag.tagJsType === ValueTypes.dom) {\n        return thisTag.dom;\n    }\n    const strings = thisTag.strings;\n    return getDomMeta(strings, thisTag.values);\n}\nexport function addOneContext(value, context, withinOwnerElement) {\n    const contextItem = {\n        value,\n        checkValueChange: checkSimpleValueChange,\n        withinOwnerElement,\n    };\n    context.push(contextItem);\n    return contextItem;\n}\n//# sourceMappingURL=buildBeforeElement.function.js.map","// taggedjs-no-compile\nimport { htmlInterpolationToDomMeta } from '../interpolations/optimizers/htmlInterpolationToDomMeta.function.js';\nimport { replacePlaceholders } from '../interpolations/optimizers/replacePlaceholders.function.js';\nimport { restorePlaceholders } from '../interpolations/optimizers/restorePlaceholders.function.js';\nimport { isLastRunMatched } from './isLastRunMatched.function.js';\nimport { getStringsId } from './getStringsId.function.js';\nconst lastRuns = {};\n/** Converts strings & values into dom meta */\nexport function getDomMeta(strings, values) {\n    const stringId = getStringsId(strings);\n    const lastRun = lastRuns[stringId];\n    const matches = lastRun && isLastRunMatched(strings, values, lastRun);\n    if (matches) {\n        return lastRun.domMetaMap;\n    }\n    const domMeta = htmlInterpolationToDomMeta(strings, values);\n    const map = replacePlaceholders(domMeta, values.length);\n    // Restore any sanitized placeholders in text nodes\n    restorePlaceholders(map);\n    const template = {\n        interpolation: undefined,\n        string: undefined,\n        strings,\n        values,\n        domMetaMap: map,\n    };\n    lastRuns[stringId] = template;\n    return map;\n}\n//# sourceMappingURL=domMetaCollector.js.map","export function getStringsId(strings) {\n    const array = strings.map(x => x.length);\n    array.push(strings.length);\n    return Number(array.join(''));\n}\n//# sourceMappingURL=getStringsId.function.js.map","export function isLastRunMatched(strings, values, lastRun) {\n    if (lastRun) {\n        if (lastRun.strings.length === strings.length) {\n            const stringsMatch = lastRun.strings.every((string, index) => \n            // string.length === strings[index].length\n            string === strings[index]);\n            if (stringsMatch && lastRun.values.length === values.length) {\n                return true; // performance savings using the last time this component was rendered\n            }\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=isLastRunMatched.function.js.map","import { variablePrefix, variableSuffix } from \"../../tag/getDomTag.function.js\";\nimport { isSpecialAttr } from \"../attributes/isSpecialAttribute.function.js\";\nconst ondoubleclick = 'ondoubleclick';\nconst fragFindAny = /(:tagvar\\d+:)/;\nconst fragReplacer = /(^:tagvar\\d+:|:tagvar\\d+:$)/g;\nconst safeVar = '__safeTagVar';\nconst regexAttr = /([:_a-zA-Z0-9\\-.]+)\\s*(?:=\\s*\"([^\"]*)\"|=\\s*(\\S+))?/g;\nconst regexTagOrg = /<\\/?([a-zA-Z0-9-]+)((?:\\s+[a-zA-Z_:][\\w:.-]*(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s\"'=<>`]+))?)+\\s*|\\s*)\\/?>/g;\n/** Run only during compile step OR when no compile step occurred at runtime */\nexport function htmlInterpolationToDomMeta(strings, values) {\n    htmlInterpolationToPlaceholders(strings, values);\n    // Parse the modified fragments\n    const htmlString = htmlInterpolationToPlaceholders(strings, values).join('');\n    const domMeta = parseHTML(htmlString);\n    return domMeta;\n}\nexport function htmlInterpolationToPlaceholders(strings, values) {\n    // Sanitize placeholders in the fragments\n    const sanitizedFragments = sanitizePlaceholders(strings);\n    // Add placeholders to the fragments\n    return addPlaceholders(sanitizedFragments, values);\n}\nfunction sanitizePlaceholders(fragments) {\n    return fragments.map(fragment => fragment.replace(fragReplacer, (match, index) => safeVar + index));\n}\nfunction addPlaceholders(strings, values) {\n    const results = strings.map((fragment, index) => {\n        if (index < values.length) {\n            return fragment + variablePrefix + index + variableSuffix;\n        }\n        return fragment;\n    });\n    balanceArrayByArrays(results, strings, values);\n    return results;\n}\nexport function parseHTML(html) {\n    const valuePositions = [];\n    const elements = [];\n    const stack = [];\n    let currentElement = null;\n    let valueIndex = -1;\n    let position = 0;\n    const regexTag = new RegExp(regexTagOrg, 'g');\n    html = preprocessTagsInComments(html);\n    while (position < html.length) {\n        const tagMatch = regexTag.exec(html);\n        if (!tagMatch) {\n            break;\n        }\n        const [fullMatch, tagName, attrString] = tagMatch;\n        const isClosingTag = fullMatch.startsWith('</');\n        const isSelfClosing = fullMatch.endsWith('/>');\n        if (position < tagMatch.index) {\n            const textContent = html.slice(position, tagMatch.index);\n            if (textContent.trim()) {\n                const textVarMatches = splitByTagVar(textContent);\n                textVarMatches.forEach(textContent => {\n                    if (textContent.startsWith(variablePrefix)) {\n                        textContent = variablePrefix + (++valueIndex) + variableSuffix;\n                    }\n                    pushTextTo(currentElement, elements, textContent);\n                });\n            }\n        }\n        position = tagMatch.index + fullMatch.length;\n        if (isClosingTag) {\n            currentElement = stack.pop() || null;\n            continue;\n        }\n        const attributes = [];\n        let attrMatch;\n        while ((attrMatch = regexAttr.exec(attrString)) !== null) {\n            const attrName = attrMatch[1] || attrMatch[3] || attrMatch[5];\n            const attrChoice = attrMatch[2] || attrMatch[4] || attrMatch[6];\n            let attrValue = attrChoice;\n            if (attrName === undefined) {\n                continue;\n            }\n            const notEmpty = attrMatch[2] !== '';\n            const noValue = attrValue === undefined && notEmpty;\n            const lowerName = attrName.toLowerCase();\n            const fixedName = lowerName.startsWith('on') ? cleanEventName(lowerName) : lowerName;\n            if (noValue) {\n                const standAloneVar = attrName.slice(0, variablePrefix.length) === variablePrefix;\n                if (standAloneVar) {\n                    const valueName = variablePrefix + (++valueIndex) + variableSuffix;\n                    valuePositions.push(['at', valueName]);\n                    attributes.push([valueName]); // the name itself is dynamic\n                    continue;\n                }\n                const startMatched = attrMatch[0].startsWith(attrName);\n                const standAloneAttr = startMatched && attrMatch[0].slice(attrName.length, attrMatch[0].length).search(/\\s+$/) >= 0;\n                if (standAloneAttr) {\n                    attributes.push([fixedName]);\n                    continue;\n                }\n                const valueName = variablePrefix + (++valueIndex) + variableSuffix;\n                attrValue = valueName;\n            }\n            if (!notEmpty) {\n                attrValue = attrMatch[2];\n            }\n            const attrSet = [fixedName, attrValue];\n            const isSpecial = isSpecialAttr(lowerName); // check original name for \"oninit\" or \"autofocus\"\n            if (isSpecial) {\n                attrSet.push(isSpecial);\n            }\n            attributes.push(attrSet);\n        }\n        const element = {\n            nn: tagName, // nodeName\n        };\n        if (attributes.length) {\n            element.at = attributes;\n        }\n        if (currentElement) {\n            if (!currentElement.ch) {\n                currentElement.ch = [];\n            }\n            currentElement.ch.push(element);\n        }\n        else {\n            elements.push(element);\n        }\n        if (!isSelfClosing) {\n            stack.push(currentElement);\n            currentElement = element;\n        }\n    }\n    if (position < html.length) {\n        const textContent = html.slice(position);\n        if (textContent.trim()) {\n            const textVarMatches = splitByTagVar(textContent);\n            textVarMatches.forEach(textContent => {\n                if (textContent.startsWith(variablePrefix)) {\n                    ++valueIndex;\n                }\n                return pushTextTo(currentElement, elements, textContent);\n            });\n        }\n    }\n    return elements;\n}\nexport function balanceArrayByArrays(results, strings, values) {\n    const diff = values.length - strings.length;\n    if (diff > 0) {\n        for (let x = diff; x > 0; --x) {\n            results.push(variablePrefix + (strings.length + x - 1) + variableSuffix);\n        }\n    }\n}\nfunction splitByTagVar(inputString) {\n    // Split the string using the regular expression, keep delimiters in the output\n    const parts = inputString.split(fragFindAny);\n    // Filter out any empty strings from the results\n    const filteredParts = parts.filter(part => part !== '');\n    return filteredParts;\n}\nfunction pushTo(currentElement, elements, textNode) {\n    if (currentElement) {\n        if (!currentElement.ch) {\n            currentElement.ch = [];\n        }\n        currentElement.ch.push(textNode);\n    }\n    else {\n        elements.push(textNode);\n    }\n}\nfunction pushTextTo(currentElement, elements, textContent) {\n    const textNode = {\n        nn: 'text', // nodeName\n        tc: postprocessTagsInComments(textContent), // textContent\n    };\n    pushTo(currentElement, elements, textNode);\n}\nconst removeCommentRegX = new RegExp('(<!--[\\\\s\\\\S]*?-->)', 'g');\nfunction preprocessTagsInComments(html) {\n    // Use a regex to find all HTML comments\n    return html.replace(removeCommentRegX, function (match) {\n        // For each comment found, replace < and > inside it\n        return match.replace(/\\[l t\\]/g, '[l&nbsp;t]').replace(/\\[g t\\]/g, '[g&nbsp;t]').replace(/</g, '[l t]').replace(/>/g, '[g t]');\n    });\n}\nfunction postprocessTagsInComments(html) {\n    // Use a regex to find all segments that look like processed comments\n    return html.replace(/(\\[l t\\]!--[\\s\\S]*?--\\[g t\\])/g, function (match) {\n        // For each processed comment found, replace *lt* and *gt* back to < and >\n        return match.replace(/\\[l t\\]/g, '<').replace(/\\[g t\\]/g, '>').replace(/\\[l&nbsp;t\\]/g, '[l t]').replace(/\\[g&nbsp;t\\]/g, '[g t]');\n    });\n}\nfunction cleanEventName(eventName) {\n    if (eventName.startsWith('on')) {\n        const couldByDblClick = eventName.length === ondoubleclick.length && eventName === ondoubleclick;\n        if (couldByDblClick) {\n            return 'dblclick';\n        }\n        return eventName.slice(2, eventName.length);\n    }\n    return eventName;\n}\n//# sourceMappingURL=htmlInterpolationToDomMeta.function.js.map","import { variableSuffix, variablePrefix } from \"../../tag/getDomTag.function.js\";\nimport { ImmutableTypes } from \"../../tag/ValueTypes.enum.js\";\nexport const safeVar = '__safeTagVar';\nexport function restorePlaceholders(elements) {\n    elements.forEach(traverseAndRestore);\n}\nconst safeReplacer = /__safeTagVar(\\d+)/g;\nfunction traverseAndRestore(element) {\n    if (element.at) {\n        element.at = element.at ? element.at.map(attr => {\n            if (attr.length === 1) {\n                return attr;\n            }\n            const [, value] = attr;\n            if (typeof value === ImmutableTypes.string && value.startsWith(safeVar)) {\n                const index = parseInt(value.replace(safeVar, ''), 10);\n                attr[1] = variablePrefix + index + variableSuffix;\n            }\n            return attr;\n        }) : [];\n    }\n    if (element.ch) {\n        const children = element.ch;\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i];\n            if (child.nn === 'text') {\n                if (typeof child.tc !== ImmutableTypes.string) {\n                    return;\n                }\n                child.tc = child.tc.replace(safeReplacer, (_match, index) => variablePrefix + index + variableSuffix);\n            }\n            traverseAndRestore(child);\n        }\n        // Remove empty children array\n        if (children.length === 0) {\n            delete element.ch;\n        }\n    }\n}\n//# sourceMappingURL=restorePlaceholders.function.js.map","import { subscribeToTemplate } from '../../interpolations/subscribeToTemplate.function.js';\nimport { getHtmlSupport } from '../getSupport.function.js';\nimport { checkTagValueChange } from '../checkTagValueChange.function.js';\nimport { buildBeforeElement } from '../buildBeforeElement.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\n/** When first time render, adds to owner childTags\n * Used for BOTH inserts & updates to values that were something else\n * Intended use only for updates\n*/\nexport function processTag(ownerSupport, // owner\nsubject, // could be tag via result.tag\ncounts) {\n    const global = subject.global;\n    const support = global.newest;\n    support.ownerSupport = ownerSupport;\n    subject.checkValueChange = checkTagValueChange;\n    const ph = subject.placeholder;\n    const result = buildBeforeElement(support, counts, undefined, ph);\n    for (const sub of result.subs) {\n        subscribeToTemplate(sub);\n    }\n    return support;\n}\nexport function tagFakeTemplater(tag) {\n    const templater = getFakeTemplater();\n    templater.tag = tag;\n    tag.templater = templater;\n    return templater;\n}\nexport function getFakeTemplater() {\n    const fake = {\n        tagJsType: ValueTypes.templater,\n    };\n    return fake;\n}\n/** Create support for a tag component */\nexport function newSupportByTemplater(templater, ownerSupport, subject) {\n    const support = getHtmlSupport(templater, ownerSupport, ownerSupport.appSupport, subject);\n    const global = subject.global;\n    global.context = [];\n    return support;\n}\n//# sourceMappingURL=processTag.function.js.map","export function processUpdateContext(support, context) {\n    const thisTag = support.templater.tag;\n    const values = thisTag.values;\n    let index = 0;\n    const len = values.length;\n    while (index < len) {\n        processUpdateOneContext(values, index, context, support);\n        ++index;\n    }\n    return context;\n}\n/** returns boolean of did render */\nexport function processUpdateOneContext(values, // the interpolated values\nindex, context, ownerSupport) {\n    const value = values[index];\n    // is something already there?\n    const contextItem = context[index];\n    // Do not continue if the value is just the same\n    if (value === contextItem.value) {\n        return;\n    }\n    const handler = contextItem.handler;\n    handler(value, values, ownerSupport, contextItem);\n    contextItem.value = value;\n}\n//# sourceMappingURL=processUpdateContext.function.js.map","import { paint, painting } from './paint.function.js';\nimport { processUpdateContext } from './processUpdateContext.function.js';\nexport function updateSupportBy(olderSupport, newerSupport) {\n    const global = olderSupport.subject.global;\n    const context = global.context;\n    updateSupportValuesBy(olderSupport, newerSupport);\n    ++painting.locks;\n    processUpdateContext(olderSupport, context);\n    --painting.locks;\n    paint();\n}\nexport function updateSupportValuesBy(olderSupport, newerSupport) {\n    const tempTag = (newerSupport.templater.tag || newerSupport.templater);\n    const values = newerSupport.templater.values || tempTag.values;\n    const tag = olderSupport.templater.tag;\n    tag.values = values;\n}\n//# sourceMappingURL=updateSupportBy.function.js.map","import { getTemplaterResult } from '../getTemplaterResult.function.js';\nimport { checkTagValueChange } from '../checkTagValueChange.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getNewGlobal } from './getNewGlobal.function.js';\nimport { PropWatches } from '../tag.js';\nimport { getSupport } from '../getSupport.function.js';\nexport function processNewArrayValue(value, ownerSupport, contextItem) {\n    const tagJsType = value.tagJsType;\n    if (tagJsType) {\n        switch (tagJsType) {\n            case ValueTypes.templater: {\n                const templater = value;\n                const tag = templater.tag;\n                processNewTag(tag, ownerSupport, contextItem);\n                break;\n            }\n            case ValueTypes.tag:\n            case ValueTypes.dom:\n                processNewTag(value, ownerSupport, contextItem);\n                break;\n        }\n    }\n    return contextItem;\n}\nfunction processNewTag(value, ownerSupport, contextItem) {\n    contextItem.checkValueChange = checkTagValueChange;\n    const tag = value;\n    let templater = tag.templater;\n    // TODO: Can this ever happen?\n    if (!templater) {\n        templater = getTemplaterResult(PropWatches.DEEP);\n        templater.tag = tag;\n        tag.templater = templater;\n    }\n    const global = contextItem.global = getNewGlobal(contextItem); // contextItem.global as SupportTagGlobal\n    const newest = global.newest = getSupport(templater, ownerSupport, ownerSupport.appSupport, contextItem);\n    global.oldest = newest;\n    return contextItem;\n}\n//# sourceMappingURL=processNewValue.function.js.map","// taggedjs-no-compile\nimport { paintAppends, paintInsertBefores } from '../paint.function.js';\nimport { processFirstSubjectValue } from './processFirstSubjectValue.function.js';\nimport { checkSimpleValueChange } from '../checkDestroyPrevious.function.js';\nimport { updateExistingValue } from './updateExistingValue.function.js';\nimport { processNewArrayValue } from './processNewValue.function.js';\nimport { compareArrayItems } from './compareArrayItems.function.js';\nexport function processTagArray(subject, value, // arry of Tag classes\nownerSupport, counts, appendTo) {\n    if (!subject.lastArray) {\n        subject.lastArray = [];\n    }\n    const lastArray = subject.lastArray;\n    let runtimeInsertBefore = subject.placeholder;\n    let removed = 0;\n    /** 🗑️ remove previous items first */\n    const filteredLast = [];\n    for (let index = 0; index < lastArray.length; ++index) {\n        const item = lastArray[index];\n        // 👁️ COMPARE & REMOVE\n        const newRemoved = compareArrayItems(item, value, index, lastArray, removed, counts);\n        if (newRemoved === 0) {\n            filteredLast.push(item);\n            continue;\n        }\n        removed = removed + newRemoved;\n        // do the same number again because it was a mid delete\n        if (newRemoved === 2) {\n            index = index - 1;\n        }\n    }\n    subject.lastArray = filteredLast;\n    // const eAppendTo = existed ? undefined : appendTo\n    const eAppendTo = appendTo; // existed ? undefined : appendTo\n    const length = value.length;\n    for (let index = 0; index < length; ++index) {\n        const newSubject = reviewArrayItem(value, index, filteredLast, ownerSupport, runtimeInsertBefore, counts, eAppendTo);\n        runtimeInsertBefore = newSubject.placeholder;\n    }\n}\nfunction reviewArrayItem(array, index, lastArray, ownerSupport, runtimeInsertBefore, // used during updates\ncounts, appendTo) {\n    const item = array[index];\n    const previous = lastArray[index];\n    if (previous) {\n        return reviewPreviousArrayItem(item, previous, lastArray, ownerSupport, index, runtimeInsertBefore, counts, appendTo);\n    }\n    return processAddTagArrayItem(item, runtimeInsertBefore, // thisInsert as any,\n    ownerSupport, counts, lastArray, appendTo);\n}\nfunction reviewPreviousArrayItem(value, itemSubject, lastArray, ownerSupport, index, runtimeInsertBefore, // used during updates\ncounts, appendTo) {\n    const couldBeSame = lastArray.length > index;\n    if (couldBeSame) {\n        updateExistingValue(itemSubject, value, ownerSupport);\n        return itemSubject;\n    }\n    const result = processAddTagArrayItem(value, runtimeInsertBefore, // thisInsert as any,\n    ownerSupport, counts, lastArray, appendTo);\n    return result;\n}\nfunction processAddTagArrayItem(value, before, // used during updates\nownerSupport, counts, lastArray, appendTo) {\n    const itemSubject = {\n        value,\n        checkValueChange: checkSimpleValueChange,\n        withinOwnerElement: false, // TODO: we need to pass down depth so we can answer this truthfully\n    };\n    counts.added = counts.added + 1; // index\n    const subPlaceholder = document.createTextNode('');\n    itemSubject.placeholder = subPlaceholder;\n    if (!appendTo) {\n        paintInsertBefores.push({\n            element: subPlaceholder,\n            relative: before,\n        });\n    }\n    processNewArrayValue(value, ownerSupport, itemSubject);\n    processFirstSubjectValue(value, itemSubject, ownerSupport, counts, appendTo);\n    // after processing\n    itemSubject.value = value;\n    // Added to previous array\n    lastArray.push(itemSubject);\n    if (appendTo) {\n        paintAppends.push({\n            element: subPlaceholder,\n            relative: appendTo,\n        });\n    }\n    return itemSubject;\n}\n//# sourceMappingURL=processTagArray.js.map","import { getFakeTemplater, newSupportByTemplater, processTag } from './processTag.function.js';\nimport { processNowRegularValue } from './processRegularValue.function.js';\nimport { processReplacementComponent } from './processFirstSubjectComponent.function.js';\nimport { updateExistingTagComponent } from './updateExistingTagComponent.function.js';\nimport { BasicTypes, ValueTypes } from '../ValueTypes.enum.js';\nimport { updateSupportBy } from '../updateSupportBy.function.js';\nimport { isArray, isTagComponent } from '../../isInstance.js';\nimport { getNewGlobal } from './getNewGlobal.function.js';\nimport { processTagArray } from './processTagArray.js';\nimport { getSupport } from '../getSupport.function.js';\nconst fooCounts = { added: 0, removed: 0 };\n/** Used for all tag value updates. Determines if value changed since last render */\nexport function updateExistingValue(contextItem, newValue, // newValue\nownerSupport) {\n    // Do not continue if the value is just the same\n    if (newValue === contextItem.value) {\n        return;\n    }\n    // Have the context check itself (avoid having to detect old value)\n    const ignoreOrDestroyed = contextItem.checkValueChange(newValue, contextItem);\n    // ignore\n    if (ignoreOrDestroyed === -1) {\n        return; // do nothing\n    }\n    // is new value a tag?\n    const tagJsType = newValue && newValue.tagJsType;\n    if (tagJsType) {\n        if (tagJsType === ValueTypes.renderOnce) {\n            return;\n        }\n        tryUpdateToTag(contextItem, newValue, ownerSupport);\n        return;\n    }\n    if (isArray(newValue)) {\n        processTagArray(contextItem, newValue, ownerSupport, { added: 0, removed: 0 });\n        return;\n    }\n    if (typeof (newValue) === BasicTypes.function) {\n        contextItem.value = newValue; // do not render functions that are not explicity defined as tag html processing\n        return;\n    }\n    if (ignoreOrDestroyed) {\n        processNowRegularValue(newValue, contextItem);\n    }\n}\nfunction updateToTag(value, contextItem, ownerSupport) {\n    const tag = value;\n    let templater = tag.templater;\n    if (!templater) {\n        templater = getFakeTemplater();\n        tag.templater = templater;\n        templater.tag = tag;\n    }\n    const nowGlobal = (contextItem.global ? contextItem.global : getNewGlobal(contextItem));\n    nowGlobal.newest = newSupportByTemplater(templater, ownerSupport, contextItem);\n    processTag(ownerSupport, contextItem, fooCounts);\n}\nfunction handleStillTag(lastSupport, subject, value, ownerSupport) {\n    const templater = value.templater || value;\n    const valueSupport = getSupport(templater, ownerSupport, ownerSupport.appSupport, subject);\n    const lastSubject = lastSupport.subject;\n    const newGlobal = lastSubject.global;\n    const oldest = newGlobal.oldest;\n    updateSupportBy(oldest, valueSupport);\n}\nexport function prepareUpdateToComponent(templater, contextItem, ownerSupport) {\n    const global = contextItem.global;\n    // When last value was not a component\n    if (!global.newest) {\n        processReplacementComponent(templater, contextItem, ownerSupport, { added: 0, removed: 0 });\n        return;\n    }\n    const support = getSupport(templater, ownerSupport, ownerSupport.appSupport, contextItem);\n    updateExistingTagComponent(ownerSupport, support, // latest value\n    contextItem);\n}\nexport function updateContextItemBySupport(support, contextItem, value, ownerSupport) {\n    if (typeof (value) === BasicTypes.function) {\n        return;\n    }\n    handleStillTag(support, contextItem, value, ownerSupport);\n    return;\n}\n/** result is an indication to ignore further processing but that does not seem in use anymore */\nexport function tryUpdateToTag(contextItem, newValue, // newValue\nownerSupport) {\n    const tagJsType = newValue.tagJsType;\n    const isComp = isTagComponent(newValue);\n    if (isComp) {\n        if (contextItem.global === undefined) {\n            getNewGlobal(contextItem);\n        }\n        prepareUpdateToComponent(newValue, contextItem, ownerSupport);\n        return true;\n    }\n    // detect if previous value was a tag\n    const global = contextItem.global;\n    if (global) {\n        // its html/dom based tag\n        const support = global.newest;\n        if (support) {\n            updateContextItemBySupport(support, contextItem, newValue, ownerSupport);\n            return true;\n        }\n    }\n    switch (tagJsType) {\n        case ValueTypes.templater:\n            processTag(ownerSupport, contextItem, fooCounts);\n            return true;\n        // when value was not a Tag before\n        case ValueTypes.tag:\n        case ValueTypes.dom: {\n            updateToTag(newValue, contextItem, ownerSupport);\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=updateExistingValue.function.js.map","import { deepCompareDepth, hasSupportChanged, shallowCompareDepth } from '../hasSupportChanged.function.js';\nimport { processReplacementComponent } from './processFirstSubjectComponent.function.js';\nimport { castProps, isSkipPropValue } from '../../alterProp.function.js';\nimport { renderSupport } from '../render/renderSupport.function.js';\nimport { BasicTypes, ValueTypes } from '../ValueTypes.enum.js';\nimport { destroySupport } from '../destroySupport.function.js';\nimport { getNewGlobal } from './getNewGlobal.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { isArray } from '../../isInstance.js';\nimport { PropWatches } from '../tag.js';\nexport function updateExistingTagComponent(ownerSupport, support, // lastest\nsubject) {\n    const global = subject.global;\n    const lastSupport = global.newest;\n    const oldWrapper = lastSupport.templater.wrapper;\n    const newWrapper = support.templater.wrapper;\n    let isSameTag = false;\n    const tagJsType = support.templater.tagJsType;\n    const skipComparing = ValueTypes.stateRender === tagJsType || ValueTypes.renderOnce === tagJsType;\n    if (skipComparing) {\n        isSameTag = support.templater.tagJsType === ValueTypes.renderOnce || isLikeTags(lastSupport, support);\n    }\n    else if (oldWrapper && newWrapper) {\n        const oldFunction = oldWrapper.original;\n        const newFunction = newWrapper.original;\n        // string compare both functions\n        isSameTag = oldFunction === newFunction;\n    }\n    const templater = support.templater;\n    if (!isSameTag) {\n        swapTags(subject, templater, ownerSupport);\n        return;\n    }\n    const hasChanged = skipComparing || hasSupportChanged(lastSupport, templater);\n    // everyhing has matched, no display needs updating.\n    if (!hasChanged) {\n        const maxDepth = templater.propWatch === PropWatches.DEEP ? deepCompareDepth : shallowCompareDepth;\n        syncSupports(templater, support, lastSupport, ownerSupport, maxDepth);\n        return;\n    }\n    if (global.locked) {\n        global.blocked.push(support);\n        return;\n    }\n    renderSupport(support);\n    return;\n}\nexport function syncFunctionProps(newSupport, lastSupport, ownerSupport, newPropsArray, // templater.props\nmaxDepth, depth = -1) {\n    const global = lastSupport.subject.global;\n    const newest = global.newest;\n    if (!newest) {\n        const castedProps = castProps(newPropsArray, newSupport, depth);\n        newPropsArray.push(...castedProps);\n        const propsConfig = newSupport.propsConfig;\n        propsConfig.castProps = castedProps;\n        return newPropsArray;\n    }\n    lastSupport = newest || lastSupport;\n    const priorPropConfig = lastSupport.propsConfig;\n    const priorPropsArray = priorPropConfig.castProps;\n    const newArray = [];\n    for (let index = 0; index < newPropsArray.length; ++index) {\n        const prop = newPropsArray[index];\n        const priorProp = priorPropsArray[index];\n        const newValue = syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, depth + 1, maxDepth);\n        newArray.push(newValue);\n    }\n    const newPropsConfig = newSupport.propsConfig;\n    newPropsConfig.castProps = newArray;\n    return newArray;\n}\nfunction syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, maxDepth, depth) {\n    if (priorProp === undefined) {\n        return prop;\n    }\n    if (typeof (priorProp) === BasicTypes.function) {\n        // the prop i am receiving, is already being monitored/controlled by another parent\n        if (prop.mem) {\n            priorProp.mem = prop.mem;\n            return prop;\n        }\n        priorProp.mem = prop;\n        return priorProp;\n    }\n    // prevent infinite recursion\n    if (depth === maxDepth) {\n        return prop;\n    }\n    if (isSkipPropValue(prop)) {\n        return prop; // no children to crawl through\n    }\n    if (isArray(prop)) {\n        return updateExistingArray(prop, priorProp, newSupport, ownerSupport, depth);\n    }\n    return updateExistingObject(prop, priorProp, newSupport, ownerSupport, depth, maxDepth);\n}\nfunction updateExistingObject(prop, priorProp, newSupport, ownerSupport, depth, maxDepth) {\n    const keys = Object.keys(prop);\n    for (const name of keys) {\n        const subValue = prop[name];\n        const oldProp = priorProp[name];\n        const result = syncPriorPropFunction(oldProp, subValue, newSupport, ownerSupport, maxDepth, depth + 1);\n        if (subValue === result) {\n            continue;\n        }\n        const hasSetter = Object.getOwnPropertyDescriptor(prop, name)?.set;\n        if (hasSetter) {\n            continue;\n        }\n        prop[name] = result;\n    }\n    return prop;\n}\nfunction updateExistingArray(prop, priorProp, newSupport, ownerSupport, depth) {\n    for (let index = prop.length - 1; index >= 0; --index) {\n        const x = prop[index];\n        const oldProp = priorProp[index];\n        prop[index] = syncPriorPropFunction(oldProp, x, newSupport, ownerSupport, depth + 1, index);\n    }\n    return prop;\n}\nexport function moveProviders(lastSupport, newSupport) {\n    const global = lastSupport.subject.global;\n    let pIndex = -1;\n    const providers = global.providers = global.providers || [];\n    const pLen = providers.length - 1;\n    while (pIndex++ < pLen) {\n        const provider = providers[pIndex];\n        let index = -1;\n        const pcLen = provider.children.length - 1;\n        while (index++ < pcLen) {\n            const child = provider.children[index];\n            const wasSameGlobals = global === child.subject.global;\n            if (wasSameGlobals) {\n                provider.children.splice(index, 1);\n                provider.children.push(newSupport);\n                return;\n            }\n        }\n    }\n}\nfunction syncSupports(templater, support, lastSupport, ownerSupport, maxDepth) {\n    // update function refs to use latest references\n    const newProps = templater.props;\n    const castedProps = syncFunctionProps(support, lastSupport, ownerSupport, newProps, maxDepth);\n    const propsConfig = support.propsConfig;\n    // When new support actually makes call to real function, use these pre casted props\n    propsConfig.castProps = castedProps;\n    const lastPropsConfig = lastSupport.propsConfig;\n    // update support to think it has different cloned props\n    lastPropsConfig.latest = propsConfig.latest;\n    return lastSupport; // its the same tag component  \n}\n/** Was tag, will be tag */\nfunction swapTags(subject, templater, // new tag\nownerSupport) {\n    const global = subject.global;\n    const oldestSupport = global.oldest;\n    destroySupport(oldestSupport);\n    getNewGlobal(subject);\n    const newSupport = processReplacementComponent(templater, subject, ownerSupport, { added: 0, removed: 0 });\n    return newSupport;\n}\n//# sourceMappingURL=updateExistingTagComponent.function.js.map","import { getNewGlobal } from './update/getNewGlobal.function.js';\nimport { destroySupport } from './destroySupport.function.js';\nimport { isStaticTag } from '../isInstance.js';\nimport { isLikeTags } from './isLikeTags.function.js';\nimport { tryUpdateToTag } from './update/updateExistingValue.function.js';\nexport function checkTagValueChange(newValue, contextItem) {\n    const global = contextItem.global;\n    const lastSupport = global?.newest;\n    const isValueTag = isStaticTag(newValue);\n    const newTag = newValue;\n    if (isValueTag) {\n        // its a different tag now\n        const likeTags = isLikeTags(newTag, lastSupport);\n        if (!likeTags) {\n            destroySupport(lastSupport);\n            getNewGlobal(contextItem);\n            return 7; // 'tag-swap'\n        }\n        return false;\n    }\n    const isTag = newValue?.tagJsType;\n    if (isTag) {\n        const support = global.newest;\n        const ownerSupport = support.ownerSupport;\n        const result = tryUpdateToTag(contextItem, newValue, ownerSupport);\n        return result === true ? -1 : false;\n    }\n    // destroy old component, value is not a component\n    destroySupport(lastSupport);\n    delete contextItem.global;\n    contextItem.renderCount = 0;\n    return 8; // 'no-longer-tag'\n}\n//# sourceMappingURL=checkTagValueChange.function.js.map","import { StateMismatchError } from '../errors.js';\nexport function checkStateMismatch(config, support) {\n    const rearray = config.rearray;\n    if (rearray.length && rearray.length !== config.stateArray.length) {\n        throwStateMismatch(rearray, support, config);\n    }\n}\nconst hint = 'State tracking requires same number of state calls on every render. This error typically occurs when a state call is only reachable behind a condition. Also, wrapping tags that have state, with tag(), often helps when tag is only reachable by a condition.';\nfunction throwStateMismatch(rearray, support, config) {\n    const message = `Saved states between renders are inconsistent. Expected ${rearray.length} states got ${config.stateArray.length}.`;\n    const wrapper = support.templater?.wrapper;\n    let tagFunction = wrapper;\n    if (wrapper?.original) {\n        tagFunction = wrapper.original;\n    }\n    else if (wrapper?.original) {\n        tagFunction = wrapper.original;\n    }\n    const details = {\n        oldStates: config.stateArray,\n        newStates: config.rearray,\n        tagFunction,\n        templater: support.templater,\n    };\n    const error = new StateMismatchError(message, details);\n    console.error(hint, details);\n    throw error;\n}\n//# sourceMappingURL=checkStateMismatch.function.js.map","import { setUseMemory } from '../state/setUseMemory.object.js';\nimport { checkStateMismatch } from './checkStateMismatch.function.js';\n/** Compares states of previous renders\n * @property support - The workflow that supports a single tag\n * @property ownerSupport - undefined when \"support\" is the app element\n */\nexport function runAfterRender(support, ownerSupport) {\n    const subject = support.subject;\n    ++subject.renderCount;\n    const config = setUseMemory.stateConfig;\n    delete config.support;\n    support.state = config.stateArray;\n    // support.states = config.states\n    setUseMemory.tagClosed$.next(ownerSupport);\n    checkStateMismatch(config, support);\n    subject.global.newest = support;\n}\n//# sourceMappingURL=afterRender.function.js.map","import { executeWrap } from '../executeWrap.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { runAfterRender } from '../afterRender.function.js';\nimport { initState, reState } from '../../state/state.utils.js';\nimport { setUseMemory } from '../../state/setUseMemory.object.js';\nimport { getSupport } from '../getSupport.function.js';\nexport function renderTagOnly(newSupport, prevSupport, // causes restate\nsubject, ownerSupport) {\n    const global = subject.global;\n    const oldRenderCount = subject.renderCount;\n    const prevState = prevSupport?.state;\n    const config = setUseMemory.stateConfig;\n    if (prevState) {\n        const prevStates = prevSupport.states;\n        config.prevSupport = prevSupport;\n        reState(newSupport, setUseMemory.stateConfig, prevState, prevStates);\n    }\n    else {\n        initState(newSupport, config);\n    }\n    const templater = newSupport.templater;\n    let reSupport;\n    // NEW TAG CREATED HERE\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        const result = templater; // .wrapper as any// || {original: templater} as any\n        // TODO: Not sure if useSupport could be replaced by just using \"newSupport\"\n        const useSupport = getSupport(templater, ownerSupport, newSupport.appSupport, // ownerSupport.appSupport as AnySupport,\n        subject);\n        reSupport = executeWrap(templater, result, useSupport);\n        reSupport.states = newSupport.states;\n    }\n    else {\n        // functions wrapped in tag()\n        const wrapper = templater.wrapper;\n        // calls the function returned from getTagWrap()\n        reSupport = wrapper(newSupport, subject, prevSupport);\n        reSupport.states = newSupport.states;\n    }\n    runAfterRender(reSupport, ownerSupport);\n    // When we rendered, only 1 render should have taken place OTHERWISE rendering caused another render and that is the latest instead\n    // TODO: below most likely not needed\n    if (subject.renderCount > oldRenderCount + 1) {\n        return global.newest;\n    }\n    return reSupport;\n}\n//# sourceMappingURL=renderTagOnly.function.js.map","import { subscribeToTemplate } from '../../interpolations/subscribeToTemplate.function.js';\nimport { checkTagValueChange } from '../checkTagValueChange.function.js';\nimport { buildBeforeElement } from '../buildBeforeElement.function.js';\nimport { paintAppends, paintInsertBefores } from '../paint.function.js';\nimport { newSupportByTemplater } from './processTag.function.js';\nexport function processNewSubjectTag(templater, ownerSupport, // owner\nsubject, // could be tag via result.tag\ncounts, appendTo, insertBefore) {\n    subject.checkValueChange = checkTagValueChange;\n    const support = newSupportByTemplater(templater, ownerSupport, subject);\n    support.ownerSupport = ownerSupport;\n    const result = buildBeforeElement(support, counts, appendTo, appendTo ? undefined : insertBefore);\n    for (const dom of result.dom) {\n        if (dom.marker) {\n            if (appendTo) {\n                paintAppends.push({\n                    element: dom.marker,\n                    relative: appendTo, // ph.parentNode as Element,\n                });\n            }\n            else {\n                paintInsertBefores.push({\n                    element: dom.marker,\n                    relative: insertBefore, // ph.parentNode as Element,\n                });\n            }\n        }\n        if (dom.domElement) {\n            /*\n            paintAppends.push({\n              element: dom.domElement,\n              relative: appendTo as Element, // ph.parentNode as Element,\n            })\n            */\n            if (appendTo) {\n                paintAppends.push({\n                    element: dom.domElement,\n                    relative: appendTo, // ph.parentNode as Element,\n                });\n            }\n            else {\n                paintInsertBefores.push({\n                    element: dom.domElement,\n                    relative: insertBefore, // ph.parentNode as Element,\n                });\n            }\n        }\n    }\n    let index = -1;\n    const length = result.subs.length - 1;\n    //++painting.locks\n    while (index++ < length) {\n        const sub = result.subs[index];\n        subscribeToTemplate(sub);\n    }\n    return support;\n}\n//# sourceMappingURL=processNewSubjectTag.function.js.map","import { checkArrayValueChange, checkSimpleValueChange } from '../checkDestroyPrevious.function.js';\nimport { checkTagValueChange } from '../checkTagValueChange.function.js';\nimport { processFirstSubjectComponent, processReplacementComponent } from './processFirstSubjectComponent.function.js';\nimport { newSupportByTemplater, processTag, tagFakeTemplater } from './processTag.function.js';\nimport { castTextValue, updateBeforeTemplate } from '../../updateBeforeTemplate.function.js';\nimport { oneRenderToSupport } from './oneRenderToSupport.function.js';\nimport { renderTagOnly } from '../render/renderTagOnly.function.js';\nimport { isArray, isSubjectInstance } from '../../isInstance.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getNewGlobal } from './getNewGlobal.function.js';\nimport { processTagArray } from './processTagArray.js';\nimport { processNewSubjectTag } from './processNewSubjectTag.function.js';\nexport function processFirstSubjectValue(value, contextItem, // could be tag via result.tag\nownerSupport, // owningSupport\ncounts, // {added:0, removed:0}\nappendTo, insertBefore) {\n    const tagJsType = value?.tagJsType;\n    if (tagJsType) {\n        return processFirstTagValue(tagJsType, contextItem, value, ownerSupport, counts, appendTo, insertBefore);\n    }\n    if (isArray(value)) {\n        processTagArray(contextItem, value, ownerSupport, counts, appendTo);\n        contextItem.checkValueChange = checkArrayValueChange;\n        return;\n    }\n    if (isSubjectInstance(value)) {\n        return; // will be subscribed to for value\n    }\n    processFirstRegularValue(value, contextItem, contextItem.placeholder);\n}\nfunction processFirstRegularValue(value, subject, // could be tag via subject.tag\ninsertBefore) {\n    const castedValue = castTextValue(value);\n    const clone = updateBeforeTemplate(castedValue, insertBefore);\n    subject.simpleValueElm = clone;\n    subject.checkValueChange = checkSimpleValueChange;\n}\nfunction processFirstTagValue(tagJsType, contextItem, value, ownerSupport, // owningSupport\ncounts, // {added:0, removed:0}\nappendTo, insertBefore) {\n    switch (tagJsType) {\n        // TODO: Do we ever get in here? because dom, tag, and component are covered below\n        case ValueTypes.templater:\n            contextItem.checkValueChange = checkTagValueChange;\n            if (appendTo) {\n                return processNewSubjectTag(value, ownerSupport, contextItem, counts, appendTo, insertBefore);\n            }\n            return processTag(ownerSupport, contextItem, counts);\n        case ValueTypes.dom:\n        case ValueTypes.tag: {\n            contextItem.checkValueChange = checkTagValueChange;\n            const tag = value;\n            let templater = tag.templater;\n            if (!templater) {\n                templater = tagFakeTemplater(tag); // TODO: most likely a not needed performance hit\n            }\n            const global = getNewGlobal(contextItem);\n            if (appendTo) {\n                return processNewSubjectTag(templater, ownerSupport, contextItem, counts, appendTo, insertBefore);\n            }\n            global.newest = newSupportByTemplater(templater, ownerSupport, contextItem);\n            contextItem.checkValueChange = checkTagValueChange;\n            return processTag(ownerSupport, contextItem, counts);\n        }\n        case ValueTypes.stateRender:\n        case ValueTypes.tagComponent: {\n            getNewGlobal(contextItem);\n            contextItem.checkValueChange = checkTagValueChange;\n            if (appendTo) {\n                const processResult = processFirstSubjectComponent(value, contextItem, ownerSupport, counts, appendTo);\n                return processResult;\n            }\n            const processResult = processReplacementComponent(value, contextItem, ownerSupport, counts);\n            return processResult;\n        }\n        case ValueTypes.renderOnce: {\n            getNewGlobal(contextItem);\n            const support = oneRenderToSupport(value, contextItem, ownerSupport);\n            renderTagOnly(support, undefined, contextItem, ownerSupport);\n            const result = processNewSubjectTag(support.templater, ownerSupport, contextItem, counts, appendTo, insertBefore);\n            contextItem.checkValueChange = checkTagValueChange;\n            return result;\n        }\n    }\n}\n//# sourceMappingURL=processFirstSubjectValue.function.js.map","import { processFirstTagResult, processReplaceTagResult } from './processTagResult.function.js';\nimport { renderWithSupport } from '../render/renderWithSupport.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getCastedProps } from '../getTagWrap.function.js';\nimport { getSupport } from '../getSupport.function.js';\nexport function processReplacementComponent(templater, subject, ownerSupport, counts) {\n    // TODO: This below check not needed in production mode\n    // validateTemplater(templater)\n    const newSupport = getSupport(templater, ownerSupport, ownerSupport.appSupport, subject);\n    const newPropsConfig = newSupport.propsConfig;\n    if (newPropsConfig) {\n        const castedProps = templater.tagJsType !== ValueTypes.tagComponent ? [] : getCastedProps(templater, newSupport);\n        newPropsConfig.castProps = castedProps;\n    }\n    const global = subject.global;\n    const { support } = renderWithSupport(newSupport, global.newest, // existing tag\n    subject, ownerSupport);\n    processReplaceTagResult(support, counts, subject);\n    return support;\n}\nexport function processFirstSubjectComponent(templater, subject, ownerSupport, counts, appendTo) {\n    // TODO: This below check not needed in production mode\n    // validateTemplater(templater)\n    const newSupport = getSupport(templater, ownerSupport, ownerSupport.appSupport, subject);\n    const newPropsConfig = newSupport.propsConfig;\n    if (newPropsConfig) {\n        const castedProps = templater.tagJsType !== ValueTypes.tagComponent ? [] : getCastedProps(templater, newSupport);\n        newPropsConfig.castProps = castedProps;\n    }\n    const global = subject.global;\n    const { support } = renderWithSupport(newSupport, global.newest, // existing tag   \n    subject, ownerSupport);\n    processFirstTagResult(support, counts, appendTo);\n    return support;\n}\n//# sourceMappingURL=processFirstSubjectComponent.function.js.map","import { subscribeToTemplate } from '../../interpolations/subscribeToTemplate.function.js';\nimport { buildBeforeElement } from '../buildBeforeElement.function.js';\nimport { paintAppends } from '../paint.function.js';\nimport { checkTagValueChange } from '../index.js';\nexport function processReplaceTagResult(support, counts, contextItem) {\n    contextItem.checkValueChange = checkTagValueChange;\n    const ph = contextItem.placeholder;\n    const result = buildBeforeElement(support, counts, undefined, // element for append child\n    ph);\n    const subs = result.subs;\n    for (const sub of subs) {\n        subscribeToTemplate(sub);\n    }\n    return support;\n}\nexport function processFirstTagResult(support, counts, appendTo) {\n    let appendIndex = paintAppends.length;\n    const result = buildBeforeElement(support, counts, appendTo, undefined);\n    for (const dom of result.dom) {\n        if (dom.domElement) {\n            paintAppends.splice(appendIndex++, 0, {\n                element: dom.domElement,\n                relative: appendTo,\n            });\n        }\n        if (dom.marker) {\n            paintAppends.splice(appendIndex++, 0, {\n                element: dom.marker,\n                relative: appendTo,\n            });\n        }\n    }\n    const subs = result.subs;\n    for (const sub of subs) {\n        subscribeToTemplate(sub);\n    }\n    return support;\n}\n//# sourceMappingURL=processTagResult.function.js.map","import { getTemplaterResult } from '../getTemplaterResult.function.js';\nimport { newSupportByTemplater } from './processTag.function.js';\nimport { PropWatches } from '../tag.js';\nexport function oneRenderToSupport(wrapper, subject, ownerSupport) {\n    const templater = getTemplaterResult(PropWatches.DEEP);\n    templater.tagJsType = wrapper.tagJsType;\n    const support = newSupportByTemplater(templater, ownerSupport, subject);\n    let tag;\n    function wrap() {\n        templater.tag = tag || wrapper();\n        return support;\n    }\n    templater.wrapper = wrap;\n    wrap.tagJsType = wrapper.tagJsType;\n    wrap.original = wrapper.original || wrapper;\n    return support;\n}\n//# sourceMappingURL=oneRenderToSupport.function.js.map","import { processFirstSubjectValue } from '../tag/update/processFirstSubjectValue.function.js';\nimport { processSubUpdate } from './processSubscriptionUpdate.function.js';\nimport { setUseMemory } from '../state/setUseMemory.object.js';\nimport { paint } from '../tag/paint.function.js';\n/** Used for when dynamic value is truly something to subscribe to */\nexport function subscribeToTemplate({ subject, support, counts, contextItem, appendTo, }) {\n    let onValue = function onSubValue(value) {\n        processFirstSubjectValue(value, contextItem, support, { ...counts }, syncRun ? appendTo : undefined);\n        if (!syncRun && !setUseMemory.stateConfig.support) {\n            paint();\n        }\n        // from now on just run update\n        onValue = function subscriptionUpdate(value) {\n            processSubUpdate(value, contextItem, support);\n        };\n    };\n    // onValue mutates so function below calls original and mutation\n    const callback = function subValueProcessor(value) {\n        onValue(value);\n    };\n    let syncRun = true;\n    const sub = subject.subscribe(callback);\n    contextItem.subject = subject;\n    syncRun = false;\n    const global = support.subject.global;\n    const subs = global.subscriptions = global.subscriptions || [];\n    subs.push(sub);\n    // contextItem.handler = blankHandler\n}\n//# sourceMappingURL=subscribeToTemplate.function.js.map","import { updateExistingValue } from '../tag/update/updateExistingValue.function.js';\nimport { setUseMemory } from '../state/setUseMemory.object.js';\nimport { paint } from '../tag/paint.function.js';\nexport function processSubUpdate(value, contextItem, support) {\n    if (value === contextItem.value) {\n        return; // same value emitted\n    }\n    updateExistingValue(contextItem, value, support);\n    if (!setUseMemory.stateConfig.support) {\n        paint();\n    }\n    return;\n}\n//# sourceMappingURL=processSubscriptionUpdate.function.js.map","import { getChildTagsToSoftDestroy } from '../getChildTagsToDestroy.function.js';\nimport { getNewGlobal } from '../update/getNewGlobal.function.js';\nimport { smartRemoveKids } from '../smartRemoveKids.function.js';\n/** used when a tag swaps content returned */\nexport function softDestroySupport(lastSupport) {\n    const global = lastSupport.subject.global;\n    const { subs, tags } = getChildTagsToSoftDestroy(global.context);\n    softDestroyOne(lastSupport);\n    for (const child of tags) {\n        softDestroyOne(child);\n    }\n    const mySubs = global.subscriptions;\n    if (mySubs) {\n        subs.forEach(sub => sub.unsubscribe());\n    }\n    getNewGlobal(lastSupport.subject);\n}\nfunction softDestroyOne(child) {\n    const subject = child.subject;\n    const global = subject.global;\n    if (global.deleted === true) {\n        return;\n    }\n    global.deleted = true; // the children are truly destroyed but the main support will be swapped\n    subject.renderCount = 0; // TODO: most likely can be removed\n    smartRemoveKids(child, []);\n}\n//# sourceMappingURL=softDestroySupport.function.js.map","import { moveProviders } from '../update/updateExistingTagComponent.function.js';\nimport { softDestroySupport } from './softDestroySupport.function.js';\nimport { renderTagOnly } from './renderTagOnly.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\n/** TODO: This seems to support both new and updates and should be separated? */\nexport function renderWithSupport(newSupport, lastSupport, // previous\nsubject, // events & memory\nownerSupport) {\n    const lastTemplater = lastSupport?.templater;\n    const lastTag = lastTemplater?.tag;\n    const reSupport = renderTagOnly(newSupport, lastSupport, subject, ownerSupport);\n    const isLikeTag = !lastSupport || isLikeTags(lastSupport, reSupport);\n    if (!isLikeTag) {\n        moveProviders(lastSupport, reSupport);\n        softDestroySupport(lastSupport);\n        const global = reSupport.subject.global;\n        global.oldest = reSupport;\n        global.newest = reSupport;\n    }\n    else if (lastSupport) {\n        const tag = lastSupport.templater.tag;\n        if (tag && subject.renderCount > 0) {\n            checkTagSoftDestroy(tag, lastSupport, lastTag);\n        }\n    }\n    const lastOwnerSupport = lastSupport?.ownerSupport;\n    reSupport.ownerSupport = (ownerSupport || lastOwnerSupport);\n    return { support: reSupport, wasLikeTags: isLikeTag };\n}\nfunction checkTagSoftDestroy(tag, lastSupport, lastTag) {\n    if (tag.tagJsType === ValueTypes.dom) {\n        const lastDom = lastTag?.dom;\n        const newDom = tag.dom;\n        if (lastDom !== newDom) {\n            softDestroySupport(lastSupport);\n        }\n        return;\n    }\n    if (lastTag) {\n        const lastStrings = lastTag.strings;\n        if (lastStrings) {\n            const oldLength = lastStrings?.length;\n            const newLength = tag.strings.length;\n            if (oldLength !== newLength) {\n                softDestroySupport(lastSupport);\n            }\n        }\n    }\n}\n//# sourceMappingURL=renderWithSupport.function.js.map","import { renderWithSupport } from './renderWithSupport.function.js';\nimport { processTag } from '../update/processTag.function.js';\nimport { updateSupportBy } from '../updateSupportBy.function.js';\nconst fooCounts = { added: 0, removed: 0 };\n// TODO: This function is being called for 1st time renders WHEN renderCount === 1\nexport function renderExistingReadyTag(lastSupport, newSupport, // new to be rendered\nownerSupport, // ownerSupport\nsubject) {\n    const global = subject.global;\n    const { support, wasLikeTags } = renderWithSupport(newSupport, lastSupport, // renderCount <= 0 ? undefined : lastSupport\n    subject, ownerSupport);\n    if (wasLikeTags) {\n        updateSupportBy(global.oldest, support);\n        return support;\n    }\n    processTag(ownerSupport, subject, fooCounts);\n    return support;\n}\n//# sourceMappingURL=renderExistingTag.function.js.map","import { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUseMemory } from './setUseMemory.object.js';\nimport { SyncCallbackError } from '../errors.js';\nimport { createTrigger } from './callback.function.js';\nexport const callbackMaker = () => {\n    const support = getSupportInCycle();\n    // callback as typeof innerCallback\n    if (!support) {\n        throw syncError;\n    }\n    const oldState = setUseMemory.stateConfig; // .stateArray\n    // oldState.support = support // TODO: should not be need and already set\n    return function triggerMaker(callback) {\n        return createTrigger(support, oldState, callback);\n    };\n};\nexport const syncError = new SyncCallbackError('callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering');\n//# sourceMappingURL=callbackMaker.function.js.map","import { setUseMemory } from '../state/index.js';\nexport function getSupportInCycle() {\n    return setUseMemory.stateConfig.support;\n}\n//# sourceMappingURL=getSupportInCycle.function.js.map","// taggedjs-no-compile\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { getSupportInCycle } from './getSupportInCycle.function.js';\nexport const variablePrefix = ':tagvar';\nexport const variableSuffix = ':';\nexport function getStringTag(strings, values) {\n    const tag = {\n        values,\n        ownerSupport: getSupportInCycle(),\n        tagJsType: ValueTypes.tag,\n        strings,\n        /** Used within an array.map() that returns html aka array.map(x => html``.key(x)) */\n        key(arrayValue) {\n            tag.arrayValue = arrayValue;\n            return tag;\n        },\n        html: function html(strings, values) {\n            tag.children = { strings, values };\n            return tag;\n        }\n    };\n    return tag;\n}\nexport function getDomTag(dom, values) {\n    const tag = {\n        values,\n        ownerSupport: getSupportInCycle(),\n        dom,\n        tagJsType: ValueTypes.dom,\n        key: function keyFun(arrayValue) {\n            tag.arrayValue = arrayValue;\n            return tag;\n        },\n        html: {\n            dom: function dom(dom, // ObjectChildren\n            values) {\n                tag.children = { dom: dom, values };\n                return tag;\n            }\n        }\n    };\n    return tag;\n}\n//# sourceMappingURL=getDomTag.function.js.map","// taggedjs-no-compile\nimport { variableSuffix, variablePrefix } from \"../../tag/getDomTag.function.js\";\nimport { ImmutableTypes } from \"../../tag/ValueTypes.enum.js\";\nconst placeholderRegex = new RegExp(variablePrefix + '(\\\\d+)' + variableSuffix, 'g');\nconst ch = 'ch'; // short for children\nexport function replacePlaceholders(dom, valueCount, valuePositions = [], currentTail = []) {\n    const elements = dom;\n    for (let i = 0; i < elements.length; i++) {\n        const loopTail = [...currentTail, i];\n        const element = elements[i];\n        if (element.at) {\n            const attrs = element.at;\n            element.at = processAttributes(attrs, valueCount);\n        }\n        if (element.ch) {\n            const children = element.ch;\n            const innerLoopTail = [...loopTail, ch];\n            element.ch = replacePlaceholders(children, valueCount, valuePositions, innerLoopTail);\n        }\n        i = examineChild(element, valueCount, elements, i);\n    }\n    return elements;\n}\nfunction examineChild(child, valueCount, children, index) {\n    if (child.nn !== 'text') {\n        return index;\n    }\n    const textChild = child;\n    let textContent = textChild.tc;\n    if (typeof textContent !== ImmutableTypes.string) {\n        return index;\n    }\n    let match;\n    while ((match = placeholderRegex.exec(textContent)) !== null) {\n        const secondMatch = match[1];\n        const wIndex = parseInt(secondMatch, 10);\n        const examine = !isNaN(wIndex) && wIndex < valueCount;\n        if (examine) {\n            const varContent = variablePrefix + wIndex + variableSuffix;\n            const after = textContent.slice(match.index + varContent.length);\n            children.splice(index, 1, ...[{\n                    nn: 'text',\n                    v: wIndex\n                }]);\n            textContent = after;\n            placeholderRegex.lastIndex = 0; // Reset regex index due to split\n        }\n    }\n    textChild.tc = textContent;\n    return index;\n}\nfunction processAttributes(attributes, valueCount) {\n    return attributes.map(attrSet => {\n        const [key, value, isSpecial] = attrSet;\n        if (key.startsWith(variablePrefix)) {\n            const index = parseInt(key.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < valueCount) {\n                return [{ tagJsVar: index }];\n            }\n        }\n        if (typeof value === ImmutableTypes.string && value.startsWith(variablePrefix)) {\n            const index = parseInt(value.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < valueCount) {\n                return [key, { tagJsVar: index }, isSpecial];\n            }\n        }\n        return attrSet;\n    });\n}\n//# sourceMappingURL=replacePlaceholders.function.js.map","import { getStringTag, getDomTag } from './getDomTag.function.js';\nimport { PropWatches } from './tag.js';\nimport { getTemplaterResult } from './getTemplaterResult.function.js';\nexport function html(strings, ...values) {\n    const stringTag = getStringTag(strings, values);\n    const templater = getTemplaterResult(PropWatches.NONE);\n    templater.tag = stringTag;\n    stringTag.templater = templater;\n    return stringTag;\n}\nhtml.dom = function (dom, ...values) {\n    return getDomTag(dom, values);\n};\n//# sourceMappingURL=html.js.map","import { getBaseSupport, upgradeBaseToSupport } from './getSupport.function.js';\nimport { subscribeToTemplate } from '../interpolations/subscribeToTemplate.function.js';\nimport { buildBeforeElement } from './buildBeforeElement.function.js';\nimport { tags } from './tag.utils.js';\nimport { getNewGlobal } from './update/getNewGlobal.function.js';\nimport { BasicTypes, ValueTypes } from './ValueTypes.enum.js';\nimport { destroySupport } from './destroySupport.function.js';\nimport { PropWatches } from './index.js';\nimport { runAfterRender } from './afterRender.function.js';\nimport { executeWrap } from './executeWrap.function.js';\nimport { paint, painting } from './paint.function.js';\nimport { initState, reState } from '../state/state.utils.js';\nimport { isTagComponent } from '../isInstance.js';\nimport { setUseMemory } from '../state/setUseMemory.object.js';\nimport { checkTagValueChange } from './checkTagValueChange.function.js';\nconst appElements = [];\n/**\n *\n * @param app taggedjs tag\n * @param element HTMLElement\n * @param props object\n * @returns\n */\nexport function tagElement(app, element, props) {\n    const appElmIndex = appElements.findIndex(appElm => appElm.element === element);\n    if (appElmIndex >= 0) {\n        destroySupport(appElements[appElmIndex].support);\n        appElements.splice(appElmIndex, 1);\n        // an element already had an app on it\n        console.warn('Found and destroyed app element already rendered to element', { element });\n    }\n    // Create the app which returns [props, runOneTimeFunction]\n    let templater = (() => templater2(props));\n    templater.propWatch = PropWatches.NONE;\n    templater.tagJsType = ValueTypes.stateRender;\n    // todo: props should be an array\n    templater.props = [props];\n    templater.isApp = true;\n    // create observable the app lives on\n    const subject = getNewSubject(templater, element);\n    const global = subject.global;\n    initState(global.newest, setUseMemory.stateConfig);\n    let templater2 = app(props);\n    const isAppFunction = typeof templater2 == BasicTypes.function;\n    if (!isAppFunction) {\n        if (!isTagComponent(templater2)) {\n            templater.tag = templater2;\n            templater2 = app;\n        }\n        else {\n            global.newest.propsConfig = {\n                latest: [props],\n                castProps: [props],\n            };\n            templater.propWatch = templater2.propWatch;\n            templater.tagJsType = templater2.tagJsType;\n            templater.wrapper = templater2.wrapper;\n            templater = templater2;\n        }\n    }\n    const placeholder = document.createTextNode('');\n    tags.push((templater.wrapper || { original: templater }));\n    const support = runWrapper(templater, placeholder, element, subject, isAppFunction);\n    global.isApp = true;\n    if (isAppFunction) {\n        templater2.tag = support.templater.tag;\n    }\n    if (!element) {\n        throw new Error(`Cannot tagElement, element received is type ${typeof element} and not type Element`);\n    }\n    // enables hmr destroy so it can control entire app\n    ;\n    element.destroy = function () {\n        const events = global.events;\n        for (const eventName in events) {\n            const callback = events[eventName];\n            element.removeEventListener(eventName, callback);\n        }\n        global.events = {};\n        ++painting.locks;\n        const toAwait = destroySupport(support); // never return anything here\n        --painting.locks;\n        paint();\n        return toAwait;\n    };\n    ++painting.locks;\n    const newFragment = registerTagElement(support, element, global, templater, app, placeholder);\n    --painting.locks;\n    paint();\n    element.appendChild(newFragment);\n    return {\n        support,\n        tags,\n        ValueTypes,\n    };\n}\nfunction registerTagElement(support, element, global, templater, app, placeholder) {\n    const result = buildBeforeElement(support, { added: 0, removed: 0 }, element, undefined);\n    global.oldest = support;\n    global.newest = support;\n    let setUse = templater.setUse;\n    if (templater.tagJsType !== ValueTypes.stateRender) {\n        const wrap = app;\n        const original = wrap.original;\n        setUse = original.setUse;\n        original.isApp = true;\n    }\n    ;\n    element.setUse = setUse;\n    element.ValueTypes = ValueTypes;\n    appElements.push({ element, support });\n    const newFragment = document.createDocumentFragment();\n    newFragment.appendChild(placeholder);\n    for (const domItem of result.dom) {\n        putOneDomDown(domItem, newFragment);\n    }\n    for (const sub of result.subs) {\n        subscribeToTemplate(sub);\n    }\n    return newFragment;\n}\nfunction getNewSubject(templater, appElement) {\n    const subject = {\n        value: templater,\n        checkValueChange: checkTagValueChange,\n        withinOwnerElement: false, // i am the highest owner\n        renderCount: 0,\n        global: undefined, // gets set below in getNewGlobal()\n    };\n    const global = getNewGlobal(subject);\n    global.events = {};\n    loadNewBaseSupport(templater, subject, appElement);\n    return subject;\n}\nfunction loadNewBaseSupport(templater, subject, appElement) {\n    const global = subject.global;\n    const newSupport = getBaseSupport(templater, subject);\n    upgradeBaseToSupport(templater, newSupport, newSupport);\n    newSupport.appElement = appElement;\n    global.oldest = global.oldest || newSupport;\n    global.newest = newSupport;\n    return newSupport;\n}\nexport function runWrapper(templater, placeholder, appElement, subject, isAppFunction) {\n    subject.placeholder = placeholder;\n    const global = subject.global;\n    const useSupport = global.newest;\n    const oldest = global.oldest;\n    const isFirstRender = useSupport === oldest;\n    if (!isFirstRender) {\n        reState(useSupport, setUseMemory.stateConfig, oldest.state, oldest.states);\n    }\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        const result = (templater.wrapper || { original: templater });\n        if (!isAppFunction) {\n            const newSupport = loadNewBaseSupport(templater, subject, appElement);\n            runAfterRender(newSupport);\n            return newSupport;\n        }\n        const nowSupport = executeWrap(templater, result, useSupport);\n        runAfterRender(nowSupport);\n        return nowSupport;\n    }\n    // Call the apps function for our tag templater\n    const wrapper = templater.wrapper;\n    const nowSupport = wrapper(useSupport, subject);\n    runAfterRender(nowSupport);\n    return nowSupport;\n}\nfunction putOneDomDown(dom, newFragment) {\n    if (dom.domElement) {\n        newFragment.appendChild(dom.domElement);\n    }\n    if (dom.marker) {\n        newFragment.appendChild(dom.marker);\n    }\n}\n//# sourceMappingURL=tagElement.js.map","export * from './tag/index.js';\nexport * from './errors.js';\nexport * from './isInstance.js';\nexport * from './state/index.js';\nexport { states } from './state/states.function.js';\nexport * from './subject/index.js';\nexport * from './interpolations/index.js';\nexport * from './tag/getSupport.function.js';\nexport * from './interpolations/attributes/howToSetInputValue.function.js';\nexport * from './interpolations/attributes/ElementTargetEvent.interface.js';\nimport { renderTagOnly } from './tag/render/renderTagOnly.function.js';\nimport { renderSupport } from './tag/render/renderSupport.function.js';\nimport { renderWithSupport } from './tag/render/renderWithSupport.function.js';\nimport { tagElement } from './tag/tagElement.js';\nimport { paint } from './tag/paint.function.js';\nexport { tagElement, renderWithSupport, renderSupport, renderTagOnly, paint, };\nexport const hmr = {\n    tagElement, renderWithSupport, renderSupport,\n    renderTagOnly, paint,\n};\n//# sourceMappingURL=index.js.map","import { html, state, states, tag } from \"taggedjs\";\nexport const columnEditor = tag(({ name, array, included, columnNames, allColumnNames }) => {\n    let mouseOverEditShow = false;\n    let edit = false;\n    let editFormula = undefined;\n    const formulas = state([]);\n    states(get => [{\n            mouseOverEditShow, edit, editFormula\n        }] = get({\n        mouseOverEditShow, edit, editFormula\n    }));\n    const goAll = () => {\n        columnNames.length = 0;\n        columnNames.push(...allColumnNames);\n    };\n    const goOnly = () => {\n        columnNames.length = 0;\n        columnNames.push(name);\n    };\n    function toggle() {\n        const index = columnNames.indexOf(name);\n        if (index >= 0) {\n            columnNames.splice(index, 1);\n            return;\n        }\n        columnNames.push(name);\n    }\n    const addSumFormula = () => {\n        const stringFormula = `\n      array.reduce((all, item) => {\n        const value = item['${name}']\n        return isNaN(value) ? all : (all + value)\n      }, 0)\n    `;\n        formulas.push({\n            title: 'sum',\n            stringFormula,\n            value: sandboxRunEval(stringFormula, { array })\n        });\n    };\n    const updateFormula = (formula, newFormula) => {\n        formula.stringFormula = newFormula;\n        formula.value = sandboxRunEval(newFormula, { array });\n    };\n    return html `\n    <a onclick=${toggle} style=\"cursor:pointer;\">\n      <input type=\"checkbox\" ${included && 'checked'} />&nbsp;${name}\n    </a>\n\n    <div\n      onmouseover=${() => mouseOverEditShow = true}\n      onmouseout=${() => mouseOverEditShow = false}\n    >\n      <a style.visibility=${(edit || mouseOverEditShow) ? 'visible' : 'hidden'}\n        onclick=${() => edit = !edit}\n      >⚙️&nbsp;</a>\n      \n      ${included && columnNames.length !== allColumnNames.length ? html `\n        <a style=\"color:blue;\" onclick=${goAll}><small>all</small></a>\n      ` : html `\n        <a style=\"color:blue;\" onclick=${goOnly}><small>only</small></a>\n      `}\n    </div>\n\n    ${edit && html `\n      <div style=\"width:100%;padding:0.3em;\">\n        <div style=\"font-size:0.7em;text-align:center;\">\n          <strong>Column Settings</strong>\n        </div>\n        <div>\n          ${editFormula && html `\n            <div style=\"padding:0.3em;\">\n              <strong>edit formula</strong>\n            </div>\n            <textarea wrap=\"off\"\n              onchange=${(evt) => updateFormula(editFormula, evt.target.value)}\n            >${editFormula.value}</textarea>\n          `}\n          <div style=\"display:flex;flex-wrap:wrap;gap:1em\">\n            ${formulas.map(formula => html `\n                <div>\n                  <div>\n                    <strong>${formula.title}</strong>\n                    <a onclick=${() => editFormula = formula}>✏️</a>\n                  </div>\n                  <div>${formula.value}</div>\n                </div>\n              `.key(formula))}\n          </div>\n          <button type=\"button\" onclick=${addSumFormula}>sum</button>\n        </div>\n      </div>\n    `}\n  `;\n});\nfunction sandboxRunEval(stringFormula, context = {}) {\n    return sandboxEval(stringFormula, { isNaN, Math, Number, Date, ...context });\n}\n// execute script in private context\nfunction sandboxEval(src, ctx) {\n    if (!src) {\n        return src;\n    }\n    ctx = new Proxy(ctx, { has: () => true });\n    let func = (new Function(\"with(this) { return (\" + src + \")}\"));\n    return func.call(ctx);\n}\n//# sourceMappingURL=columnEditor.component.js.map","import { html, tag } from \"taggedjs\";\nimport { dump } from \"./index\";\nexport const arrayTable = tag(({ array, \n// showLevels,\nshowAll, showKids, toggleColumnDialog, columnNames, formatChange, allowMaximize, everySimpleValue, }) => {\n    return html `<!-- array table -->\n    <!-- overflow-y: scroll; -->\n    <div style=\"max-height: 800px;max-width:100vw;overflow: scroll;\">\n      <table cellPadding=\"2\" cellSpacing=\"2\" border=\"0\">\n        ${array.length && html `\n          <thead style=\"position: sticky;top: 0;font-size: 0.8em;\">\n            <tr>\n              ${columnNames.map(key => html `\n                <th\n                  style.cursor=${toggleColumnDialog && 'pointer'}\n                  onclick=${toggleColumnDialog}\n                >${key}</th>\n              `.key(key))}\n            </tr>\n          </thead>\n        `}\n        <tbody>\n          ${array.map(row => html `\n            <tr>\n              ${columnNames.map(name => html `\n                <td>\n                  ${dump({\n        value: row[name],\n        showLevels: 0,\n        showAll,\n        showKids: showAll || showKids,\n        isRootDump: false,\n        formatChange,\n        allowMaximize,\n    })}\n                </td>\n              `.key(row[name]))}\n            </tr>\n          `.key(row))}\n        </tbody>\n      </table>\n    </div>\n  `;\n});\n//# sourceMappingURL=arrayTable.component.js.map","import { html, tag } from \"taggedjs\";\nimport { dump } from \"./index\";\nexport const arrayDisplay = tag(({ array, showLevels, showAll, showKids, columnNames, formatChange, toggleColumnDialog, allowMaximize, everySimpleValue, }) => {\n    return html `\n    ${array.map((item, index) => {\n        const value = paramValueKeys(item, columnNames);\n        return html `${dump({\n            value,\n            showLevels,\n            showAll,\n            showKids: true, // showAll || showKids,\n            isRootDump: false,\n            formatChange,\n            onHeaderClick: toggleColumnDialog,\n            allowMaximize,\n            everySimpleValue,\n        })}`.key(index);\n    })}\n  `;\n});\nfunction paramValueKeys(inputObject, keysArray) {\n    if (['string', 'number', 'boolean'].includes(typeof (inputObject))) {\n        return inputObject;\n    }\n    if (Array.isArray(inputObject)) {\n        return inputObject;\n    }\n    return filterObjectByKeys(inputObject, keysArray);\n}\nfunction filterObjectByKeys(inputObject, keysArray) {\n    if (!keysArray) {\n        // keysArray = Object.keys(inputObject)\n        // return {...inputObject} // must be clone so unchecking items does not change original object\n        return inputObject;\n    }\n    const filteredObject = {};\n    keysArray.forEach(key => {\n        if (inputObject.hasOwnProperty(key) || key in inputObject) {\n            filteredObject[key] = inputObject[key];\n        }\n    });\n    return filteredObject;\n}\n//# sourceMappingURL=arrayDisplay.tag.js.map","import { columnEditor } from \"./columnEditor.component\";\nimport { html, state, states, tag, watch } from \"taggedjs\";\nimport { arrayTable } from \"./arrayTable.component\";\nimport { arrayDisplay } from \"./arrayDisplay.tag\";\nexport const arraysDisplay = tag(({ showLevels, showAll, showKids, array, arrayView, formatChange, allowMaximize, everySimpleValue, }) => {\n    // used to display list of all possible columns\n    const allColumnNames = watch([array, array.length], () => array.length ? getAllKeys(array) : []);\n    // an editable list of column names\n    let columnNames = undefined;\n    const defaultColumnNames = watch([allColumnNames], () => [...allColumnNames]);\n    let showColumnDialog = false;\n    const uniqueId = state(() => 'columnDialog' + performance.now());\n    states(get => [{ columnNames, showColumnDialog }] = get({ columnNames, showColumnDialog }));\n    watch.noInit([defaultColumnNames.length], () => {\n        if (!columnNames) {\n            columnNames = defaultColumnNames;\n        }\n    });\n    const toggleColumnDialog = () => {\n        showColumnDialog = !showColumnDialog;\n        const element = document.getElementById(uniqueId);\n        if (showColumnDialog) {\n            element.showModal();\n        }\n        else {\n            element.close(); // <- element has onclose event that is called slow\n        }\n    };\n    const arrayTag = arrayView === 'table' ? arrayTable({\n        showAll, showKids,\n        array, toggleColumnDialog,\n        columnNames: columnNames || allColumnNames,\n        formatChange, everySimpleValue,\n    }) : arrayDisplay({\n        array, showLevels, showAll, showKids,\n        formatChange,\n        columnNames: columnNames || allColumnNames,\n        toggleColumnDialog,\n        allowMaximize, everySimpleValue\n    });\n    return html `\n    ${arrayTag}\n\n    <dialog id=${uniqueId} class=\"dump-dialog\" style=\"padding:0\"\n      onmousedown=\"var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()\"\n      ondragstart=\"const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\"\n      ondrag=\"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\"\n      ondragend=\"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\"\n    >\n      <div\n        style=\"padding:.25em;background-color:#666;color:white;\"\n        onmousedown=\"this.parentNode.draggable=true\"\n      >Column Modifier</div>\n      <div style=\"padding:.25em\">\n        ${allColumnNames.map(name => {\n        const included = columnNames === undefined || columnNames.includes(name);\n        return html `\n            <div\n              style=\"display:flex;justify-content: space-between;flex-wrap:wrap\"\n              class=\"hover-bg-warning\"\n            >\n              ${columnEditor({\n            name,\n            array,\n            included,\n            columnNames: columnNames || defaultColumnNames,\n            allColumnNames,\n        })}\n            </div>\n          `.key(name);\n    })}\n        <button style=\"width:100%\" type=\"button\" onclick=${toggleColumnDialog}>🅧 close</button>\n      </div>\n    </dialog>\n  `;\n});\nexport function getAllKeys(array) {\n    return array.reduce((all, x) => {\n        if (x && typeof (x) === 'object') {\n            if (Array.isArray(x)) {\n                return all;\n            }\n            Object.keys(x).forEach((x) => {\n                if (all.includes(x)) {\n                    return; // already have it\n                }\n                all.push(x);\n            });\n        }\n        return all;\n    }, []);\n}\n//# sourceMappingURL=arraysDisplay.component.js.map","import { arraysDisplay } from \"./arraysDisplay.component\";\nimport { html, letProp, state, states, tag, watch } from \"taggedjs\";\nexport const dumpArray = tag(({ // dumpArray\nkey, value, show, showAll, showKids, \n// arrayView,\nshowLevels, formatChange, allowMaximize, everySimpleValue, }) => {\n    let showLower = undefined;\n    let arrayView = undefined;\n    let maximize = false;\n    states(get => [{ showLower, arrayView, maximize }] = get({ showLower, arrayView, maximize }));\n    letProp(get => [showKids] = get(showKids));\n    letProp(get => [showAll] = get(showAll));\n    watch.noInit([show], ([show]) => showLower = show);\n    watch.noInit([showAll], ([showAll]) => showLower = showAll);\n    const maximizeId = state(() => 'maximize-dump-' + performance.now());\n    const toggleMaximize = () => {\n        maximize = !maximize;\n        if (maximize) {\n            document.getElementById(maximizeId).showModal();\n        }\n    };\n    const minimize = () => document.getElementById(maximizeId).close();\n    const dumpBody = (showAll || showLower || showKids || (showLower == undefined && showLevels > 0));\n    const getHeader = (allowMaximize) => html `\n    <div class=\"taggedjs-array-label\">\n      <a style=\"flex-grow:1\" onclick=${() => {\n        if (showLower === undefined) {\n            return showAll = showKids = showLower = !dumpBody;\n        }\n        showAll = showKids = showLower = !showLower;\n    }}>\n        <strong>${key}</strong>\n      </a>\n      <sup style=\"opacity:80%;font-size:75%;padding-left:0.4em\">\n        <a style=\"text-decoration:underline;\" style.font-weight=${arrayView === 'table' ? 'bold' : ''}\n          onclick=${() => arrayView = arrayView === 'table' ? undefined : 'table'}>${arrayView === 'table' ? 'flex' : 'table'}</a>\n      </sup>\n      <sup style=\"opacity:80%;font-size:75%;padding-left:0.4em\">[${value.length}]</sup>\n      ${allowMaximize && html `\n        &nbsp;<a onclick=${toggleMaximize}><span style=\"width:10px;height:10px;border:1px solid white;border-top-width:3px;display:inline-block;\"></span></a>\n      `}\n    </div>\n  `;\n    const displayOptions = {\n        showLevels, showAll, showKids,\n        formatChange,\n        array: value,\n        arrayView: arrayView,\n        allowMaximize,\n        everySimpleValue,\n    };\n    const getBody = () => html `\n    <!-- array displays wrap -->\n    <div class=\"taggedjs-array-body\">\n      ${arraysDisplay(displayOptions)}\n    </div>\n  `;\n    return html `<!-- array -->\n    <div class=\"taggedjs-array-wrap\">\n      ${getHeader(allowMaximize)}\n      ${dumpBody && getBody()}\n    </div>\n\n    <!-- maximize -->\n    <dialog id=${maximizeId} class=\"dump-dialog\" style=\"padding:0\"\n      onmousedown=\"var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()\"\n      ondragstart=\"const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\"\n      ondrag=\"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\"\n      ondragend=\"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\"\n    >\n      <div style=\"padding:.25em\" onmousedown=\"this.parentNode.draggable=true\">\n        ${maximize && getHeader(false)}\n      </div>\n      \n      ${maximize && html `\n        <div style=\"text-align:left;display:flex;flex-wrap:wrap;margin:0.2em;gap:0.2em\">\n          ${arraysDisplay({ ...displayOptions, allowMaximize: false })}\n        </div>\n      `}\n\n      <div style=\"padding:.25em\">\n        <button type=\"button\" onclick=${minimize} style=\"width:100%\">🅧 close array</button>\n      </div>\n    </dialog>\n  `;\n});\n//# sourceMappingURL=dumpArray.tag.js.map","export function copyText(text) {\n    var copyText = document.createElement('textarea');\n    copyText.value = text;\n    document.body.appendChild(copyText);\n    copyText.select();\n    copyText.setSelectionRange(0, 99999);\n    document.execCommand(\"copy\");\n    document.body.removeChild(copyText);\n}\n//# sourceMappingURL=copyText.function.js.map","import { html, states, tag } from \"taggedjs\";\nimport { copyText } from \"./copyText.function\";\nexport function dumpSimple({ key, value, onHeaderClick, everySimpleValue }) {\n    const isLinkValue = value.search && (value.slice(0, 8) === 'https://' || value.slice(0, 7) === 'http://');\n    // const result = everySimpleValue && everySimpleValue(value, key)\n    let displayValue;\n    if (everySimpleValue) {\n        displayValue = simpleValue({ value, everySimpleValue });\n    }\n    else {\n        displayValue = isLinkValue ? linkValue(value) : simpleValue({ value });\n    }\n    return html `\n    <div style=\"font-size:75%;flex:1 1 10em;color:#111111\">\n      ${key && html `\n        <div class=\"taggedjs-simple-label\"\n          style.cursor=${onHeaderClick && \"pointer\"}\n          onclick=${onHeaderClick}\n        >${key}</div>\n      `}\n      ${displayValue}\n    </div>\n  `;\n}\nconst simpleValue = tag(({ value, everySimpleValue }) => {\n    const isLikeNull = [undefined, null, 'null'].includes(value);\n    const number = value;\n    const isLargeNumber = !isNaN(number) && number > 1000000000;\n    const title = !isLargeNumber ? '' : getLargeNumberTitle(number);\n    let downTime = 0;\n    states(get => [downTime] = get(downTime));\n    const startMouseDown = () => {\n        downTime = Date.now();\n    };\n    const markMouseUp = (event) => {\n        if (Date.now() - downTime > 300) {\n            event.preventDefault();\n            event.stopPropagation();\n            return true; // a manual drag copy is taking place\n        }\n        copyText(value); // a regular click took place\n    };\n    let displayValue = value;\n    if (everySimpleValue) {\n        displayValue = everySimpleValue(value);\n    }\n    displayValue = displayValue === null && 'null' || displayValue === false && 'false' || displayValue === undefined && 'undefined' || displayValue;\n    return html `\n    <div class=\"hover-bg-warning active-bg-energized\"\n      onmousedown=${startMouseDown}\n      onmouseup=${markMouseUp}\n      style=\"cursor:pointer;\"\n      style.background-color=${isLikeNull ? 'rgba(0,0,0,.5)' : ''}\n      style.color = ${(value === true && '#28a54c') ||\n        (value === false && '#e42112') ||\n        isLikeNull && 'white' || ''}\n      title=${title}\n    >${displayValue}</div>\n  `;\n});\nfunction getLargeNumberTitle(number) {\n    return number > 946702800000 ?\n        'Milliseconds > Unix epoch:\\n' + (new Date(number).toLocaleString()) :\n        'Seconds > Unix epoch:\\n' + (new Date(number * 1000).toLocaleString());\n}\nconst linkValue = (value) => {\n    return html `\n    <a onclick=${() => copyText(value)} href=${value}\n      target=\"_blank\"\n      class=\"hover-bg-warning active-bg-energized\"\n      title=\"tap to copy\"\n    >${value}</a>\n  `;\n};\n//# sourceMappingURL=dumpSimple.tag.js.map","import { html, letProp, state, states, tag, watch } from \"taggedjs\";\nimport { dump } from \"./index\";\nexport const dumpObject = tag(({ // dumpObject\nkey, showKids, show, showLevels, value, showAll, onHeaderClick, formatChange, allowMaximize, everySimpleValue, }) => {\n    let showLower = undefined;\n    let maximize = false;\n    const maximizeId = state(() => 'maximize-dump-' + performance.now());\n    states(get => [{ showLower, maximize }] = get({ showLower, maximize }));\n    letProp(get => [showKids] = get(showKids));\n    watch.noInit([show], ([show]) => showLower = show);\n    watch.noInit([showAll], ([showAll]) => showLower = showAll);\n    const continueDump = !key || showKids || showLower || (showLower === undefined && showLevels > 0);\n    const toggleMaximize = () => {\n        maximize = !maximize;\n        if (maximize) {\n            document.getElementById(maximizeId).showModal();\n        }\n    };\n    const minimize = () => document.getElementById(maximizeId).close();\n    const getHead = (allowMaximize) => html `\n    <div class=\"taggedjs-object-label\" style=${showLower ? 'border-bottom-width:1px;border-bottom-style:solid;border-color:black;' : ''}>\n      <a onclick=${() => {\n        if (showLower === undefined) {\n            return showAll = showKids = showLower = !(showAll || showKids || showLower);\n        }\n        showKids = showLower = !showLower;\n    }}>\n        <strong>${key}</strong>\n        <sup style=\"opacity:80%;font-size:75%;padding-left:0.4em\">\n          {${Object.keys(value).length}}\n        </sup>\n      </a>\n      ${allowMaximize && html `\n        &nbsp;<a onclick=${toggleMaximize}><span style=\"width:10px;height:10px;border:1px solid white;border-top-width:3px;display:inline-block;\"></span></a>\n      `}\n    </div>\n  `;\n    const getDumpBody = (allowMaximize) => html `\n    <div class=\"taggedjs-object-body-wrap\">\n      ${Object.entries(value).map(([key, value]) => html `\n        <!-- recurse -->\n        <div class=\"taggedjs-object\"\n          style=${!value || typeof (value) !== 'object' ? 'flex: 1 1 10em;' : 'flex-grow:1;'}\n        >\n          ${dump({\n        value,\n        key,\n        show: showLower,\n        showAll,\n        showLevels: showLevels - 1,\n        showKids: showAll || showKids,\n        isRootDump: false,\n        formatChange,\n        onHeaderClick,\n        allowMaximize,\n        everySimpleValue,\n    })}\n      `.key(key))}\n    </div>\n  `;\n    return html `\n    <div style=\"flex: 1 1 10em;text-align:left;\">\n      <div class=\"taggedjs-object-wrap\">\n        ${key && getHead(allowMaximize)}\n        ${continueDump && getDumpBody(allowMaximize)}\n\n        <!-- maximize -->\n        <dialog id=${maximizeId} class=\"dump-dialog\" style=\"padding:0\"\n          onmousedown=\"var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()\"\n          ondragstart=\"const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\"\n          ondrag=\"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\"\n          ondragend=\"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\"\n        >\n          <div style=\"padding:.25em\" onmousedown=\"this.parentNode.draggable=true\">\n            ${maximize && getHead(false)}\n          </div>\n          \n          ${maximize && getDumpBody(false)}\n\n          <div style=\"padding:.25em\">\n            <button type=\"button\" onclick=${minimize} style=\"width:100%\">🅧 close object</button>\n          </div>\n        </dialog>\n      </div>\n    </div>\n  `;\n});\n//# sourceMappingURL=dumpObject.tag.js.map","import { html, tag } from \"taggedjs\";\nimport { copyText } from \"./copyText.function\";\nexport const controlPanel = tag(({ value, format, showAll, formatChange, showAllChange, }) => {\n    return html `\n    <style>\n      dialog.dump-dialog::backdrop {\n        background-color: rgba(0, 0, 0, 0.7); /* Set a semi-transparent black background */\n      }\n\n      .child-margin-xxs {margin:0.2em;}\n      \n      .taggedjs-dump .hover-bg-warning:hover {background-color:#fcf8e3}\n      .taggedjs-dump .hover-bg-balanced:hover {background-color:#33cd5f}\n      .taggedjs-dump .active-bg-energized:active {background-color:#ffc900}\n      .taggedjs-dump .bg-dark {background-color:#444444}\n      .taggedjs-dump .bg-balanced {background-color:#33cd5f}\n      \n      .taggedjs-dump .taggedjs-object {margin:0.2em;padding:0.2em;overflow:auto;display:flex;flex-wrap:wrap;}\n      .taggedjs-dump .taggedjs-object-label {\n        padding:0.2em;display:flex;justify-content:space-between;font-size:65%;color:white;\n        border-color:white;flex-grow:1;\n        background-color:#387ef5;\n      }\n\n      .taggedjs-dump .taggedjs-simple-label {\n        border-bottom-width:1px;border-bottom-style:solid;border-color:black;font-size:65%;border-color:white;line-height: 95%;font-weight:bold;\n      }\n\n      .taggedjs-dump .taggedjs-object-body-wrap {\n        display:flex;flex-wrap:wrap\n      }\n\n      .taggedjs-dump .taggedjs-object-wrap {\n        font-size:90%;color:#111111;background-color:#d9edf7;border:1px solid black;border-radius:5px;flex-direction: column;display:flex;\n      }\n      \n      .taggedjs-dump .taggedjs-array-label {\n        padding:0.2em;display:flex;justify-content:space-between;flex-grow:1;font-size:65%;border-color:white;color:white;background-color:#ef473a;\n      }\n\n      .taggedjs-dump .taggedjs-array-body {\n        text-align:left;display:flex;flex-wrap:wrap;margin:0.2em;gap:0.2em\n      }\n      \n      .taggedjs-dump .taggedjs-array-wrap {\n        color:#111111;background-color:#f2dede;border:1px solid black;border-radius:5px;flex-direction: column;display:flex\n      }\n    </style>\n    <div style=\"width: 100%;line-height: 90%;\">\n      <div style=\"position:relative;\">\n        <div style=\"display:flex;font-size:50%;position:absolute;top:-18px;right:-6px\">\n          ${!format || format === 'flex' && html `\n            <a\n              style=${\"margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;\" +\n        (showAll ? 'background-color:#33cd5f;' : 'background-color:#444444')}\n              class=\"hover-bg-balanced\"\n              onclick=${() => showAllChange(showAll = !showAll)}\n              title=\"hide/show all sub objects\"\n            >👁</a>\n          `}\n          <a\n            style=${\"margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;\" +\n        (!format || format === 'flex' ? 'background-color:#33cd5f;' : 'background-color:#444444')}\n            class=\"hover-bg-balanced\"\n            onclick=${() => formatChange(format = 'flex')}\n          >flex</a>\n          <a style=${\"margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;\" +\n        (format === 'json' ? 'background-color:#33cd5f;' : 'background-color:#444444')}\n            class=\"hover-bg-balanced\"\n            onclick=${() => formatChange(format = 'json')}\n          >json</a>\n          <a style=\"margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;\"\n            class=\"bg-dark hover-bg-balanced active-bg-energized\"\n            onclick=${() => copyAsJsonText(value)}\n          >copy</a>\n        </div>\n      </div>\n    </div>\n  `;\n});\nfunction copyAsJsonText(value) {\n    const text = JSON.stringify(value, null, 2);\n    copyText(text);\n}\n//# sourceMappingURL=controlPanel.tag.js.map","import { html, onInit, tag, letProp, states } from \"taggedjs\";\nimport { dumpArray } from \"./dumpArray.tag\";\nimport { dumpSimple } from \"./dumpSimple.tag\";\nimport { dumpObject } from \"./dumpObject.tag\";\nimport { controlPanel } from \"./controlPanel.tag\";\nexport const dump = tag(({ // dump tag\nkey, value, showKids = false, showLevels = -1, showAll = false, format = 'flex', formatChange = x => format = x, isRootDump = true, onHeaderClick, allowMaximize, everySimpleValue, }) => {\n    if (isRootDump && allowMaximize === undefined) {\n        allowMaximize = true;\n    }\n    const isObject = () => value && value instanceof Object;\n    const typing = value === null ? 'null' : typeof (value);\n    let show = false;\n    letProp(get => [format] = get(format));\n    letProp(get => [showAll] = get(showAll));\n    letProp(get => [showLevels] = get(showLevels));\n    let arrayView = undefined;\n    states(get => [{ show, arrayView }] = get({ show, arrayView }));\n    onInit(() => {\n        const levelsDefined = (showLevels >= 0 && showLevels);\n        // detect auto levels (default) and if object lets only show 2 levels deep\n        const autoShowObjectLevels = showLevels === -1 && !key && isObject();\n        showLevels = levelsDefined || (autoShowObjectLevels ? 2 : 0);\n        if (showLevels > 0) {\n            show = true;\n        }\n    });\n    /* IF 1: undefined ELSE goto simpleTemplate */\n    if ([null, undefined].includes(value)) {\n        return dumpSimple({\n            key: key,\n            value: typing,\n            onHeaderClick,\n            everySimpleValue,\n        });\n    }\n    /* IF 2: simple value ELSE goto objectTemplate */\n    if (['boolean', 'number', 'string'].includes(typing)) {\n        return dumpSimple({ key: key, value, onHeaderClick, everySimpleValue });\n    }\n    return getObjectTemplate({\n        value,\n        showKids,\n        key,\n        onHeaderClick,\n        everySimpleValue,\n        format,\n        isRootDump,\n        showAll,\n        showAllChange: (x) => showAll = x,\n        formatChange,\n        show,\n        showLevels,\n        allowMaximize,\n    });\n});\nlet dumpCount = 0;\nconst getObjectTemplate = ({ value, showKids, key, onHeaderClick, everySimpleValue, format, isRootDump, showAll, showAllChange, formatChange, show, showLevels, allowMaximize, }) => {\n    if (value === null) {\n        if (!showKids) {\n            return html `no kids`;\n        }\n        return dumpSimple({\n            key: key,\n            value: 'null',\n            onHeaderClick,\n            everySimpleValue,\n        });\n    }\n    const isArray = Array.isArray(value); // (!format || format==='flex') && ((value as any).push && (value as any).pop)\n    const getArrayDump = () => {\n        return dumpArray({\n            key,\n            value,\n            show,\n            // arrayView,\n            showAll,\n            showKids,\n            showLevels,\n            formatChange,\n            allowMaximize,\n            everySimpleValue,\n        });\n    };\n    const getObjectDump = () => dumpObject({\n        key,\n        show,\n        // showChange: x => showChangeValue(show = x),\n        showKids,\n        showLevels,\n        value,\n        showAll,\n        formatChange,\n        onHeaderClick,\n        allowMaximize,\n        everySimpleValue,\n    });\n    const getJsonDump = () => html `\n    <textarea disabled wrap=\"off\"\n      style=\"width:100%;height:25vh;min-height:400px;color:white;background-color:black;\"\n    >${JSON.stringify(value, null, 2)}</textarea>\n  `;\n    return html `\n    <div id=${`taggedjs-dump-${++dumpCount}`} class=\"taggedjs-dump\">\n      ${isRootDump && controlPanel({\n        value,\n        format,\n        showAll,\n        showAllChange,\n        formatChange,\n    })}\n      ${(format === 'json' && getJsonDump()) || (isArray ? getArrayDump() : getObjectDump())}\n    </div>\n  `;\n};\n//# sourceMappingURL=dump.tag.js.map","import { state } from './state.function.js';\n/** runs a callback function one time and never again. Same as calling state(() => ...) */\nexport function onInit(callback) {\n    state(callback);\n}\n//# sourceMappingURL=onInit.js.map","import { html, states, tag } from 'taggedjs';\nimport { dump } from 'taggedjs-dump';\nimport { stripeList } from './sampleData';\nexport { tagElement } from 'taggedjs';\nconst sampleDump = {\n    value: {\n        test: {\n            anotherOne: 22\n        },\n        arrayTest: [{\n                name: 'something',\n                location: { street: '4361' },\n            }, {\n                name: 'in this',\n                location: { street: '2235' },\n            }, {\n                name: 'world',\n                location: { street: '4785' },\n            }]\n    }\n};\nconst stripeDump = {\n    value: stripeList,\n    everySimpleValue: (value) => {\n        if (typeof value === 'string' && value.substring(0, 3) === 'pm_') {\n            return html.dom(allStrings.allStrings336717[0], value);\n        }\n        return value;\n    }\n};\nexport const App = tag(() => {\n    let userJsonString = '';\n    let renderCount = 0;\n    let userJson = '';\n    let badEval = false;\n    states(get => [{ userJsonString, renderCount, userJson, badEval }] = get({ userJsonString, renderCount, userJson, badEval }));\n    ++renderCount;\n    // const userJson = JSON.parse(userJsonString)\n    const change = (event) => {\n        userJsonString = event.target.value;\n        try {\n            userJson = sandboxEval(userJsonString, {});\n            userJsonString = JSON.stringify(userJson, null, 2);\n        }\n        catch (err) {\n            badEval = true;\n            try {\n                JSON.parse(userJsonString);\n            }\n            catch (err) {\n                userJson = Object.getOwnPropertyNames(err).reduce((a, key) => (a[key] = err[key]) && a || a, {});\n            }\n        }\n    };\n    return html.dom(allStrings.allStrings336717[1], badEval && html.dom(allStrings.allStrings336717[2]), change, userJson === \"\" ? \"\" : userJsonString, userJson === \"\" ? \"\" : html.dom(allStrings.allStrings336717[3], dump({\n        value: userJson\n    })), dump(sampleDump), dump(stripeDump));\n});\n//cha\n// execute script in private context\nfunction sandboxEval(src, ctx) {\n    if (!src) {\n        return src;\n    }\n    ctx = new Proxy(ctx, { has: () => true });\n    let func = (new Function(\"with(this) { return (\" + src + \")}\"));\n    return func.call(ctx);\n}\n// @ts-ignore\nconst allStrings = { allStrings336717: [[{ \"nn\": \"a\", \"at\": [[\"style\", \"color:blue;\"]], \"ch\": [{ \"nn\": \"text\", \"v\": 0 }] }], [{ \"nn\": \"h3\", \"ch\": [{ \"nn\": \"text\", \"tc\": \"🔭 TaggedJs Dump demo page\" }] }, { \"nn\": \"p\", \"ch\": [{ \"nn\": \"text\", \"tc\": \"Use the textarea below to cast JSON into an interactive display\" }] }, { \"nn\": \"text\", \"v\": 0 }, { \"nn\": \"div\", \"at\": [[\"style\", \"display:flex;flex-wrap:wrap;align-item:center;justify-content: center;gap:.5em;padding:.5em;\"]], \"ch\": [{ \"nn\": \"textarea\", \"at\": [[\"wrap\", \"off\"], [\"placeholder\", \"paste json here\"], [\"change\", { \"tagJsVar\": 1 }, null], [\"style\", \"min-width:300px;min-height:400px;flex:1\"]], \"ch\": [{ \"nn\": \"text\", \"v\": 2 }] }, { \"nn\": \"text\", \"v\": 3 }] }, { \"nn\": \"br\" }, { \"nn\": \"h3\", \"ch\": [{ \"nn\": \"text\", \"tc\": \"Sample Dumps\" }] }, { \"nn\": \"hr\" }, { \"nn\": \"div\", \"at\": [[\"style\", \"display:flex;flex-wrap:wrap;align-item:center;justify-content: center;gap:1em;\"]], \"ch\": [{ \"nn\": \"div\", \"at\": [[\"style\", \"max-width:900px\"]], \"ch\": [{ \"nn\": \"text\", \"v\": 4 }, { \"nn\": \"hr\" }, { \"nn\": \"text\", \"v\": 5 }] }] }], [{ \"nn\": \"div\", \"at\": [[\"style\", \"color:white;background-color:red;padding:.5em;\"]], \"ch\": [{ \"nn\": \"text\", \"tc\": \"Input data appears to be invalid\" }] }], [{ \"nn\": \"div\", \"at\": [[\"style\", \"flex:1;min-width:110px;width:100%;max-width:900px;background-color:rgba(255,255,255,.5);min-width:300px\"]], \"ch\": [{ \"nn\": \"text\", \"v\": 0 }] }]] };\n","export const stripeList = {\n    \"object\": \"list\",\n    \"data\": [\n        {\n            \"id\": \"pi_2On6sU7HNYdnrRlv08gdQmRW\",\n            \"object\": \"payment_intent\",\n            \"amount\": 210023,\n            \"amount_capturable\": 0,\n            \"amount_details\": {\n                \"tip\": {}\n            },\n            \"amount_received\": 0,\n            \"application\": null,\n            \"application_fee_amount\": null,\n            \"automatic_payment_methods\": null,\n            \"canceled_at\": null,\n            \"cancellation_reason\": null,\n            \"capture_method\": \"automatic\",\n            \"charges\": {\n                \"object\": \"list\",\n                \"data\": [\n                    {\n                        \"id\": \"py_2On6sU7ENs46345345\",\n                        \"object\": \"charge\",\n                        \"amount\": 210023,\n                        \"amount_captured\": 210023,\n                        \"amount_refunded\": 0,\n                        \"application\": null,\n                        \"application_fee\": null,\n                        \"application_fee_amount\": null,\n                        \"balance_transaction\": null,\n                        \"billing_details\": {\n                            \"address\": {\n                                \"city\": null,\n                                \"country\": null,\n                                \"line1\": null,\n                                \"line2\": null,\n                                \"postal_code\": null,\n                                \"state\": null\n                            },\n                            \"email\": \"nothing@yahoo.com\",\n                            \"name\": \"Super One force\",\n                            \"phone\": null\n                        },\n                        \"calculated_statement_descriptor\": null,\n                        \"captured\": true,\n                        \"created\": 1708725963,\n                        \"currency\": \"usd\",\n                        \"customer\": \"cus_\",\n                        \"description\": \"stock package pack198\",\n                        \"destination\": null,\n                        \"dispute\": null,\n                        \"disputed\": false,\n                        \"failure_balance_transaction\": null,\n                        \"failure_code\": null,\n                        \"failure_message\": null,\n                        \"fraud_details\": {},\n                        \"invoice\": null,\n                        \"livemode\": true,\n                        \"metadata\": {},\n                        \"on_behalf_of\": null,\n                        \"order\": null,\n                        \"outcome\": null,\n                        \"paid\": false,\n                        \"payment_intent\": \"pi_2On6sU234234234\",\n                        \"payment_method\": \"pm_1OjSol23423423442\",\n                        \"payment_method_details\": {\n                            \"type\": \"us_bank_account\",\n                            \"us_bank_account\": {\n                                \"account_holder_type\": \"individual\",\n                                \"account_type\": \"checking\",\n                                \"bank_name\": \"JPMORGAN CHASE BANK, NA\",\n                                \"fingerprint\": \"asdfsfsfsd\",\n                                \"last4\": \"3072\",\n                                \"routing_number\": \"sfsdfsdfs\"\n                            }\n                        },\n                        \"radar_options\": {},\n                        \"receipt_email\": \"nothing@yahoo.com\",\n                        \"receipt_number\": null,\n                        \"receipt_url\": null,\n                        \"refunded\": false,\n                        \"refunds\": {\n                            \"object\": \"list\",\n                            \"data\": [],\n                            \"has_more\": false,\n                            \"total_count\": 0,\n                            \"url\": \"/v1/charges/py_2On6sU7ENYdn23423423423423/refunds\"\n                        },\n                        \"review\": null,\n                        \"shipping\": null,\n                        \"source\": null,\n                        \"source_transfer\": null,\n                        \"statement_descriptor\": null,\n                        \"statement_descriptor_suffix\": null,\n                        \"status\": \"pending\",\n                        \"transfer_data\": null,\n                        \"transfer_group\": null\n                    }\n                ],\n                \"has_more\": false,\n                \"total_count\": 1,\n                \"url\": \"/v1/charges?payment_intent=pi_2On6sU7HNYdnrRlv08gdQmRW\"\n            },\n            \"client_secret\": \"pi_2On6sU7HNYdnrRlv08gdQmRW_secret_mi91s3ThhlbiFNYtJZkw7aeuj\",\n            \"confirmation_method\": \"automatic\",\n            \"created\": 1708725958,\n            \"currency\": \"usd\",\n            \"customer\": \"cus_\",\n            \"description\": \"stock package pack198\",\n            \"invoice\": null,\n            \"last_payment_error\": null,\n            \"latest_charge\": \"py_2On6sU7ENYdn23423423423423\",\n            \"livemode\": true,\n            \"metadata\": {},\n            \"next_action\": null,\n            \"on_behalf_of\": null,\n            \"payment_method\": \"pm_0OjSol7ENYdnrElvxSEFqCs3\",\n            \"payment_method_configuration_details\": null,\n            \"payment_method_options\": {\n                \"us_bank_account\": {\n                    \"mandate_options\": {},\n                    \"verification_method\": \"automatic\"\n                }\n            },\n            \"payment_method_types\": [\n                \"us_bank_account\"\n            ],\n            \"processing\": null,\n            \"receipt_email\": \"nothing@yahoo.com\",\n            \"review\": null,\n            \"setup_future_usage\": null,\n            \"shipping\": null,\n            \"source\": null,\n            \"statement_descriptor\": null,\n            \"statement_descriptor_suffix\": null,\n            \"status\": \"processing\",\n            \"transfer_data\": null,\n            \"transfer_group\": null\n        },\n        {\n            \"id\": \"pi_2On6rP7ENY234234234223\",\n            \"object\": \"pa345345345\",\n            \"amount\": 459142,\n            \"amount_capturable\": 0,\n            \"amount_details\": {\n                \"tip\": {}\n            },\n            \"amount_received\": 0,\n            \"application\": null,\n            \"application_fee_amount\": null,\n            \"automatic_payment_methods\": null,\n            \"canceled_at\": null,\n            \"cancellation_reason\": null,\n            \"capture_method\": \"automatic\",\n            \"charges\": {\n                \"object\": \"list\",\n                \"data\": [\n                    {\n                        \"id\": \"py_2On6rP7ENYdnrElv34534534534\",\n                        \"object\": \"charge\",\n                        \"amount\": 459142,\n                        \"amount_captured\": 459142,\n                        \"amount_refunded\": 0,\n                        \"application\": null,\n                        \"application_fee\": null,\n                        \"application_fee_amount\": null,\n                        \"balance_transaction\": null,\n                        \"billing_details\": {\n                            \"address\": {\n                                \"city\": null,\n                                \"country\": null,\n                                \"line1\": null,\n                                \"line2\": null,\n                                \"postal_code\": null,\n                                \"state\": null\n                            },\n                            \"email\": \"nothing@nothing.com\",\n                            \"name\": \"high times life\",\n                            \"phone\": null\n                        },\n                        \"calculated_statement_descriptor\": null,\n                        \"captured\": true,\n                        \"created\": 1708725908,\n                        \"currency\": \"usd\",\n                        \"customer\": \"cus_OfpNBU2342342342\",\n                        \"description\": \"stock package CST422199\",\n                        \"destination\": null,\n                        \"dispute\": null,\n                        \"disputed\": false,\n                        \"failure_balance_transaction\": null,\n                        \"failure_code\": null,\n                        \"failure_message\": null,\n                        \"fraud_details\": {},\n                        \"invoice\": null,\n                        \"livemode\": true,\n                        \"metadata\": {},\n                        \"on_behalf_of\": null,\n                        \"order\": null,\n                        \"outcome\": null,\n                        \"paid\": false,\n                        \"payment_intent\": \"pi_2On6rP7ENY234234234223\",\n                        \"payment_method\": \"pm_0NsTld7E345345345\",\n                        \"payment_method_details\": {\n                            \"type\": \"us_bank_account\",\n                            \"us_bank_account\": {\n                                \"account_holder_type\": \"individual\",\n                                \"account_type\": \"checking\",\n                                \"bank_name\": \"LEFT RIGHT CREDIT UNION INC\",\n                                \"fingerprint\": \"sdfsdfsdfsd\",\n                                \"last4\": \"7164\",\n                                \"routing_number\": \"24427435345634\"\n                            }\n                        },\n                        \"radar_options\": {},\n                        \"receipt_email\": \"nothing@nothing.com\",\n                        \"receipt_number\": null,\n                        \"receipt_url\": null,\n                        \"refunded\": false,\n                        \"refunds\": {\n                            \"object\": \"list\",\n                            \"data\": [],\n                            \"has_more\": false,\n                            \"total_count\": 0,\n                            \"url\": \"/v1/charges/py_2On6rP7ENYdnrElv34534534534/refunds\"\n                        },\n                        \"review\": null,\n                        \"shipping\": null,\n                        \"source\": null,\n                        \"source_transfer\": null,\n                        \"statement_descriptor\": null,\n                        \"statement_descriptor_suffix\": null,\n                        \"status\": \"pending\",\n                        \"transfer_data\": null,\n                        \"transfer_group\": null\n                    }\n                ],\n                \"has_more\": false,\n                \"total_count\": 1,\n                \"url\": \"/v1/charges?payment_intent=pi_2On6rP7ENY23423345345345\",\n                \"client_secret\": \"pi_2On6rP7ENY234234234223_secret_coB4G9HHl1eq5B17Q2C8CSvIr\"\n            },\n            \"confirmation_method\": 345345345,\n            \"created\": 1708725891,\n            \"currency\": \"usd\",\n            \"customer\": \"cus_OfpNBU2342342342\",\n            \"description\": \"stock package CST422199\",\n            \"invoice\": null,\n            \"last_payment_error\": null,\n            \"latest_charge\": \"py_2On6rP7ENYdnrElv34534534534\",\n            \"livemode\": true,\n            \"metadata\": {},\n            \"next_action\": null,\n            \"on_behalf_of\": null,\n            \"payment_method\": \"pm_0NsTld7ENYdnrElvZnMTXy4p\",\n            \"payment_method_configuration_details\": null,\n            \"payment_method_options\": {\n                \"us_bank_account\": {\n                    \"mandate_options\": {},\n                    \"verification_method\": \"automatic\"\n                }\n            },\n            \"payment_method_types\": [\n                \"us_bank_account\"\n            ],\n            \"processing\": null,\n            \"receipt_email\": \"nothing@nothing.com\",\n            \"review\": null,\n            \"setup_future_usage\": null,\n            \"shipping\": null,\n            \"source\": null,\n            \"statement_descriptor\": null,\n            \"statement_descriptor_suffix\": null,\n            \"status\": \"processing\",\n            \"transfer_data\": null,\n            \"transfer_group\": null\n        },\n        {\n            \"id\": \"pi_2On6qz7ENYdnrElv0iAjkQXG\",\n            \"object\": \"payment_intent\",\n            \"amount\": 353001,\n            \"amount_capturable\": 0,\n            \"amount_details\": {\n                \"tip\": {}\n            },\n            \"amount_received\": 0,\n            \"application\": null,\n            \"application_fee_amount\": null,\n            \"automatic_payment_methods\": null,\n            \"canceled_at\": null,\n            \"cancellation_reason\": null,\n            \"capture_method\": \"automatic\",\n            \"charges\": {\n                \"object\": \"list\",\n                \"data\": [\n                    {\n                        \"id\": \"py_2On6qz7ENYdnrElv03EQXijt\",\n                        \"object\": \"charge\",\n                        \"amount\": 353001,\n                        \"amount_captured\": 353001,\n                        \"amount_refunded\": 0,\n                        \"application\": null,\n                        \"application_fee\": null,\n                        \"application_fee_amount\": null,\n                        \"balance_transaction\": null,\n                        \"billing_details\": {\n                            \"address\": {\n                                \"city\": null,\n                                \"country\": null,\n                                \"line1\": null,\n                                \"line2\": null,\n                                \"postal_code\": null,\n                                \"state\": null\n                            },\n                            \"email\": \"goonta1621@gmail.com\",\n                            \"name\": \"Imodern LLC\",\n                            \"phone\": null\n                        },\n                        \"calculated_statement_descriptor\": null,\n                        \"captured\": true,\n                        \"created\": 1708725871,\n                        \"currency\": \"usd\",\n                        \"customer\": \"cus_OPju332LNrDqWj\",\n                        \"description\": \"stock package CST422875\",\n                        \"destination\": null,\n                        \"dispute\": null,\n                        \"disputed\": false,\n                        \"failure_balance_transaction\": null,\n                        \"failure_code\": null,\n                        \"failure_message\": null,\n                        \"fraud_details\": {},\n                        \"invoice\": null,\n                        \"livemode\": true,\n                        \"metadata\": {\n                            \"fullOrderId\": \"CST422875\",\n                            \"orderId\": \"422875\"\n                        },\n                        \"on_behalf_of\": null,\n                        \"order\": null,\n                        \"outcome\": null,\n                        \"paid\": false,\n                        \"payment_intent\": \"pi_2On6qz7ENYdnrElv0iAjkQXG\",\n                        \"payment_method\": \"pm_0Ojnzp7ENYdnrElvehXEBmJk\",\n                        \"payment_method_details\": {\n                            \"type\": \"us_bank_account\",\n                            \"us_bank_account\": {\n                                \"account_holder_type\": \"individual\",\n                                \"account_type\": \"checking\",\n                                \"bank_name\": \"BANK OF AMERICA, N.A.\",\n                                \"fingerprint\": \"NLhg8mD0tp0uM97N\",\n                                \"last4\": \"2606\",\n                                \"routing_number\": \"011200365\"\n                            }\n                        },\n                        \"radar_options\": {},\n                        \"receipt_email\": \"goonta1621@gmail.com\",\n                        \"receipt_number\": null,\n                        \"receipt_url\": null,\n                        \"refunded\": false,\n                        \"refunds\": {\n                            \"object\": \"list\",\n                            \"data\": [],\n                            \"has_more\": false,\n                            \"total_count\": 0,\n                            \"url\": \"/v1/charges/py_2On6qz7ENYdnrElv03EQXijt/refunds\"\n                        },\n                        \"review\": null,\n                        \"shipping\": null,\n                        \"source\": null,\n                        \"source_transfer\": null,\n                        \"statement_descriptor\": null,\n                        \"statement_descriptor_suffix\": null,\n                        \"status\": \"pending\",\n                        \"transfer_data\": null,\n                        \"transfer_group\": null\n                    }\n                ],\n                \"has_more\": false,\n                \"total_count\": 1,\n                \"url\": \"/v1/charges?payment_intent=pi_2On6qz7ENYdnrElv0iAjkQXG\"\n            },\n            \"client_secret\": \"pi_2On6qz7ENYdnrElv0iAjkQXG_secret_HJlGWDupUqDO2L0BrjfHuRLC2\",\n            \"confirmation_method\": \"automatic\",\n            \"created\": 1708725865,\n            \"currency\": \"usd\",\n            \"customer\": \"cus_OPju332LNrDqWj\",\n            \"description\": \"stock package CST422875\",\n            \"invoice\": null,\n            \"last_payment_error\": null,\n            \"latest_charge\": \"py_2On6qz7ENYdnrElv03EQXijt\",\n            \"livemode\": true,\n            \"metadata\": {\n                \"fullOrderId\": \"CST422875\",\n                \"orderId\": \"422875\"\n            },\n            \"next_action\": null,\n            \"on_behalf_of\": null,\n            \"payment_method\": \"pm_0Ojnzp7ENYdnrElvehXEBmJk\",\n            \"payment_method_configuration_details\": null,\n            \"payment_method_options\": {\n                \"us_bank_account\": {\n                    \"mandate_options\": {},\n                    \"verification_method\": \"automatic\"\n                }\n            },\n            \"payment_method_types\": [\n                \"us_bank_account\"\n            ],\n            \"processing\": null,\n            \"receipt_email\": \"goonta1621@gmail.com\",\n            \"review\": null,\n            \"setup_future_usage\": null,\n            \"shipping\": null,\n            \"source\": null,\n            \"statement_descriptor\": null,\n            \"statement_descriptor_suffix\": null,\n            \"status\": \"processing\",\n            \"transfer_data\": null,\n            \"transfer_group\": null\n        }\n    ],\n    \"has_more\": true,\n    \"url\": \"/v1/payment_intents\"\n};\n","import { tagElement } from \"taggedjs\";\nimport { App } from \"./App.tag\";\nexport function run() {\n    const element = document.getElementsByTagName('app')[0];\n    const start = Date.now();\n    tagElement(App, element, { test: 1 });\n    const end = Date.now() - start;\n    console.info(`⏱️ rendered in ${end}ms`);\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","empty","BasicTypes","ImmutableTypes","ValueTypes","tag","dom","templater","tagComponent","tagArray","subject","tagJsSubject","renderOnce","stateRender","version","Date","now","signal","initialValue","Signal","value","subscribers","Set","newValue","forEach","callback","subscribe","add","unsub","delete","unsubscribe","isStaticTag","tagJsType","isTagComponent","tagType","isSubjectInstance","isObject","function","isFunction","object","isArray","Array","getSubscription","countSubject","Subject","globalSubCount$","next","subscription","subscriptions","index","findIndex","sub","splice","removeSubFromArray","valSub","push","runPipedMethods","methods","onComplete","cloneMethods","firstMethod","shift","length","handler","methodResponse","setHandler","x","onSubscription","isSubject","subscribeWith","constructor","this","orgCallback","lastValue","emit","set","bind","subs","toPromise","Promise","res","toCallback","runtimeSub","tagJsUnsub","setTimeout","pipe","operations","setMethods","all","args","subjects","output","valuesSeen","values","setValue","item","clones","map","combineLatest","arg","static","ValueSubject","super","defaultValue","stateConfig","handlers","firstStatesHandler","setter","config","states","statesIndex","support","reStatesHandler","prevSupport","oldStates","lastValues","stateArray","initState","runFirstState","statesHandler","rearray","reState","prevState","prevStates","runRestate","StateEchoBack","getStateValue","state","oldState","checkValue","getCallbackValue","restate","initValue","original","stateFrom","stateTo","statesFrom","fromValue","oldValues","oldGetCallback","getIndex","newSetCallback","_","watch","currentValues","setupWatch","defaultFinally","init","before","final","previous","pastResult","undefined","previousValues","result","every","defineOnMethod","getWatch","attachTo","setup","oldWatch","firstSupport","method","nowSupport","setTo","newestState","oldest","global","letProp","propStates2","passes","passedOn","nowValues","passed","newWatch","_value","oldestState","TagError","Error","details","message","errorCode","name","StateMismatchError","SyncCallbackError","deepClone","maxDepth","makeDeepClone","RegExp","clone","create","getPrototypeOf","i","deepEqual","obj1","obj2","isDeepEqual","fn0","fn1","toString","getTime","isArrayDeepEqual","keys1","keys","keys2","includes","isObjectDeepEqual","getTemplaterResult","propWatch","props","arrayValue","tags","castProps","newSupport","depth","ownerSupport","checkProp","alterProp","already","mem","wrap","toCall","callWith","newest","noCycle","callbackResult","run","locked","isInline","isInlineHtml","renderInlineHtml","renderExistingReadyTag","safeRenderSupport","tagClosed$","callbackPropOwner","assign","getPropWrap","deepCompareDepth","isSkipPropValue","subValue","afterCheckProp","checkArrayProp","getset","getOwnPropertyDescriptor","checkObjectProp","originalValue","newProp","destroy$","executeWrap","useSupport","castedProps","originalFunction","cloneValueArray","cloneTagJsValue","getBaseSupport","baseSupport","appSupport","blocked","upgradeBaseToSupport","propsConfig","PropWatches","IMMUTABLE","latest","SHALLOW","shallowCompareDepth","clonePropsBy","getSupport","getCastedProps","lastSupport","DEEP","preCastedProps","lastPropsConfig","lastCastProps","syncFunctionProps","tagCount","parentWrap","innerTagWrap","getTagWrap","wrapper","setUse","tagIndex","tagUseFn","hasSupportChanged","newTemplater","propsChanged","pastCloneProps","hasLenChanged","hasPropLengthsChanged","NONE","shallowPropMatch","immutablePropMatch","castedPastProps","compare","subCastedProps","subCompareProps","matched","entries","compareProps","onePropCompare","deepPropChangeCompare","hasPropChanges","len","pastProp","obEntries","subItem","objectItemMatches","use","route","_routeProps","app","_routeTag","deepPropWatch","immutableProps","watchProps","oneRenderFunction","renderFunction","onDelete","compareOriginal","pastValue","paintRemoves","setContent","paintAppends","paintInsertBefores","paintAfters","painting","locks","paint","toRemove","parentNode","removeChild","content","text","textNode","textContent","relative","appendChild","element","insertBefore","updateBeforeTemplate","lastFirstChild","document","createTextNode","castTextValue","runBeforeDestroy","providers","provider","children","renderCount","getChildTagsToDestroy","childTags","child","lastArray","iSubs","iSub","context","getChildTagsToSoftDestroy","subTags","smartRemoveKids","allPromises","destroys","promises","destroy","maybePromise","lastPromise","then","smartRemoveByContext","destroyClones","processContextDestroys","withinOwnerElement","destroyArray","elm","simpleValueElm","subGlobal","deleted","htmlDomMeta","marker","domElement","destroySupport","compareArrayItems","_subTag","removed","counts","newLength","at","lessLength","prevContext","destroyArrayItem","oldKey","oldValueTag","isDiff","newKey","console","warn","destroyArrayItemByGlobal","runArrayItemDiff","checkArrayValueChange","added","checkSimpleValueChange","contextItem","castedValue","oldClone","processUpdateRegularValue","getNewGlobal","isLikeTags","support0","support1","templater0","templater1","tag0","tag1","domMeta0","domMeta1","isLikeDomTags","like","strings0","strings","strings1","string","values0","values1","valuesLengthsMatch","allVarsMatch","compareTo","isLikeValueSets","isLikeStringTags","howToSetFirstInputValue","setAttribute","removeAttribute","specialAttribute","specialName","stagger","target","focus","select","names","split","style","classList","remove","processSpecialClass","handleProviderChanges","tagsWithProvider","memory","cSubject","getTagsWithProvider","getUpTags","supports","inlineHtml","isComponent","continueUp","selfPropChange","nowProps","latestProps","hasPropsToOwnerChanged","checkRenderUp","proSupports","prosWithChanges","hasChange","owner","providersChangeCheck","renderTagUpdateArray","mapTagUpdate","noData","promiseNoData","bindSubjectCallback","subjectFunction","bindTo","component","apply","eventHandlerSupport","last","checkAfterCallbackPromise","renderCallbackSupport","afterTagCallback","runTagCallback","tagFunction","actions","processNonDynamicAttr","attrName","howToSet","isSpecial","addSupportEventListener","eventName","appElement","replaceEventName","eventReg","events","listener","event","originalStopPropagation","stopPropagation","bubbleEvent","addEventListener","stopped","defaultPrevented","processAttributeFunction","newAttrValue","fun","isSpecialAttr","startsWith","specialAction","isSpecialAction","emptyCounts","processUpdateAttrContext","isNameOnly","attrValue","isNoDisplayValue","processNameOnlyAttrValue","updateNameOnlyAttrValue","processAttributeEmit","processAttribute","nameVar","getTagJsVar","addOneContext","isAttr","newValues","valueVar","checkValueChange","contextValueSubject","blankHandler","processNameValueAttributeAttrSubject","processTagCallbackFun","processDynamicNameValueAttribute","processAttributeSubjectValue","callbackFun","special","prevFun","attrPart","tagJsVar","someDiv","createElement","attachDomElements","nodes","appendTo","node","v","isNaN","attachDynamicDom","newNode","nn","attachDomText","attachDomElement","ch","attr","tc","innerHTML","innerText","placeholder","_newValues","newContextItem","updateExistingValue","processFirstSubjectValue","buildBeforeElement","domMeta","thisTag","stringId","array","Number","join","getStringsId","lastRun","lastRuns","matches","isLastRunMatched","domMetaMap","htmlInterpolationToPlaceholders","htmlString","html","valuePositions","elements","stack","currentElement","valueIndex","position","regexTag","regexTagOrg","replace","removeCommentRegX","match","preprocessTagsInComments","tagMatch","exec","fullMatch","tagName","attrString","isClosingTag","isSelfClosing","endsWith","slice","trim","splitByTagVar","variablePrefix","variableSuffix","pushTextTo","pop","attributes","attrMatch","regexAttr","notEmpty","noValue","lowerName","toLowerCase","fixedName","cleanEventName","valueName","search","attrSet","parseHTML","htmlInterpolationToDomMeta","replacePlaceholders","traverseAndRestore","template","interpolation","getDomMeta","loadDomMeta","attachHtmlDomMeta","processTag","checkTagValueChange","subscribeToTemplate","getFakeTemplater","newSupportByTemplater","getHtmlSupport","processUpdateOneContext","updateSupportBy","olderSupport","newerSupport","tempTag","updateSupportValuesBy","processUpdateContext","processNewTag","processTagArray","runtimeInsertBefore","filteredLast","newRemoved","eAppendTo","reviewArrayItem","itemSubject","couldBeSame","processAddTagArrayItem","reviewPreviousArrayItem","subPlaceholder","processNewArrayValue","fooCounts","ignoreOrDestroyed","tryUpdateToTag","processNowRegularValue","prepareUpdateToComponent","processReplacementComponent","oldWrapper","newWrapper","isSameTag","skipComparing","oldestSupport","swapTags","hasChanged","newProps","syncSupports","updateExistingTagComponent","updateContextItemBySupport","valueSupport","handleStillTag","updateToTag","isTag","checkStateMismatch","newStates","error","hint","throwStateMismatch","runAfterRender","renderTagOnly","oldRenderCount","reSupport","processNewSubjectTag","tagFakeTemplater","processResult","newPropsConfig","renderWithSupport","appendIndex","processFirstTagResult","processFirstSubjectComponent","oneRenderToSupport","processFirstTagValue","processFirstRegularValue","onValue","syncRun","processSubUpdate","processReplaceTagResult","newPropsArray","priorPropsArray","newArray","syncPriorPropFunction","priorProp","oldProp","updateExistingArray","hasSetter","updateExistingObject","softDestroySupport","softDestroyOne","lastTemplater","lastTag","isLikeTag","lastDom","lastStrings","oldLength","checkTagSoftDestroy","pIndex","pLen","pcLen","moveProviders","lastOwnerSupport","wasLikeTags","ownGlobal","ondoubleclick","fragFindAny","fragReplacer","safeVar","results","fragment","diff","balanceArrayByArrays","addPlaceholders","inputString","filter","part","pushTo","postprocessTagsInComments","placeholderRegex","valueCount","currentTail","loopTail","attrs","processAttributes","innerLoopTail","examineChild","textChild","secondMatch","wIndex","parseInt","varContent","after","lastIndex","safeReplacer","_match","stringTag","getStringTag","getDomTag","appElements","tagElement","appElmIndex","appElm","templater2","isApp","loadNewBaseSupport","getNewSubject","isAppFunction","runWrapper","removeEventListener","toAwait","newFragment","createDocumentFragment","domItem","putOneDomDown","registerTagElement","hmr","columnEditor","included","columnNames","allColumnNames","editFormula","mouseOverEditShow","edit","formulas","indexOf","evt","updateFormula","formula","newFormula","stringFormula","sandboxRunEval","title","src","ctx","Proxy","has","Function","sandboxEval","Math","arrayTable","showAll","showKids","toggleColumnDialog","formatChange","allowMaximize","everySimpleValue","row","dump","showLevels","isRootDump","arrayDisplay","inputObject","keysArray","filteredObject","filterObjectByKeys","paramValueKeys","onHeaderClick","arraysDisplay","arrayView","reduce","getAllKeys","defaultColumnNames","showColumnDialog","uniqueId","performance","noInit","getElementById","showModal","close","dumpArray","show","showLower","maximize","maximizeId","toggleMaximize","dumpBody","getHeader","displayOptions","copyText","body","setSelectionRange","execCommand","dumpSimple","isLinkValue","displayValue","simpleValue","linkValue","isLikeNull","number","toLocaleString","getLargeNumberTitle","downTime","preventDefault","dumpObject","continueDump","getHead","getDumpBody","controlPanel","format","showAllChange","JSON","stringify","copyAsJsonText","typing","onInit","getObjectTemplate","dumpCount","sampleDump","test","anotherOne","arrayTest","location","street","stripeDump","substring","allStrings336717","App","userJsonString","userJson","badEval","err","parse","getOwnPropertyNames","a","getElementsByTagName","start","end","info"],"sourceRoot":""}