var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{qw:()=>Xn,cF:()=>Cn,eF:()=>Hn});const n="";var o,r;!function(t){t.string="string",t.number="number",t.boolean="boolean",t[void 0]="undefined"}(o||(o={})),function(t){t.function="function",t.date="date",t.unknown="unknown",t.object="object"}(r||(r={}));const s={tag:"html",dom:"dom",templater:"templater",tagComponent:"tagComponent",tagArray:"tagArray",subject:"subject",tagJsSubject:"tagJsSubject",renderOnce:"renderOnce",stateRender:"stateRender",version:Date.now()};function a(t){return Ke()?y((()=>l(t))):l(t)}function l(t){let e=t;const n=new Set;return{get value(){return e},set value(t){e!==t&&(e=t,n.forEach((e=>e(t))))},subscribe(t){t(e),n.add(t);const o=()=>n.delete(t);return o.unsubscribe=o,o}}}function i(t){if(!t)return!1;switch(t.tagJsType){case s.dom:case s.tag:case s.templater:return!0}return!1}function c(t){const e=t?.tagJsType;return e===s.tagComponent||e===s.stateRender}function u(t){return p(t)&&typeof t.subscribe===r.function}function d(t){return typeof t===r.function}function p(t){return typeof t===r.object&&null!==t}function f(t){return Array.isArray(t)}function g(t,e,n){const o=h.globalSubCount$;h.globalSubCount$.next(o.value+1);const r=function(){r.unsubscribe()};return r.callback=e,r.subscriptions=[],r.unsubscribe=function(){return function(t,e,n){!function(t,e){const n=t.findIndex((t=>t.callback===e));-1!==n&&t.splice(n,1)}(e,n);const o=h.globalSubCount$;h.globalSubCount$.next(o.value-1),t.unsubscribe=()=>t;const r=t.subscriptions;for(const t of r)t.unsubscribe();return t}(r,n,e)},r.add=t=>(r.subscriptions.push(t),r),r.next=t=>{e(t,r)},r}function m(t,e,n){const o=[...e],r=o.shift(),s=t=>{if(o.length)return m(t,o,n);n(t)};let a=s;const l=r(t,{setHandler:t=>a=t,next:s});a(l)}class h{value;onSubscription;methods=[];isSubject=!0;subscribers=[];subscribeWith;constructor(t,e){this.value=t,this.onSubscription=e}subscribe(t){const e=g(0,t,this.subscribers),n=this.subscribeWith;if(n){if(this.methods.length){const n=t;t=t=>{m(t,this.methods,(t=>n(t,e)))}}return n(t)}return this.subscribers.push(e),this.onSubscription&&this.onSubscription(e),e}next(t){this.value=t,this.emit()}set=this.next.bind(this);emit(){const t=this.value,e=this.subscribers;for(const n of e)n.callback(t,n)}toPromise(){return new Promise((t=>{this.subscribe(((e,n)=>{n.unsubscribe(),t(e)}))}))}toCallback(t){const e=this.subscribe(((n,o)=>{const r=o?.unsubscribe;r?r():setTimeout((()=>e.unsubscribe()),0),t(n)}));return this}pipe(...t){const e=new h(this.value);return e.setMethods(t),e.subscribeWith=t=>this.subscribe(t),e.next=t=>this.next(t),e}setMethods(t){this.methods=t}static all(t){return function(t){const e=new h;return e.subscribeWith=e=>{const n=[],o=[],r=(r,s)=>{if(n[s]=!0,o[s]=r,n.length===t.length){for(const t of n)if(!t)return;e(o,a)}},s=[...t],a=s.shift().subscribe((t=>r(t,0))),l=s.map(((t,e)=>t.subscribe((t=>r(t,e+1)))));return a.subscriptions=l,a},e}(t.map((t=>{if(u(t))return t;return new h(t,(e=>(e.next(t),e)))})))}static globalSubCount$=new h(0)}class b extends h{value;constructor(t){super(t),this.value=t}subscribe(t){const e=super.subscribe(t);return t(this.value,e),e}}function y(t){return S.stateConfig.handlers.handler(t)}function v(t){const e=S.stateConfig;e.states[e.statesIndex]=t;return e.support.states[e.statesIndex]=t,++e.statesIndex,t(((...t)=>(y(t),t)))}function w(t){const e=S.stateConfig,n=e.support,o=e.statesIndex,r=e.prevSupport,s=r?.states[o],a=[];s(((...t)=>(a.push(t),t)));let l=0;return n.states[e.statesIndex]=t,++e.statesIndex,t(((...t)=>{e.stateArray.push({get:()=>t,defaultValue:t});const n=a[l];return++l,n}))}function _(t,e){e.handlers.handler=E,e.handlers.statesHandler=v,e.rearray=[],e.stateArray=[],e.states=[],e.statesIndex=0,e.support=t}function x(t,e,n,o){e.rearray=n,e.stateArray=[],e.states=o,e.statesIndex=0,e.handlers.handler=C,e.handlers.statesHandler=w,e.support=t}class k{}function j(t){const e=t.callback;if(!e)return t.defaultValue;const[n]=function(t){const[e]=t(k),[n]=t(e);return[e,n]}(e);return n}function C(){const t=S.stateConfig,e=t.rearray[t.stateArray.length];return t.stateArray.push(e),e.defaultValue}function E(t){const e=S.stateConfig;let n=t;if(typeof t===r.function&&(n=t()),typeof n===r.function){const t=n;n=function(...e){return t(...e)},n.original=t}const o={get:function(){return j(o)},defaultValue:n};return e.stateArray.push(o),n}const S={stateConfig:{stateArray:[],version:Date.now(),handlers:{handler:E,statesHandler:v}}};function $(t,e,n,o){for(let n=t.length-1;n>=0;--n){const o=t[n].get(),r=e[n].callback;r&&r(o)}for(let t=o.length-1;t>=0;--t){const e=[],r=(...t)=>(e.push(t),t);(0,o[t])(r);let s=0;const a=(...t)=>e[s++];n[t](a)}}const O=(t,e)=>N(t,e),A=t=>t;const N=(t,e,{init:n,before:o,final:r=A}={})=>{const s=y({pastResult:void 0,values:void 0}),a=s.values;if(void 0===a){if(o&&!o(t))return s.values=t,s.pastResult;const l=(n||e)(t,a);return s.pastResult=r(l),s.values=t,s.pastResult}if(t.every(((t,e)=>t===a[e])))return s.pastResult;if(o&&!o(t))return s.values=t,s.pastResult;const l=e(t,a);return s.pastResult=r(l),a.length=0,a.push(...t),s.pastResult};function T(t,e){return Object.defineProperty(e,"noInit",{get(){const e=t();return e.setup.init=()=>{},e}}),Object.defineProperty(e,"asSubject",{get(){const e=t(),n=y((()=>Ke())),o=y((()=>new b(void 0))),r=y((()=>({stateArray:S.stateConfig.stateArray,states:S.stateConfig.states}))),s=(t,s)=>(N(t,((t,e)=>{const a=Ke(),l=s(t,e);if(a!==n){const t=r.stateArray,e=n.subject.global.oldest;$(t,e.state,r.states,e.states)}o.next(l)}),e.setup),o);return s.setup=e.setup,T((()=>s),s),s}}),Object.defineProperty(e,"truthy",{get(){const e=t();return e.setup.before=t=>t.every((t=>t)),e}}),e}function V(t){return Ke()?y((()=>new h(t))):new h(t)}function J(t){return S.stateConfig.handlers.statesHandler(t)}function P(t){const e=a([]),n=a(0),o=a(0);let r=[],s=0;return o.value=n.value,t(((...t)=>(r=t,t))),O(r,(()=>{++s,e.value=r,t((()=>r))})),J((()=>{if(s)return t(((...t)=>(e.value=t,n!=o?e.value:t))),o.value=n.value,void++n.value;t((()=>e.value))})),++s,e.value}T((()=>function(t){const e=(e,n)=>N(e,n,t);return e.setup=t,T((()=>e),e),e}({})),O),V._value=t=>{const e=y((function(){return{stateArray:S.stateConfig.stateArray,states:S.stateConfig.states}})),n=Ke();return y((function(){return new b(t).pipe((t=>($(n.state,e.stateArray,n.states,e.states),t)))}))},V.all=function(t){const e=y((()=>({stateArray:S.stateConfig.stateArray,states:S.stateConfig.states}))),n=Ke();return h.all(t).pipe((t=>($(n.state,e.stateArray,n.states,e.states),t)))};class L extends Error{details;constructor(t,e,n={}){super(t),this.name=L.name,this.details={...n,errorCode:e}}}class D extends L{constructor(t,e){super(t,"state-mismatch-error",e),this.name=D.name}}class z extends L{constructor(t,e){super(t,"sync-callback-error",e),this.name=z.name}}function R(t,e){return Y(t,e)}function Y(t,e){if(null===t||typeof t!==r.object)return t;if(e<0)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);const n=f(t)?[]:Object.create(Object.getPrototypeOf(t));if(f(t))for(let o=0;o<t.length;o++)n[o]=Y(t[o],e-1);else for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=Y(t[o],e-1));return n}function I(t,e,n){return M(t,e,n)}function M(t,e,n){return!(t!==e&&(o=t,s=e,!d(o)||!d(s)||o.toString()!==s.toString()))||(n<0||typeof t===r.object&&typeof e===r.object&&(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():f(t)&&f(e)?function(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(!M(t[o],e[o],n-1))return!1;return!0}(t,e,n-1):!f(t)&&!f(e)&&function(t,e,n){const o=Object.keys(t),r=Object.keys(e);if(0===o.length&&0===r.length)return!0;if(o.length!==r.length)return!1;for(const s of o){if(!r.includes(s)||!M(t[s],e[s],n-1))return!1}return!0}(t,e,n-1)));var o,s}function X(t,e){const n={propWatch:t,props:e,tagJsType:s.templater,key:function(t){return n.arrayValue=t,n}};return n}const W=[];function H(t,e,n){return t.map((t=>function(t,e,n,o){if(i(t)||!t)return t;if(!e)return t;return U(t,e,n,o)}(t,e.ownerSupport,e,n)))}function U(t,e,n,o){if(!t)return t;if(t.tagJsType)return t;if(typeof t===r.function)return function(t,e){const n=t.mem;if(n)return t;const o=function(...t){return o.toCall(...t)};return o.original=t,o.mem=t,o.toCall=function(...t){return function(t,e,n){const o=n.subject.global,r=o?.newest||n,s=void 0===Ke(),a=t(...e),l=function(){const t=r.subject.global;if(!1===s){if(!0===t.locked)return a}return function(t,e){const n=t.subject,o=He(t.templater);if(o){return Be(e,t)}const r=n.global;r.locked=!0,We(r.newest,t,e,n),delete r.locked}(r,n),a};if(s)return l();return S.tagClosed$.toCallback(l),a}(o.mem,t,e)},Object.assign(o,t),o}(t,e);if(o===dt)return t;return F(t)?t:f(t)?function(t,e,n,o){for(let s=t.length-1;s>=0;--s){const a=t[s];if(t[s]=U(a,n,e,o+1),typeof a===r.function){if(a.mem)continue;B(o+1,s,a,t,e)}}return t}(t,n,e,o):function(t,e,n,o){const s=Object.keys(t);for(const a of s){const s=t[a],l=U(s,n,e,o+1);if(t[a]===l)continue;const i=Object.getOwnPropertyDescriptor(t,a);if(!(i?.get||i?.set)&&(t[a]=l,typeof l===r.function)){if(s.mem)continue;B(o+1,a,s,t,e)}}return t}(t,n,e,o)}function B(t,e,n,o,r){if(t>0){const t=r.subject.global;o[e].subscription=t.destroy$.toCallback((function(){o[e]=n}))}}function F(t){return typeof t!==r.object||!t||t.tagJsType}function K(t,e,n,o){const a=e.original;let l;t.tagJsType===s.stateRender?l=t():(l=a(...o),typeof l===r.function&&(l=l())),l.templater=t,t.tag=l;const i=S.stateConfig;return n.state=i.stateArray,n.states=i.states,n}function q(t){return t.map(Q)}function Q(t,e){const n=t,o=t?.tagJsType;if(o)switch(o){case s.stateRender:return;case s.dom:case s.tag:case s.templater:return q(n.values)}return f(t)?q(n):R(t,e)}function G(t,e,n){const o={templater:t,subject:e,castedProps:n,appSupport:void 0},r=e.global;return r.blocked=[],r.destroy$=new h,o}function Z(t,e,n,o){e.state=[],e.states=[],e.appSupport=n;const r=t.props;return r&&(e.propsConfig=function(t,e,n){const o=t.templater;if(o.tagJsType!==s.stateRender){switch(o.propWatch){case ot.IMMUTABLE:return t.propsConfig={latest:e,castProps:n};case ot.SHALLOW:return t.propsConfig={latest:e.map((t=>Q(t,ut))),castProps:n}}return t.propsConfig={latest:e.map((t=>Q(t,dt))),castProps:n}}}(e,r,o)),e}function tt(t,e,n,o,r){const s=G(t,o,r);return s.ownerSupport=e,Z(t,s,n,r)}function et(t,e,n){const o=t.propWatch===ot.DEEP?dt:ut,r=t.props,s=e.propsConfig;let a=s.castProps;const l=n?.propsConfig,i=l?.castProps;i&&(s.castProps=i,a=Re(e,n,n.ownerSupport,r,o));return a||H(r,e,0)}let nt=0;var ot;function rt(t,e=ot.SHALLOW){const n=function(...o){const r=X(e,o);r.tagJsType=s.tagComponent;const a=function(t,e){return function(n,o,r){const s=et(t,n,r),a=n.ownerSupport,l=tt(t,a,n.appSupport,o,s);return K(t,e,l,s)}}(r,n);return a.original=t,r.wrapper=a,r},o=t;return n.original=t,o.tags=W,o.setUse=S,o.ValueTypes=s,o.tagIndex=nt++,W.push(n),n}function st(){throw new Error("Do not call tag.use as a function but instead set it as: `(props) => tag.use = (use) => html`` `")}function at(t,e,n){if(Fe(t,e))return 11;switch(n){case ot.NONE:return 1;case ot.SHALLOW:return ct(t,e);case ot.IMMUTABLE:return it(t,e)}return function(t,e){let n=t,o=e;n=[...t],o=[...e||[]];if(!n.every(((t,e)=>function(t,e,n,o){const s=o[e];if(typeof t===r.object){const e={...t},n={...s||{}},o=Object.entries(e).every((([t,o])=>lt(o,n[t],(()=>{delete e[t],delete n[t]}))));return o}return lt(t,s,(()=>{n.splice(e,1),o.splice(e,1)}))}(t,e,n,o))))return 7;return!1}(t,e)}function lt(t,e,n){if(typeof t!==r.function)return!!I(t,e,dt)&&4;if(typeof e!==r.function)return!1;const o=e?.original;o&&(e=o);t.original&&(t=t.original);return t.toString()===e.toString()?(n(),5):(n(),6)}function it(t,e){const n=t.length;for(let o=0;o<n;++o){if(t[o]!==e[o])return 2}return!1}function ct(t,e){const n=t.length;for(let o=0;o<n;++o){const n=t[o],s=e[o];if(f(n)&&f(s)){if(n===s)continue;return 3}if(typeof n!==r.function||typeof s!==r.function)if(typeof n!==r.object){if(n!==s)return 3.3}else if(typeof e===r.object){const t=Object.entries(n);for(const e of t){if(!pt(e,s))return 3.1}}}return!1}!function(t){t.DEEP="deep",t.SHALLOW="shallow",t.NONE="none",t.IMMUTABLE="immutable"}(ot||(ot={})),rt.renderOnce=function(){throw new Error("Do not call tag.renderOnce as a function but instead set it as: `(props) => tag.renderOnce = () => html`` `")},rt.state=st,rt.use=st,rt.route=function(t){throw new Error("Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")},rt.app=function(t){throw new Error("Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")},rt.deepPropWatch=rt,rt.immutableProps=function(t){return rt(t,ot.IMMUTABLE)},rt.watchProps=function(t){return rt(t,ot.SHALLOW)},Object.defineProperty(rt,"renderOnce",{set(t){t.tagJsType=s.renderOnce}}),Object.defineProperty(rt,"state",{set(t){t.original={setUse:S,tags:W},t.tagJsType=s.stateRender}}),Object.defineProperty(rt,"use",{set(t){t.original={setUse:S,tags:W},t.tagJsType=s.stateRender}});const ut=3,dt=10;function pt([t,e],n){const o=n[t];return typeof e===r.function&&typeof o===r.function||o===e}let ft=[],gt=[],mt=[],ht=[],bt=[],yt=[];const vt={locks:0};function wt(){if(!(vt.locks>0)){for(let t=ft.length-1;t>=0;--t){const e=ft[t];e.parentNode.removeChild(e)}for(const t of gt)t();for(const[t,e]of mt)e.textContent=t;for(const t of ht)t.relative.appendChild(t.element);for(const{element:t,relative:e}of bt)e.parentNode.insertBefore(t,e);ft=[],gt=[],ht=[],bt=[],mt=[];for(const t of yt)t();yt=[]}}function _t(t,e){const n=document.createTextNode(t);return bt.push({element:n,relative:e}),n}function xt(t){switch(t){case void 0:case!1:case null:return n}return t}function kt(t){const e=t.subject.global,n=e.providers;if(n)for(const t of n)for(let n=t.children.length-1;n>=0;--n){t.children[n].subject.global===e&&t.children.splice(n,1)}e.destroy$&&e.destroy$.next(),t.subject.renderCount=0}function jt(t){for(const e of t){const t=e.lastArray;if(t){jt(t.map((t=>t.context)));continue}const n=e.global;if(!n)continue;const o=n.newest,r=n.subscriptions;r&&r.forEach((t=>t.unsubscribe())),c(o.templater)&&kt(o);jt(n.context)}}function Ct(t,e=[],n=[]){for(const o of t){const t=o.global;if(!t)continue;const r=t.newest;if(r){e.push(r);const o=t.subscriptions;o&&n.push(...o)}const s=t.context;s&&Ct(s,e,n)}return{tags:e,subs:n}}function Et(t,e){const n=t.subject,o=n.global,r=o.context,s=o.destroys;if(s)return function(t,e,n){const o=n.global,r=[];if(t.forEach((t=>{const e=t();e instanceof Promise&&r.push(e)})),r.length){const t=Promise.all(r).then((()=>{++vt.locks,St(o.context,e),$t(o),--vt.locks,wt()}));return void e.push(t)}++vt.locks,St(o.context,e),$t(o),--vt.locks,wt()}(s,e,n);St(r,e),$t(o)}function St(t,e){for(const n of t){if(n.withinOwnerElement)continue;const t=n.lastArray;if(t){Vt(n,t);continue}const o=n.simpleValueElm;if(o){delete n.simpleValueElm,ft.push(o);continue}const r=n.global;if(void 0===r)continue;if(!0===r.deleted)continue;r.deleted=!0;const s=r.oldest;s&&Et(s,e)}}function $t(t){t.htmlDomMeta.forEach((t=>{const e=t.marker;e&&ft.push(e);const n=t.domElement;n&&ft.push(n)}))}function Ot(t){const e=t.subject.global;e.deleted=!0,t.subject.renderCount=0;const n=[];return jt(e.context),e.destroy$&&kt(t),Et(t,n),n}function At(t,e,n,o,r){const s=t.length-1,a=e-o,l=a<0||s<a,i=n[e].context;if(l)return Nt(i,r),1;const c=function(t,e,n,o,r,s){const a=e&&t!==e.arrayValue;if(a)return Nt(n,o),r.splice(s,1),2;return 0}(i.value.arrayValue,t[e],i,r,n,e);return c}function Nt(t,e){!function(t,e){if(t){Ot(t.oldest)}else{const t=e.simpleValueElm;delete e.simpleValueElm,ft.push(t)}}(t.global,t),++e.removed}S.tagClosed$=new h(void 0,(function(t){Ke()||t.next()}));function Tt(t,e){if(!f(t)){return Vt(e,e.lastArray),9}return!1}function Vt(t,e){const n={added:0,removed:0};for(let t=0;t<e.length;++t)Nt(e[t],n);delete t.lastArray}function Jt(t,e){if(null==t||typeof t!==r.object)return function(t,e){const n=xt(t),o=e.simpleValueElm;mt.push([n,o])}(t,e),-1;const n=e.simpleValueElm;return delete e.simpleValueElm,ft.push(n),6}function Pt(t){return t.renderCount=t.renderCount||0,t.global={}}function Lt(t,e){const n=t.templater,o=e.templater,a=n?.tag||t,l=o.tag;if(n?.tagJsType===s.stateRender)return n.dom===o.dom;switch(a.tagJsType){case s.dom:return l?.tagJsType===s.dom&&function(t,e){const n=t.dom,o=e.dom;return n===o}(a,l);case s.tag:{const n=function(t,e,n,o){const s=t.strings,a=e.strings;if(s.length!==a.length)return!1;if(!s.every(((t,e)=>a[e].length===t.length)))return!1;const l=n.templater.values||t.values,i=o.templater.values||e.values;return function(t,e){const n=t.length===e.length;if(!n)return!1;const o=e.every(((e,n)=>{const o=t[n];if(typeof e===r.function&&typeof o===r.function){return!!(e.toString()===o.toString())}return!0}));if(o)return!0;return!1}(l,i)}(a,l,t,e);return n}}throw new Error(`unknown tagJsType of ${a.tagJsType}`)}function Dt(t,e,n){void 0!==n&&!1!==n&&null!==n?t.setAttribute(e,n):t.removeAttribute(e)}function zt(t,e,n,o,r,s){switch(o){case"init":{const t=s.added;return void yt.push((()=>{e({target:n,stagger:t})}))}case"destroy":{const t=++s.removed,o=r.subject.global;return o.destroys=o.destroys||[],void o.destroys.push((()=>e({target:n,stagger:t})))}case"autofocus":return void yt.push((()=>n.focus()));case"autoselect":return void yt.push((()=>n.select()));case"style":{const o=t.split(".");return void gt.push((()=>n.style[o[1]]=e))}case"class":return void function(t,e,n){const o=t.split(".");if(o.shift(),e){for(const t of o)gt.push((()=>n.classList.add(t)));return}for(const t of o)gt.push((()=>n.classList.remove(t)))}(t,e,n)}throw new Error(`Invalid special attribute of ${o}. ${t}`)}function Rt(t,e){const n=function(t,e,n=[]){const o=t.subject;n.push({support:t,renderCount:o.renderCount,provider:e});const r=e.children;for(let t=r.length-1;t>=0;--t){const o=r[t],s=o.subject;n.push({support:o,renderCount:s.renderCount,provider:e})}return n}(t,e);return n}function Yt(t,e=[]){const n=t.subject.global,o=He(t.templater),r=t.ownerSupport;if(n.locked)return e.push(t),e;if(o)return Yt(r,e);const a=t,l=c(a.templater),i=t.templater.tagJsType,u=r&&i!==s.stateRender&&(!l||function(t,e,n){const o=function(t,e){const n=t.props,o=e.propsConfig,r=o.latest;if(Fe(n,r))return!0;switch(t.propWatch){case ot.IMMUTABLE:return it(n,r);case ot.SHALLOW:return ct(n,r)}return!I(n,r,dt)}(e,n);if(t&&o)return!0;return!1}(r,a.templater,a)),d=function(t){const e=t.subject.global.providers;if(!e)return[];const n=[];for(const t of e){const e=Rt(t.owner,t);n.push(...e.map((t=>t.support)))}return n}(a);return e.push(...d),u?(Yt(r,e),l&&e.push(a),e):(e.push(a),e)}function It(t){++vt.locks,t.forEach(Mt),--vt.locks,wt()}function Mt(t){const e=t.subject.global;e&&Ue(e.newest)}const Xt="no-data-ever",Wt="promise-no-data-ever";function Ht(t,e){const n=e.subject.global,o=function(t,e){if(!0!==n.deleted)return function(t,e,n,o){let r=e;for(;r.ownerSupport&&!c(r.templater);)r=r.ownerSupport;const s=r.subject,a=s.global;a.locked=!0;const l=t.apply(n,o);delete a.locked;return function(t,e){const n=e.subject.global;return function(t,e,n){return It(Yt(t)),function(t,e,n){if(function(t){return t&&d(t.then)}(t)){return e.subject.global.locked=!0,t.then((()=>{if(!0===n.deleted)return Wt;delete e.subject.global.locked;return It(Yt(e)),Wt}))}return Xt}(e,t,n)}(e,t,n)}(l,r)}(o.tagFunction,o.support,t,e)};return o.tagFunction=t,o.support=e,o}const Ut=["init","destroy"];function Bt(t,e,n,o,r,s,a){if(a)return zt(t,e,n,a,s,r);o(n,t,e)}function Ft(t,e,n,o){const r=t.appElement;"blur"===e&&(e="focusout");const s="_"+e,a=t.subject.global.events;if(!a[e]){const t=function(t){t.originalStopPropagation=t.stopPropagation,Kt(t,s,t.target)};a[e]=t,r.addEventListener(e,t)}n[s]=o,n[e]=o}function Kt(t,e,n){const o=n[e];if(o){let e=!1;if(t.stopPropagation=function(){e=!0,t.originalStopPropagation.call(t)},o(t),t.defaultPrevented||e)return}const r=n.parentNode;r&&Kt(t,e,r)}function qt(t,e,n,o){const r=function(...e){return r.tagFunction(t,e)};r.tagFunction=e,r.support=n,Ft(n.appSupport,o,t,r)}function Qt(t){if(t.startsWith("class."))return"class";const e=function(t){switch(t){case"autoselect":return"autoselect";case"autofocus":return"autofocus";case"oninit":case"init":return"oninit";case"ondestroy":case"destroy":return"destroy"}return!1}(t);return!1!==e||!!t.startsWith("style.")&&"style"}const Gt={added:0,removed:0};function Zt(t,e,n,o){if(n.isNameOnly)return function(t,e,n,o,s,a,l,i){if(n){if(ae(e))return void o.removeAttribute(n);if(typeof n===r.object)if(typeof e===r.object)for(const t in n)t in e||gt.push((function(){o.removeAttribute(t)}));else for(const t in n)gt.push((function(){o.removeAttribute(t)}))}ee(t,e,o,s,a,l,i)}(t,e,n.value,n.element,o,n.howToSet,[],Gt),void(n.value=e);const s=n.element;ne(e,n.attrName,n,s,o,n.howToSet,n.isSpecial,Gt),n.value=e}function te(t,e,n,o,s,a,l,i,c){const d=se(e);if(d>=0){const e=t[d],r=ge(e,a,!0);return r.isAttr=!0,r.element=n,r.howToSet=s,r.isNameOnly=!0,r.handler=(t,e)=>Zt(e,t,r,o),void ee(t,e,n,o,s,a,i)}const p=se(c);if(p>=0){const c=t[p],d={isAttr:!0,element:n,attrName:e,checkValueChange:Jt,withinOwnerElement:!0};a.push(d);return u(d.value)?function(t,e,n,o,r,s,a){s&&gt.push((function(){n.removeAttribute(t)}));const l=e.value;if(u(l)){e.handler=le;const i=function(l){ne(l,t,e,n,o,r,s,a)},c=l.subscribe(i),u=e.global;(u.subscriptions=u.subscriptions||[]).push(c)}return void ne(e.value,t,e,n,o,r,s,a)}(e,d,n,o,s,l,i):(d.handler=(t,e)=>Zt(e,t,d,o),function(t,e,n,o,s,a,l,i){n.attrName=t,n.element=o,n.howToSet=s,typeof e===r.function?i&&Ut.includes(t)?zt(t,e,o,t,a,l):re(n,e,a,t,o):(n.attrName=t,n.element=o,n.howToSet=s,n.isSpecial=i,Bt(t,e,o,s,l,a,i))}(e,c,d,n,s,o,i,l),void(d.value=c))}return Bt(e,c,n,s,i,o,l)}function ee(t,e,o,s,a,l,i){if(!ae(e))if(typeof e!==r.object)0!==e.length&&a(o,e,n);else for(const n in e){const r=e[n];te(t,n,o,s,a,l,Qt(n),i,r)}}function ne(t,e,n,o,r,a,l,i){return d(t)?function(t,e,n,o,r,a,l,i){const c=t.templater.wrapper;if((c?.tagJsType||c?.original?.tagJsType)!==s.renderOnce)return re(l,e,t,o,n);return oe(e,n,o,r,a,t,i)}(r,t,o,e,l,a,n,i):oe(t,o,e,l,a,r,i)}function oe(t,e,n,o,r,s,a){if(!1===o){switch(t){case void 0:case!1:case null:return void gt.push((function(){e.removeAttribute(n)}))}if(d(t))return qt(e,t,s,n);r(e,n,t)}else zt(n,t,e,o,s,a)}function re(t,e,n,o,r){const s=t.value;return s&&s.tagFunction&&s.support?(s.tagFunction=e,s.support=n,s):qt(r,e=Ht(e,n),n,o)}function se(t){return p(t)&&"tagJsVar"in t?t.tagJsVar:-1}function ae(t){return null==t||!1===t}const le=()=>{},ie="object"==typeof document&&document.createElement("div");function ce(t,e,o,r,s,a,l,i,c=[]){const u=[];l&&void 0===i&&(i=document.createTextNode(n),ht.push({element:i,relative:l}),l=void 0);for(let n=0;n<t.length;++n){const d=t[n],p=d.v;if(!isNaN(p)){const t=s.length;pe(e[t],t,s,o,c,r,a,l,i);continue}const f={};if(u.push(f),"text"===d.nn){de(f,d,l,i);continue}const g=ue(f,d,e,o,s,r,l,i);d.ch&&(f.ch=ce(d.ch,e,o,r,s,a+1,g,i,c).dom)}return{subs:c,dom:u,context:s}}function ue(t,e,n,o,r,s,a,l){const i=t.domElement=document.createElement(e.nn);return e.at&&e.at.forEach((t=>{const e=t[0],a=t[1],l=t[2]||!1;te(n,e,i,o,Dt,r,l,s,a)})),a?ht.push({element:i,relative:a}):bt.push({element:i,relative:l}),i}function de(t,e,n,o){const r=t,s=r.tc=e.tc;ie.innerHTML=s;const a=r.domElement=document.createTextNode(ie.innerText);n?ht.push({element:a,relative:n}):bt.push({element:a,relative:o})}function pe(t,e,o,r,s,a,l,i,c){const d=document.createTextNode(n),p=ge(t,o,l>0);if(p.placeholder=d,i?ht.push({relative:i,element:d}):bt.push({relative:c,element:d}),u(t))return s.push({insertBefore:d,appendTo:i,subject:t,support:r,counts:a,contextItem:p}),void(p.handler=le);p.handler=(t,e,n,o)=>Ce(o,t,n);r.subject.global.locked=!0,Pe(t,p,r,a,i,c);delete r.subject.global.locked,p.value=t}function fe(t,e,n,o){const r=t.subject.global;r.oldest=t,r.newest=t,++vt.locks;const a=function(t,e,n,o){const r=function(t){const e=t.templater,n=e.tag;if(n.tagJsType===s.dom)return n.dom;const o=n.strings;return function(t,e){const n=function(t){const e=t.map((t=>t.length));return e.push(t.length),Number(e.join(""))}(t),o=vn[n],r=o&&function(t,e,n){if(n&&n.strings.length===t.length){if(n.strings.every(((e,n)=>e===t[n]))&&n.values.length===e.length)return!0}return!1}(t,e,o);if(r)return o.domMetaMap;const s=function(t,e){un(t,e);const n=un(t,e).join(""),o=function(t){const e=[],n=[],o=[];let r=null,s=-1,a=0;const l=new RegExp(en,"g");t=function(t){return t.replace(nn,(function(t){return t.replace(/\[l t\]/g,"[l&nbsp;t]").replace(/\[g t\]/g,"[g&nbsp;t]").replace(/</g,"[l t]").replace(/>/g,"[g t]")}))}(t);for(;a<t.length;){const i=l.exec(t);if(!i)break;const[c,u,d]=i,p=c.startsWith("</"),f=c.endsWith("/>");if(a<i.index){const e=t.slice(a,i.index);if(e.trim()){an(e).forEach((t=>{t.startsWith(qe)&&(t=qe+ ++s+Qe),rn(r,n,t)}))}}if(a=i.index+c.length,p){r=o.pop()||null;continue}const g=[];let m;for(;null!==(m=tn.exec(d));){const t=m[1]||m[3]||m[5];let n=m[2]||m[4]||m[6];if(void 0===t)continue;const o=""!==m[2],r=void 0===n&&o,a=t.toLowerCase(),l=a.startsWith("on")?on(a):a;if(r){if(t.slice(0,qe.length)===qe){const t=qe+ ++s+Qe;e.push(["at",t]),g.push([t]);continue}if(m[0].startsWith(t)&&m[0].slice(t.length,m[0].length).search(/\s+$/)>=0){g.push([l]);continue}n=qe+ ++s+Qe}o||(n=m[2]);const i=[l,n],c=Qt(a);c&&i.push(c),g.push(i)}const h={nn:u};g.length&&(h.at=g),r?(r.ch||(r.ch=[]),r.ch.push(h)):n.push(h),f||(o.push(r),r=h)}if(a<t.length){const e=t.slice(a);if(e.trim()){an(e).forEach((t=>(t.startsWith(qe)&&++s,rn(r,n,t))))}}return n}(n);return o}(t,e),a=fn(s,e.length);l=a,l.forEach(yn);var l;const i={interpolation:void 0,string:void 0,strings:t,values:e,domMetaMap:a};return vn[n]=i,a}(o,n.values)}(t),a=t.templater.tag,l=a.values,i=[],c=t.subject.global;c.context=i;const u=ce(r,l,t,e,i,0,n,o);return u}(t,e,n,o);return r.htmlDomMeta=a.dom,--vt.locks,a}function ge(t,e,n){const o={value:t,checkValueChange:Jt,withinOwnerElement:n};return e.push(o),o}function me(t,e,n){const o=e.global.newest;o.ownerSupport=t,e.checkValueChange=Oe;const r=fe(o,n,void 0,e.placeholder);for(const t of r.subs)Le(t);return o}function he(){return{tagJsType:s.templater}}function be(t,e,n){const o=function(t,e,n,o,r){const s={templater:t,subject:o,castedProps:r,appSupport:void 0};return s.ownerSupport=e,s.appSupport=n,s}(t,e,e.appSupport,n);return n.global.context=[],o}function ye(t,e,n,o){const r=t[e],s=n[e];if(r===s.value)return;(0,s.handler)(r,t,o,s),s.value=r}function ve(t,e){const n=t.subject.global.context;!function(t,e){const n=e.templater.tag||e.templater,o=e.templater.values||n.values,r=t.templater.tag;r.values=o}(t,e),++vt.locks,function(t,e){const n=t.templater.tag.values;let o=0;const r=n.length;for(;o<r;)ye(n,o,e,t),++o}(t,n),--vt.locks,wt()}function we(t,e,n){n.checkValueChange=Oe;const o=t;let r=o.templater;r||(r=X(ot.DEEP),r.tag=o,o.templater=r);const s=n.global=Pt(n),a=s.newest=tt(r,e,e.appSupport,n);return s.oldest=a,n}function _e(t,e,n,o,r){const s=void 0===t.lastArray;s&&(t.lastArray=[]);const a=t.lastArray;let l=t.placeholder,i=0;const c=[];if(!s){for(let t=0;t<a.length;++t){const n=a[t],r=At(e,t,a,i,o);0!==r?2!==r?i+=r:t-=1:c.push(n)}t.lastArray=c}const u=e.length;for(let s=0;s<u;++s){l=xe(e,s,t.lastArray,n,l,o,r).placeholder}}function xe(t,e,n,o,r,s,a){const l=t[e],i=n[e];return i?function(t,e,n,o,r,s,a,l){const i=n.length>r;if(i)return Ce(e,t,o),e;const c=ke(t,s,o,a,n,l);return c}(l,i.context,n,o,e,r,s,a):ke(l,r,o,s,n,a)}function ke(t,e,n,o,r,a){const l={value:t,checkValueChange:Jt,withinOwnerElement:!1};o.added=o.added+1;const i=document.createTextNode("");return l.placeholder=i,a||bt.push({element:i,relative:e}),function(t,e,n){const o=t.tagJsType;if(o)switch(o){case s.templater:we(t.tag,e,n);break;case s.tag:case s.dom:we(t,e,n)}}(t,n,l),Pe(t,l,n,o,a),l.value=t,r.push({context:l,global:l.global}),a&&ht.push({element:i,relative:a}),l}const je={added:0,removed:0};function Ce(t,e,n){if(e===t.value)return;const o=t.checkValueChange(e,t);if(-1===o)return;const a=e&&e.tagJsType;if(a){if(a===s.renderOnce)return;$e(t,e,n)}else f(e)?_e(t,e,n,{added:0,removed:0}):typeof e!==r.function?o&&function(t,e){e.checkValueChange=Jt;const n=e.placeholder,o=xt(t);e.simpleValueElm=_t(o,n)}(e,t):t.value=e}function Ee(t,e,n){if(!e.global.newest)return void De(t,e,n,{added:0,removed:0});!function(t,e,n){const o=n.global,r=o.newest,a=r.templater.wrapper,l=e.templater.wrapper;let i=!1;const c=e.templater.tagJsType,u=s.stateRender===c||s.renderOnce===c;if(u)i=e.templater.tagJsType===s.renderOnce||Lt(r,e);else if(a&&l){i=a.original===l.original}const d=e.templater;if(!i)return void function(t,e,n){const o=t.global,r=o.oldest;Ot(r),Pt(t);const s=De(e,t,n,{added:0,removed:0})}(n,d,t);const p=u||function(t,e){return at(e.props,t.propsConfig.latest,t.templater.propWatch)}(r,d);if(!p){return void function(t,e,n,o,r){const s=t.props,a=Re(e,n,o,s,r),l=e.propsConfig;l.castProps=a;const i=n.propsConfig;i.latest=l.latest}(d,e,r,t,d.propWatch===ot.DEEP?dt:ut)}if(o.locked)return void o.blocked.push(e);Ue(e),++n.renderCount}(n,tt(t,n,n.appSupport,e),e)}function Se(t,e,n,o){typeof n!==r.function&&function(t,e,n,o){const r=tt(n.templater||n,o,o.appSupport,e);ve(t.subject.global.oldest,r)}(t,e,n,o)}function $e(t,e,n){const o=e.tagJsType;if(c(e))return void 0===t.global&&Pt(t),Ee(e,t,n),!0;const r=t.global;if(r){const o=r.newest;if(o)return Se(o,t,e,n),!0}switch(o){case s.templater:return me(n,t,je),!0;case s.tag:case s.dom:return function(t,e,n){const o=t;let r=o.templater;r||(r=he(),o.templater=r,r.tag=o),(e.global?e.global:Pt(e)).newest=be(r,n,e),me(n,e,je)}(e,t,n),!0}return!1}function Oe(t,e){const n=e.global,o=n?.newest;if(i(t)){return!Lt(t,o)&&(Ot(o),Pt(e),7)}const r=t?.tagJsType;if(r){return!0===$e(e,t,n.newest.ownerSupport)&&-1}return Ot(o),delete e.global,e.renderCount=0,8}function Ae(t,e){const n=t.rearray;n.length&&n.length!==t.stateArray.length&&function(t,e,n){const o=`Saved states between renders are inconsistent. Expected ${t.length} states got ${n.stateArray.length}.`,r=e.templater?.wrapper;let s=r;(r?.original||r?.original)&&(s=r.original);const a={oldStates:n.stateArray,newStates:n.rearray,tagFunction:s,templater:e.templater},l=new D(o,a);throw console.error(Ne,a),l}(n,e,t)}const Ne="State tracking requires same number of state calls on every render. This error typically occurs when a state call is only reachable behind a condition. Also, wrapping tags that have state, with tag(), often helps when tag is only reachable by a condition.";function Te(t,e){const n=t.subject;++n.renderCount;const o=S.stateConfig;delete o.support,t.state=o.stateArray,S.tagClosed$.next(e),Ae(o,t),n.global.newest=t}function Ve(t,e,n,o){const r=n.global,a=n.renderCount,l=e?.state,i=S.stateConfig;if(l){const n=e.states;i.prevSupport=e,x(t,S.stateConfig,l,n)}else _(t,i);const c=t.templater;let u;if(c.tagJsType===s.stateRender){u=K(c,c,tt(c,o,t.appSupport,n)),u.states=t.states}else{u=(0,c.wrapper)(t,n,e),u.states=t.states}return Te(u,o),n.renderCount>a+1?r.newest:u}function Je(t,e,n,o,r,s){n.checkValueChange=Oe;const a=be(t,e,n);a.ownerSupport=e;const l=fe(a,o,r,r?void 0:s);for(const t of l.dom)t.marker&&(r?ht.push({element:t.marker,relative:r}):bt.push({element:t.marker,relative:s})),t.domElement&&(r?ht.push({element:t.domElement,relative:r}):bt.push({element:t.domElement,relative:s}));let i=-1;const c=l.subs.length-1;for(;i++<c;){Le(l.subs[i])}return a}function Pe(t,e,n,o,r,a){const l=t?.tagJsType;return l?function(t,e,n,o,r,a,l){switch(++e.renderCount,t){case s.templater:return e.checkValueChange=Oe,a?Je(n,o,e,r,a,l):me(o,e,r);case s.dom:case s.tag:{e.checkValueChange=Oe;const t=n;let s=t.templater;s||(s=function(t){const e=he();return e.tag=t,t.templater=e,e}(t));const i=Pt(e);return a?Je(s,o,e,r,a,l):(i.newest=be(s,o,e),e.checkValueChange=Oe,me(o,e,r))}case s.stateRender:case s.tagComponent:if(Pt(e),e.checkValueChange=Oe,a){const t=function(t,e,n,o,r){const a=tt(t,n,n.appSupport,e),l=a.propsConfig;if(l){const e=t.tagJsType!==s.tagComponent?[]:et(t,a);l.castProps=e}const i=e.global,{support:c}=Me(a,i.newest,e,n);return function(t,e,n){let o=ht.length;const r=fe(t,e,n,void 0);for(const t of r.dom)t.domElement&&ht.splice(o++,0,{element:t.domElement,relative:n}),t.marker&&ht.splice(o++,0,{element:t.marker,relative:n});const s=r.subs;for(const t of s)Le(t)}(c,o,r),c}(n,e,o,r,a);return t}return De(n,e,o,r);case s.renderOnce:{Pt(e);const t=function(t,e,n){const o=X(ot.DEEP);o.tagJsType=t.tagJsType;const r=be(o,n,e);function s(){return o.tag=t(),r}return o.wrapper=s,s.tagJsType=t.tagJsType,s.original=t.original||t,r}(n,e,o);Ve(t,void 0,e,o);const s=Je(t.templater,o,e,r,a,l);return e.checkValueChange=Oe,s}}}(l,e,t,n,o,r,a):f(t)?(_e(e,t,n,o,r),void(e.checkValueChange=Tt)):void(u(t)||function(t,e,n){const o=xt(t),r=_t(o,n);e.simpleValueElm=r,e.checkValueChange=Jt}(t,e,e.placeholder))}function Le({subject:t,support:e,counts:n,contextItem:o,appendTo:r}){let s=function(t){Pe(t,o,e,{...n},a?r:void 0),a||S.stateConfig.support||wt(),s=function(t){!function(t,e,n){t!==e.value&&(Ce(e,t,n),S.stateConfig.support||wt())}(t,o,e)}};let a=!0;const l=t.subscribe((function(t){s(t)}));o.subject=t,a=!1;const i=e.subject.global;(i.subscriptions=i.subscriptions||[]).push(l)}function De(t,e,n,o){const r=tt(t,n,n.appSupport,e),a=r.propsConfig;if(a){const e=t.tagJsType!==s.tagComponent?[]:et(t,r);a.castProps=e}const l=e.global,{support:i}=Me(r,l.newest,e,n);return function(t,e,n){n.checkValueChange=Oe;const o=fe(t,e,void 0,n.placeholder).subs;for(const t of o)Le(t)}(i,o,e),i}function ze(t,e,n,o,s,a){return null==t||a>s?e:typeof t===r.function?e.mem?(t.mem=e.mem,e):(t.mem=e,t):F(e)?e:f(e)?function(t,e,n,o,r,s){for(let a=t.length-1;a>=0;--a){const l=t[a],i=e[a];t[a]=ze(i,l,n,o,s,r+1)}return t}(e,t,n,o,a,s):function(t,e,n,o,r,s){const a=Object.keys(t);for(const l of a){const a=t[l],i=ze(e[l],a,n,o,s,r+1);if(a===i)continue;const c=Object.getOwnPropertyDescriptor(t,l)?.set;c||(t[l]=i)}return t}(e,t,n,o,a,s)}function Re(t,e,n,o,r,s=-1){if(0===r)throw new Error("before here");const a=e.subject.global.newest;if(!a){const e=H(o,t,s);o.push(...e);return t.propsConfig.castProps=e,o}const l=(e=a||e).propsConfig.castProps,i=[];for(let e=0;e<o.length;++e){const a=o[e],c=ze(l[e],a,t,n,r,s+1);i.push(c)}return t.propsConfig.castProps=i,i}function Ye(t){const e=t.subject.global,{subs:n,tags:o}=Ct(e.context);Ie(t);for(const t of o)Ie(t);e.subscriptions&&n.forEach((t=>t.unsubscribe())),Pt(t.subject)}function Ie(t){const e=t.subject,n=e.global;!0!==n.deleted&&(n.deleted=!0,e.renderCount=0,Et(t,[]))}function Me(t,e,n,o){const r=e?.templater,a=r?.tag,l=Ve(t,e,n,o),i=!e||Lt(e,l);if(i){if(e){const t=e.templater.tag;t&&n.renderCount>0&&function(t,e,n){if(t.tagJsType===s.dom){const o=n?.dom;return void(o!==t.dom&&Ye(e))}if(n){const o=n.strings;if(o){const n=o?.length;n!==t.strings.length&&Ye(e)}}}(t,e,a)}}else{!function(t,e){const n=t.subject.global;let o=-1;const r=n.providers=n.providers||[],s=r.length-1;for(;o++<s;){const t=r[o];let s=-1;const a=t.children.length-1;for(;s++<a;)if(n===t.children[s].subject.global)return t.children.splice(s,1),void t.children.push(e)}}(e,l),Ye(e);const t=l.subject.global;t.oldest=l,t.newest=l}const c=e?.ownerSupport;return l.ownerSupport=o||c,{support:l,wasLikeTags:i}}const Xe={added:0,removed:0};function We(t,e,n,o){const r=o.global,{support:s,wasLikeTags:a}=Me(e,t,o,n);return a?(ve(r.oldest,s),s):(me(n,o,Xe),s)}function He(t){return s.templater===t.tagJsType}function Ue(t){const e=t.subject.global,n=He(t.templater),o=t.ownerSupport;if(e.locked)return e.blocked.push(t),t;if(n){return Be(o,t)}e.locked=!0;const r=t.subject;e.blocked.length&&(t=e.blocked.pop(),e.blocked=[]);const s=We(e.newest,t,o,r);return delete e.locked,s}function Be(t,e){const n=t.subject.global;if(!n||!0===n.deleted)return e;return Ue(n.newest||t)}function Fe(t,e){return t.length!==e.length}new z("callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering");function Ke(){return S.stateConfig.support}const qe=":tagvar",Qe=":";const Ge=/(:tagvar\d+:)/,Ze="ondoubleclick",tn=/([:_a-zA-Z0-9\-.]+)\s*(?:=\s*"([^"]*)"|=\s*(\S+))?/g,en=/<\/?([a-zA-Z0-9-]+)((?:\s+[a-zA-Z_:*][\w:.-]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)+\s*|\s*)\/?>/g;const nn=new RegExp("(\x3c!--[\\s\\S]*?--\x3e)","g");function on(t){if(t.startsWith("on")){return t.length===Ze.length&&t===Ze?"dblclick":t.slice(2,t.length)}return t}function rn(t,e,n){!function(t,e,n){t?(t.ch||(t.ch=[]),t.ch.push(n)):e.push(n)}(t,e,{nn:"text",tc:sn(n)})}function sn(t){return t.replace(/(\[l t\]!--[\s\S]*?--\[g t\])/g,(function(t){return t.replace(/\[l t\]/g,"<").replace(/\[g t\]/g,">").replace(/\[l&nbsp;t\]/g,"[l t]").replace(/\[g&nbsp;t\]/g,"[g t]")}))}function an(t){return t.split(Ge).filter((t=>""!==t))}const ln=/(^:tagvar\d+:|:tagvar\d+:$)/g,cn="__safeTagVar";function un(t,e){return function(t,e){const n=t.map(((t,n)=>n<e.length?t+qe+n+Qe:t));return function(t,e,n){const o=n.length-e.length;if(o>0)for(let n=o;n>0;--n)t.push(qe+(e.length+n-1)+Qe)}(n,t,e),n}(t.map((t=>t.replace(ln,((t,e)=>cn+e)))),e)}const dn=new RegExp(qe+"(\\d+)"+Qe,"g"),pn="ch";function fn(t,e,n=[],o=[]){const r=t;for(let t=0;t<r.length;t++){const s=[...o,t],a=r[t];if(a.at){const t=a.at;a.at=mn(t,e)}if(a.ch){const t=a.ch,o=[...s,pn];a.ch=fn(t,e,n,o)}t=gn(a,e,r,t)}return r}function gn(t,e,n,r){if("text"!==t.nn)return r;const s=t;let a,l=s.tc;if(typeof l!==o.string)return r;for(;null!==(a=dn.exec(l));){const t=a[1],o=parseInt(t,10);if(!isNaN(o)&&o<e){const t=qe+o+Qe,e=l.slice(a.index+t.length);n.splice(r,1,{nn:"text",v:o}),l=e,dn.lastIndex=0}}return s.tc=l,r}function mn(t,e){return t.map((t=>{const[n,r,s]=t;if(n.startsWith(qe)){const t=parseInt(n.replace(qe,""),10);if(!isNaN(t)&&t<e)return[{tagJsVar:t}]}if(typeof r===o.string&&r.startsWith(qe)){const t=parseInt(r.replace(qe,""),10);if(!isNaN(t)&&t<e)return[n,{tagJsVar:t},s]}return t}))}const hn="__safeTagVar";const bn=/__safeTagVar(\d+)/g;function yn(t){if(t.at&&(t.at=t.at?t.at.map((t=>{if(1===t.length)return t;const[,e]=t;if(typeof e===o.string&&e.startsWith(hn)){const n=parseInt(e.replace(hn,""),10);t[1]=qe+n+Qe}return t})):[]),t.ch){const e=t.ch;for(let t=0;t<e.length;t++){const n=e[t];if("text"===n.nn){if(typeof n.tc!==o.string)return;n.tc=n.tc.replace(bn,((t,e)=>qe+e+Qe))}yn(n)}0===e.length&&delete t.ch}}const vn={};function wn(t,...e){const n=function(t,e){const n={values:e,ownerSupport:Ke(),tagJsType:s.tag,strings:t,key:t=>(n.arrayValue=t,n),html:function(t,e){return n.children={strings:t,values:e},n}};return n}(t,e),o=X(ot.NONE);return o.tag=n,n.templater=o,n}wn.dom=function(t,...e){return function(t,e){const n={values:e,ownerSupport:Ke(),dom:t,tagJsType:s.dom,key:function(t){return n.arrayValue=t,n},html:{dom:function(t,e){return n.children={dom:t,values:e},n}}};return n}(t,e)};const _n=[];function xn(t,e,n){const o=_n.findIndex((t=>t.element===e));o>=0&&(Ot(_n[o].support),_n.splice(o,1),console.warn("Found and destroyed app element already rendered to element",{element:e}));let a=()=>u(n);a.propWatch=ot.NONE,a.tagJsType=s.stateRender,a.props=[n],a.isApp=!0;const l=function(t,e){const n={value:t,checkValueChange:Oe,withinOwnerElement:!1,renderCount:0,global:void 0},o=Pt(n);return o.events={},kn(t,n,e),n}(a,e),i=l.global;_(i.newest,S.stateConfig);let u=t(n);const d=typeof u==r.function;d||(c(u)?(i.newest.propsConfig={latest:[n],castProps:[n]},a.propWatch=u.propWatch,a.tagJsType=u.tagJsType,a.wrapper=u.wrapper,a=u):(a.tag=u,u=t));const p=document.createTextNode("");W.push(a.wrapper||{original:a});const f=function(t,e,n,o,r){o.placeholder=e;const a=o.global,l=a.newest,i=a.oldest;l!==i&&x(l,S.stateConfig,i.state,i.states);if(t.tagJsType===s.stateRender){const e=t.wrapper||{original:t};if(!r){const e=kn(t,o,n);return Te(e),e}const s=K(t,e,l);return Te(s),s}const c=t.wrapper,u=c(l,o);return Te(u),u}(a,p,e,l,d);if(i.isApp=!0,d&&(u.tag=f.templater.tag),!e)throw new Error(`Cannot tagElement, element received is type ${typeof e} and not type Element`);e.destroy=function(){const t=i.events;for(const n in t){const o=t[n];e.removeEventListener(n,o)}i.events={},++vt.locks;const n=Ot(f);return--vt.locks,wt(),n},++vt.locks;const g=function(t,e,n,o,r,a){const l=fe(t,{added:0,removed:0},e,void 0);n.oldest=t,n.newest=t;let i=o.setUse;if(o.tagJsType!==s.stateRender){const t=r.original;i=t.setUse,t.isApp=!0}e.setUse=i,e.ValueTypes=s,_n.push({element:e,support:t});const c=document.createDocumentFragment();c.appendChild(a);for(const t of l.dom)jn(t,c);for(const t of l.subs)Le(t);return c}(f,e,i,a,t,p);return--vt.locks,wt(),e.appendChild(g),{support:f,tags:W,ValueTypes:s}}function kn(t,e,n){const o=e.global,r=G(t,e);return Z(t,r,r),r.appElement=n,o.oldest=o.oldest||r,o.newest=r,r}function jn(t,e){t.domElement&&e.appendChild(t.domElement),t.marker&&e.appendChild(t.marker)}const Cn={tagElement:xn,renderWithSupport:Me,renderSupport:Ue,renderTagOnly:Ve,paint:wt},En=rt((({name:t,array:e,included:n,columnNames:o,allColumnNames:r})=>{let s,a=!1,l=!1;const i=y([]);J((t=>[{mouseOverEditShow:a,edit:l,editFormula:s}]=t({mouseOverEditShow:a,edit:l,editFormula:s})));return wn`
    <a onclick=${function(){const e=o.indexOf(t);e>=0?o.splice(e,1):o.push(t)}} style="cursor:pointer;">
      <input type="checkbox" ${n&&"checked"} />&nbsp;${t}
    </a>

    <div
      onmouseover=${()=>a=!0}
      onmouseout=${()=>a=!1}
    >
      <a style.visibility=${l||a?"visible":"hidden"}
        onclick=${()=>l=!l}
      >⚙️&nbsp;</a>
      
      ${n&&o.length!==r.length?wn`
        <a style="color:blue;" onclick=${()=>{o.length=0,o.push(...r)}}><small>all</small></a>
      `:wn`
        <a style="color:blue;" onclick=${()=>{o.length=0,o.push(t)}}><small>only</small></a>
      `}
    </div>

    ${l&&wn`
      <div style="width:100%;padding:0.3em;">
        <div style="font-size:0.7em;text-align:center;">
          <strong>Column Settings</strong>
        </div>
        <div>
          ${s&&wn`
            <div style="padding:0.3em;">
              <strong>edit formula</strong>
            </div>
            <textarea wrap="off"
              onchange=${t=>{return n=s,o=t.target.value,n.stringFormula=o,void(n.value=Sn(o,{array:e}));var n,o}}
            >${s.value}</textarea>
          `}
          <div style="display:flex;flex-wrap:wrap;gap:1em">
            ${i.map((t=>wn`
                <div>
                  <div>
                    <strong>${t.title}</strong>
                    <a onclick=${()=>s=t}>✏️</a>
                  </div>
                  <div>${t.value}</div>
                </div>
              `.key(t)))}
          </div>
          <button type="button" onclick=${()=>{const n=`\n      array.reduce((all, item) => {\n        const value = item['${t}']\n        return isNaN(value) ? all : (all + value)\n      }, 0)\n    `;i.push({title:"sum",stringFormula:n,value:Sn(n,{array:e})})}}>sum</button>
        </div>
      </div>
    `}
  `}));function Sn(t,e={}){return function(t,e){if(!t)return t;return e=new Proxy(e,{has:()=>!0}),new Function("with(this) { return ("+t+")}").call(e)}(t,{isNaN,Math,Number,Date,...e})}const $n=rt((({array:t,showAll:e,showKids:n,toggleColumnDialog:o,columnNames:r,formatChange:s,allowMaximize:a,everySimpleValue:l})=>wn`<!-- array table -->
    <!-- overflow-y: scroll; -->
    <div style="max-height: 800px;max-width:100vw;overflow: scroll;">
      <table cellPadding="2" cellSpacing="2" border="0">
        ${t.length&&wn`
          <thead style="position: sticky;top: 0;font-size: 0.8em;">
            <tr>
              ${r.map((t=>wn`
                <th
                  style.cursor=${o&&"pointer"}
                  onclick=${o}
                >${t}</th>
              `.key(t)))}
            </tr>
          </thead>
        `}
        <tbody>
          ${t.map((t=>wn`
            <tr>
              ${r.map((o=>wn`
                <td>
                  ${zn({value:t[o],showLevels:0,showAll:e,showKids:e||n,isRootDump:!1,formatChange:s,allowMaximize:a})}
                </td>
              `.key(t[o])))}
            </tr>
          `.key(t)))}
        </tbody>
      </table>
    </div>
  `)),On=rt((({array:t,showLevels:e,showAll:n,showKids:o,columnNames:r,formatChange:s,toggleColumnDialog:a,allowMaximize:l,everySimpleValue:i})=>wn`
    ${t.map(((t,o)=>{const c=function(t,e){if(["string","number","boolean"].includes(typeof t))return t;if(Array.isArray(t))return t;return function(t,e){if(!e)return t;const n={};return e.forEach((e=>{(t.hasOwnProperty(e)||e in t)&&(n[e]=t[e])})),n}(t,e)}(t,r);return wn`${zn({value:c,showLevels:e,showAll:n,showKids:!0,isRootDump:!1,formatChange:s,onHeaderClick:a,allowMaximize:l,everySimpleValue:i,index:o})}`.key(o)}))}
  `));const An=rt((({showLevels:t,showAll:e,showKids:n,array:o,arrayView:r,formatChange:s,allowMaximize:a,everySimpleValue:l})=>{const i=O([o,o.length],(()=>o.length?function(t){return t.reduce(((t,e)=>{if(e&&"object"==typeof e){if(Array.isArray(e))return t;Object.keys(e).forEach((e=>{t.includes(e)||t.push(e)}))}return t}),[])}(o):[]));let c;const u=O([i],(()=>[...i]));let d=!1;const p=y((()=>"columnDialog"+performance.now()));J((t=>[{columnNames:c,showColumnDialog:d}]=t({columnNames:c,showColumnDialog:d}))),O.noInit([u.length],(()=>{c||(c=u)}));const f=()=>{d=!d;const t=document.getElementById(p);d?t.showModal():t.close()};return wn`
    ${"table"===r?$n({showAll:e,showKids:n,array:o,toggleColumnDialog:f,columnNames:c||i,formatChange:s,everySimpleValue:l}):On({array:o,showLevels:t,showAll:e,showKids:n,formatChange:s,columnNames:c||i,toggleColumnDialog:f,allowMaximize:a,everySimpleValue:l})}

    <dialog id=${p} class="dump-dialog" style="padding:0"
      onmousedown="var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()"
      ondragstart="const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'"
      ondrag="const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';"
      ondragend="const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false"
    >
      <div
        style="padding:.25em;background-color:#666;color:white;"
        onmousedown="this.parentNode.draggable=true"
      >Column Modifier</div>
      <div style="padding:.25em">
        ${i.map((t=>{const e=void 0===c||c.includes(t);return wn`
            <div
              style="display:flex;justify-content: space-between;flex-wrap:wrap"
              class="hover-bg-warning"
            >
              ${En({name:t,array:o,included:e,columnNames:c||u,allColumnNames:i})}
            </div>
          `.key(t)}))}
        <button style="width:100%" type="button" onclick=${f}>🅧 close</button>
      </div>
    </dialog>
  `}));const Nn=rt((({key:t,value:e,show:n,showAll:o,showKids:r,showLevels:s,formatChange:a,allowMaximize:l,everySimpleValue:i})=>{let c,u,d=!1;J((t=>[{showLower:c,arrayView:u,maximize:d}]=t({showLower:c,arrayView:u,maximize:d}))),P((t=>[r]=t(r))),P((t=>[o]=t(o))),O.noInit([n],(([t])=>c=t)),O.noInit([o],(([t])=>c=t));const p=y((()=>"maximize-dump-"+performance.now())),f=()=>{d=!d,d&&document.getElementById(p).showModal()},g=o||c||r||null==c&&s>0,m=n=>wn`
    <div class="taggedjs-array-label">
      <a style="flex-grow:1" onclick=${()=>{if(void 0===c)return o=r=c=!g;o=r=c=!c}}>
        <strong>${t}</strong>
      </a>
      ${e.length>0&&wn`
        <sup style="opacity:80%;font-size:75%;padding-left:0.4em">
          <a style="text-decoration:underline;" style.font-weight=${"table"===u?"bold":""}
            onclick=${()=>u="table"===u?void 0:"table"}>${"table"===u?"flex":"table"}</a>
        </sup>
      `}
      <sup style="opacity:80%;font-size:75%;padding-left:0.4em">[${e.length}]</sup>
      ${n&&e.length>0&&wn`
        &nbsp;<a onclick=${f}><span style="width:10px;height:10px;border:1px solid white;border-top-width:3px;display:inline-block;"></span></a>
      `}
    </div>
  `,h={showLevels:s,showAll:o,showKids:r,formatChange:a,array:e,arrayView:u,allowMaximize:l,everySimpleValue:i};return wn`<!-- array -->
    <div class="taggedjs-array-wrap">
      ${m(l)}
      ${g&&wn`
    <!-- array displays wrap -->
    <div class="taggedjs-array-body">
      ${An(h)}
    </div>
  `}
    </div>

    <!-- maximize -->
    <dialog id=${p} class="dump-dialog" style="padding:0"
      onmousedown="var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()"
      ondragstart="const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'"
      ondrag="const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';"
      ondragend="const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false"
    >
      <div style="padding:.25em" onmousedown="this.parentNode.draggable=true">
        ${d&&m(!1)}
      </div>
      
      ${d&&wn`
        <div style="text-align:left;display:flex;flex-wrap:wrap;margin:0.2em;gap:0.2em">
          ${An({...h,allowMaximize:!1})}
        </div>
      `}

      <div style="padding:.25em">
        <button type="button" onclick=${()=>document.getElementById(p).close()} style="width:100%">🅧 close array</button>
      </div>
    </dialog>
  `}));function Tn(t){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(e)}function Vn({key:t,value:e,onHeaderClick:n,everySimpleValue:o}){const r=e.search&&("https://"===e.slice(0,8)||"http://"===e.slice(0,7));let s;return s=o?Jn({value:e,everySimpleValue:o}):r?Pn(e):Jn({value:e}),wn`
    <div class="taggedjs-dump-simple-wrap">
      ${t&&wn`
        <div class="taggedjs-simple-label"
          style.cursor=${n&&"pointer"}
          onclick=${n}
        >${t}</div>
      `}
      ${s}
    </div>
  `}const Jn=rt((({value:t,everySimpleValue:e})=>{const n=[void 0,null,"null"].includes(t),o=t,r=!isNaN(o)&&o>1e9?function(t){return t>9467028e5?"Milliseconds > Unix epoch:\n"+new Date(t).toLocaleString():"Seconds > Unix epoch:\n"+new Date(1e3*t).toLocaleString()}(o):"";let s=0;J((t=>[s]=t(s)));let a=t;return e&&(a=e(t)),a=(null===a?"null":!1===a&&"false")||void 0===a&&"undefined"||a,wn`
    <div class="hover-bg-warning active-bg-energized"
      onmousedown=${()=>{s=Date.now()}}
      onmouseup=${e=>{if(Date.now()-s>300)return e.preventDefault(),e.stopPropagation(),!0;Tn(t)}}
      style="cursor:pointer;"
      style.background-color=${n?"rgba(0,0,0,.5)":""}
      style.color = ${(!0===t?"#28a54c":!1===t&&"#e42112")||n&&"white"||""}
      title=${r}
    >${a}</div>
  `}));const Pn=t=>wn`
    <a onclick=${()=>Tn(t)} href=${t}
      target="_blank"
      class="hover-bg-warning active-bg-energized"
      title="tap to copy"
    >${t}</a>
  `,Ln=rt((({key:t,showKids:e,show:n,showLevels:o,value:r,showAll:s,onHeaderClick:a,formatChange:l,allowMaximize:i,everySimpleValue:c})=>{let u,d=!1;const p=y((()=>"maximize-dump-"+performance.now()));J((t=>[{showLower:u,maximize:d}]=t({showLower:u,maximize:d}))),P((t=>[e]=t(e))),O.noInit([n],(([t])=>u=t)),O.noInit([s],(([t])=>u=t));const f=!t||e||u||void 0===u&&o>0,g=()=>{d=!d,d&&document.getElementById(p).showModal()},m=n=>wn`
    <div class="taggedjs-object-label" style=${u?"border-bottom-width:1px;border-bottom-style:solid;border-color:black;":""}>
      <a onclick=${()=>{if(void 0===u)return s=e=u=!(s||e||u);e=u=!u}}>
        <strong>${t}</strong>
        <sup style="opacity:80%;font-size:75%;padding-left:0.4em">
          {${Object.keys(r).length}}
        </sup>
      </a>
      ${n&&wn`
        &nbsp;
        <a onclick=${g}>
          <span style="width:10px;height:10px;border:1px solid white;border-top-width:3px;display:inline-block;"></span>
        </a>
      `}
    </div>
  `,h=t=>wn`
    <div class="taggedjs-object-body-wrap">
      ${Object.entries(r).map((([n,r])=>wn`
        <!-- recurse -->
        <div class="taggedjs-object"
          style=${r&&"object"==typeof r?"flex-grow:1;":"flex: 1 1 10em;"}
        >
          ${zn({value:r,key:n,show:u,showAll:s,showLevels:o-1,showKids:s||e,isRootDump:!1,formatChange:l,onHeaderClick:a,allowMaximize:t,everySimpleValue:c})}
        </div>
      `.key(n)))}
    </div>
  `;return wn`
    <div style="flex: 1 1 10em;text-align:left;">
      <div class="taggedjs-object-wrap">
        ${t&&m(i)}
        ${f&&h(i)}

        <!-- maximize -->
        <dialog id=${p} class="dump-dialog" style="padding:0"
          onmousedown="var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()"
          ondragstart="const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'"
          ondrag="const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';"
          ondragend="const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false"
        >
          <div style="padding:.25em" onmousedown="this.parentNode.draggable=true">
            ${d&&m(!1)}
          </div>
          
          ${d&&h(!1)}

          <div style="padding:.25em">
            <button type="button" onclick=${()=>document.getElementById(p).close()} style="width:100%">🅧 close object</button>
          </div>
        </dialog>
      </div>
    </div>
  `})),Dn=rt((({value:t,format:e,showAll:n,formatChange:o,showAllChange:r})=>wn`
    <style>
      dialog.dump-dialog::backdrop {
        background-color: rgba(0, 0, 0, 0.7); /* Set a semi-transparent black background */
      }

      .child-margin-xxs {margin:0.2em;}
      
      .taggedjs-dump {flex-grow:1}

      .taggedjs-dump .hover-bg-warning:hover {background-color:#fcf8e3}
      .taggedjs-dump .hover-bg-balanced:hover {background-color:#33cd5f}
      .taggedjs-dump .active-bg-energized:active {background-color:#ffc900}
      .taggedjs-dump .bg-dark {background-color:#444444}
      .taggedjs-dump .bg-balanced {background-color:#33cd5f}
      
      .taggedjs-dump .taggedjs-object {
        overflow:auto;display:flex;flex-wrap:wrap;
        padding:0.2em;
      }

      .taggedjs-dump-simple-wrap {
        font-size:75%;flex:1 1 10em;color:#111111
      }

      .taggedjs-dump .taggedjs-object-label {
        padding:0.2em;display:flex;justify-content:space-between;font-size:65%;color:white;
        border-color:white;flex-grow:1;
        background-color:#387ef5;
      }

      .taggedjs-dump .taggedjs-simple-label {
        border-bottom-width:1px;border-bottom-style:solid;border-color:black;font-size:65%;border-color:white;line-height: 95%;font-weight:bold;
      }

      .taggedjs-dump .taggedjs-object-body-wrap {
        display:flex;flex-wrap:wrap;
        /*gap:0.4em;padding:0.2em;*/
      }

      .taggedjs-dump .taggedjs-object-wrap {
        font-size:95%;
        color:#111111;background-color:#d9edf7;
        border:1px solid black;border-radius:5px;flex-direction:column;display:flex;
      }
      
      .taggedjs-dump .taggedjs-array-label {
        padding:0.2em;display:flex;justify-content:space-between;flex-grow:1;font-size:65%;border-color:white;color:white;background-color:#ef473a;
      }

      .taggedjs-dump .taggedjs-array-body {
        text-align:left;display:flex;flex-wrap:wrap;margin:0.2em;gap:0.2em
      }
      
      .taggedjs-dump .taggedjs-array-wrap {
        color:#111111;background-color:#f2dede;border:1px solid black;border-radius:5px;flex-direction: column;display:flex
      }
    </style>
    <div style="width: 100%;line-height: 90%;">
      <div style="position:relative;">
        <div style="display:flex;font-size:50%;position:absolute;top:-18px;right:-6px">
          ${!e||"flex"===e&&wn`
            <a
              style=${"margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;"+(n?"background-color:#33cd5f;":"background-color:#444444")}
              class="hover-bg-balanced"
              onclick=${()=>r(n=!n)}
              title="hide/show all sub objects"
            >👁</a>
          `}
          <a
            style=${"margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;"+(e&&"flex"!==e?"background-color:#444444":"background-color:#33cd5f;")}
            class="hover-bg-balanced"
            onclick=${()=>o(e="flex")}
          >flex</a>
          <a style=${"margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;"+("json"===e?"background-color:#33cd5f;":"background-color:#444444")}
            class="hover-bg-balanced"
            onclick=${()=>o(e="json")}
          >json</a>
          <a style="margin:1px;border-radius:5px;color:white;align-items:center;display:flex;padding-left:0.2em;padding-right:0.2em;"
            class="bg-dark hover-bg-balanced active-bg-energized"
            onclick=${()=>function(t){const e=JSON.stringify(t,null,2);Tn(e)}(t)}
          >copy</a>
        </div>
      </div>
    </div>
  `));const zn=rt((({value:t,key:e,index:n,showKids:o=!1,showLevels:r=-1,showAll:s=!1,format:a="flex",formatChange:l=t=>a=t,isRootDump:i=!0,onHeaderClick:c,allowMaximize:u,everySimpleValue:d})=>{i&&void 0===u&&(u=!0);const p=null===t?"null":typeof t;let f,g=!0;return P((t=>[a]=t(a))),P((t=>[s]=t(s))),P((t=>[r]=t(r))),J((t=>[{show:g,arrayView:f}]=t({show:g,arrayView:f}))),function(t){y(t)}((()=>{(r=r>=0&&r||(-1===r&&!e&&t&&t instanceof Object?2:0))>0&&(g=!0)})),[null,void 0].includes(t)?Vn({key:e,value:p,onHeaderClick:c,everySimpleValue:d}):["boolean","number","string"].includes(p)?Vn({key:e,value:t,onHeaderClick:c,everySimpleValue:d}):Yn({value:t,showKids:o,key:e,index:n,onHeaderClick:c,everySimpleValue:d,format:a,isRootDump:i,showAll:s,showAllChange:t=>s=t,formatChange:l,show:g,showLevels:r,allowMaximize:u})}));let Rn=0;const Yn=({value:t,showKids:e,key:n,index:o,onHeaderClick:r,everySimpleValue:s,format:a,isRootDump:l,showAll:i,showAllChange:c,formatChange:u,show:d,showLevels:p,allowMaximize:f})=>{if(null===t)return e?Vn({key:n,value:"null",onHeaderClick:r,everySimpleValue:s}):wn`no kids`;const g=Array.isArray(t);return P((t=>[d]=t(d))),P((t=>[e]=t(e))),wn`
    <div class="taggedjs-dump" id=${"taggedjs-dump-"+ ++Rn}>
      ${l&&Dn({value:t,format:a,showAll:i,showAllChange:c,formatChange:u})}

      ${!l&&!g&&!n&&wn`
        <div style="position:relative;display:flex;flex:1">
          <a title="collapse/expand" onclick=${()=>{!1===d&&e&&(e=!1),d=!d}}
            style="
              right: 0;
              border: 1px solid black;
              border-radius: 0.25em;
              height: 1em;
              line-height: 1em;
              text-align: center;
              background-color:white;
              color:black;
              flex:1;
            "
            style.width = ${d?"1em":"auto"}
            style.position = ${d?"absolute":""}
            style.font-size = ${d?"0.7em":"0.5em"}
          >${d?"-":`index ${o}`}</a>
        </div>
      `}

      ${d&&("json"===a&&wn`
    <textarea disabled wrap="off"
      style="width:100%;height:25vh;min-height:400px;color:white;background-color:black;"
    >${JSON.stringify(t,null,2)}</textarea>
  `||(g?Nn({key:n,value:t,show:d,showAll:i,showKids:e,showLevels:p,formatChange:u,allowMaximize:f,everySimpleValue:s}):Ln({key:n,show:d,showKids:e,showLevels:p,value:t,showAll:i,formatChange:u,onHeaderClick:r,allowMaximize:f,everySimpleValue:s})))}
    </div>
  `},In={value:{test:{anotherOne:22},arrayTest:[{name:"something",location:{street:"4361"}},{name:"in this",location:{street:"2235"}},{name:"world",location:{street:"4785"}}]}},Mn={value:{object:"list",data:[{id:"pi_2On6sU7HNYdnrRlv08gdQmRW",object:"payment_intent",amount:210023,amount_capturable:0,amount_details:{tip:{}},amount_received:0,application:null,application_fee_amount:null,automatic_payment_methods:null,canceled_at:null,cancellation_reason:null,capture_method:"automatic",charges:{object:"list",data:[{id:"py_2On6sU7ENs46345345",object:"charge",amount:210023,amount_captured:210023,amount_refunded:0,application:null,application_fee:null,application_fee_amount:null,balance_transaction:null,billing_details:{address:{city:null,country:null,line1:null,line2:null,postal_code:null,state:null},email:"nothing@yahoo.com",name:"Super One force",phone:null},calculated_statement_descriptor:null,captured:!0,created:1708725963,currency:"usd",customer:"cus_",description:"stock package pack198",destination:null,dispute:null,disputed:!1,failure_balance_transaction:null,failure_code:null,failure_message:null,fraud_details:{},invoice:null,livemode:!0,metadata:{},on_behalf_of:null,order:null,outcome:null,paid:!1,payment_intent:"pi_2On6sU234234234",payment_method:"pm_1OjSol23423423442",payment_method_details:{type:"us_bank_account",us_bank_account:{account_holder_type:"individual",account_type:"checking",bank_name:"JPMORGAN CHASE BANK, NA",fingerprint:"asdfsfsfsd",last4:"3072",routing_number:"sfsdfsdfs"}},radar_options:{},receipt_email:"nothing@yahoo.com",receipt_number:null,receipt_url:null,refunded:!1,refunds:{object:"list",data:[],has_more:!1,total_count:0,url:"/v1/charges/py_2On6sU7ENYdn23423423423423/refunds"},review:null,shipping:null,source:null,source_transfer:null,statement_descriptor:null,statement_descriptor_suffix:null,status:"pending",transfer_data:null,transfer_group:null}],has_more:!1,total_count:1,url:"/v1/charges?payment_intent=pi_2On6sU7HNYdnrRlv08gdQmRW"},client_secret:"pi_2On6sU7HNYdnrRlv08gdQmRW_secret_mi91s3ThhlbiFNYtJZkw7aeuj",confirmation_method:"automatic",created:1708725958,currency:"usd",customer:"cus_",description:"stock package pack198",invoice:null,last_payment_error:null,latest_charge:"py_2On6sU7ENYdn23423423423423",livemode:!0,metadata:{},next_action:null,on_behalf_of:null,payment_method:"pm_0OjSol7ENYdnrElvxSEFqCs3",payment_method_configuration_details:null,payment_method_options:{us_bank_account:{mandate_options:{},verification_method:"automatic"}},payment_method_types:["us_bank_account"],processing:null,receipt_email:"nothing@yahoo.com",review:null,setup_future_usage:null,shipping:null,source:null,statement_descriptor:null,statement_descriptor_suffix:null,status:"processing",transfer_data:null,transfer_group:null},{id:"pi_2On6rP7ENY234234234223",object:"pa345345345",amount:459142,amount_capturable:0,amount_details:{tip:{}},amount_received:0,application:null,application_fee_amount:null,automatic_payment_methods:null,canceled_at:null,cancellation_reason:null,capture_method:"automatic",charges:{object:"list",data:[{id:"py_2On6rP7ENYdnrElv34534534534",object:"charge",amount:459142,amount_captured:459142,amount_refunded:0,application:null,application_fee:null,application_fee_amount:null,balance_transaction:null,billing_details:{address:{city:null,country:null,line1:null,line2:null,postal_code:null,state:null},email:"nothing@nothing.com",name:"high times life",phone:null},calculated_statement_descriptor:null,captured:!0,created:1708725908,currency:"usd",customer:"cus_OfpNBU2342342342",description:"stock package CST422199",destination:null,dispute:null,disputed:!1,failure_balance_transaction:null,failure_code:null,failure_message:null,fraud_details:{},invoice:null,livemode:!0,metadata:{},on_behalf_of:null,order:null,outcome:null,paid:!1,payment_intent:"pi_2On6rP7ENY234234234223",payment_method:"pm_0NsTld7E345345345",payment_method_details:{type:"us_bank_account",us_bank_account:{account_holder_type:"individual",account_type:"checking",bank_name:"LEFT RIGHT CREDIT UNION INC",fingerprint:"sdfsdfsdfsd",last4:"7164",routing_number:"24427435345634"}},radar_options:{},receipt_email:"nothing@nothing.com",receipt_number:null,receipt_url:null,refunded:!1,refunds:{object:"list",data:[],has_more:!1,total_count:0,url:"/v1/charges/py_2On6rP7ENYdnrElv34534534534/refunds"},review:null,shipping:null,source:null,source_transfer:null,statement_descriptor:null,statement_descriptor_suffix:null,status:"pending",transfer_data:null,transfer_group:null}],has_more:!1,total_count:1,url:"/v1/charges?payment_intent=pi_2On6rP7ENY23423345345345",client_secret:"pi_2On6rP7ENY234234234223_secret_coB4G9HHl1eq5B17Q2C8CSvIr"},confirmation_method:345345345,created:1708725891,currency:"usd",customer:"cus_OfpNBU2342342342",description:"stock package CST422199",invoice:null,last_payment_error:null,latest_charge:"py_2On6rP7ENYdnrElv34534534534",livemode:!0,metadata:{},next_action:null,on_behalf_of:null,payment_method:"pm_0NsTld7ENYdnrElvZnMTXy4p",payment_method_configuration_details:null,payment_method_options:{us_bank_account:{mandate_options:{},verification_method:"automatic"}},payment_method_types:["us_bank_account"],processing:null,receipt_email:"nothing@nothing.com",review:null,setup_future_usage:null,shipping:null,source:null,statement_descriptor:null,statement_descriptor_suffix:null,status:"processing",transfer_data:null,transfer_group:null},{id:"pi_2On6qz7ENYdnrElv0iAjkQXG",object:"payment_intent",amount:353001,amount_capturable:0,amount_details:{tip:{}},amount_received:0,application:null,application_fee_amount:null,automatic_payment_methods:null,canceled_at:null,cancellation_reason:null,capture_method:"automatic",charges:{object:"list",data:[{id:"py_2On6qz7ENYdnrElv03EQXijt",object:"charge",amount:353001,amount_captured:353001,amount_refunded:0,application:null,application_fee:null,application_fee_amount:null,balance_transaction:null,billing_details:{address:{city:null,country:null,line1:null,line2:null,postal_code:null,state:null},email:"goonta1621@gmail.com",name:"Imodern LLC",phone:null},calculated_statement_descriptor:null,captured:!0,created:1708725871,currency:"usd",customer:"cus_OPju332LNrDqWj",description:"stock package CST422875",destination:null,dispute:null,disputed:!1,failure_balance_transaction:null,failure_code:null,failure_message:null,fraud_details:{},invoice:null,livemode:!0,metadata:{fullOrderId:"CST422875",orderId:"422875"},on_behalf_of:null,order:null,outcome:null,paid:!1,payment_intent:"pi_2On6qz7ENYdnrElv0iAjkQXG",payment_method:"pm_0Ojnzp7ENYdnrElvehXEBmJk",payment_method_details:{type:"us_bank_account",us_bank_account:{account_holder_type:"individual",account_type:"checking",bank_name:"BANK OF AMERICA, N.A.",fingerprint:"NLhg8mD0tp0uM97N",last4:"2606",routing_number:"011200365"}},radar_options:{},receipt_email:"goonta1621@gmail.com",receipt_number:null,receipt_url:null,refunded:!1,refunds:{object:"list",data:[],has_more:!1,total_count:0,url:"/v1/charges/py_2On6qz7ENYdnrElv03EQXijt/refunds"},review:null,shipping:null,source:null,source_transfer:null,statement_descriptor:null,statement_descriptor_suffix:null,status:"pending",transfer_data:null,transfer_group:null}],has_more:!1,total_count:1,url:"/v1/charges?payment_intent=pi_2On6qz7ENYdnrElv0iAjkQXG"},client_secret:"pi_2On6qz7ENYdnrElv0iAjkQXG_secret_HJlGWDupUqDO2L0BrjfHuRLC2",confirmation_method:"automatic",created:1708725865,currency:"usd",customer:"cus_OPju332LNrDqWj",description:"stock package CST422875",invoice:null,last_payment_error:null,latest_charge:"py_2On6qz7ENYdnrElv03EQXijt",livemode:!0,metadata:{fullOrderId:"CST422875",orderId:"422875"},next_action:null,on_behalf_of:null,payment_method:"pm_0Ojnzp7ENYdnrElvehXEBmJk",payment_method_configuration_details:null,payment_method_options:{us_bank_account:{mandate_options:{},verification_method:"automatic"}},payment_method_types:["us_bank_account"],processing:null,receipt_email:"goonta1621@gmail.com",review:null,setup_future_usage:null,shipping:null,source:null,statement_descriptor:null,statement_descriptor_suffix:null,status:"processing",transfer_data:null,transfer_group:null}],has_more:!0,url:"/v1/payment_intents"},everySimpleValue:t=>"string"==typeof t&&"pm_"===t.substring(0,3)?wn.dom(Wn.allStrings346495[0],t):t},Xn=rt((()=>{let t="",e=0,n="",o=!1;J((r=>[{userJsonString:t,renderCount:e,userJson:n,badEval:o}]=r({userJsonString:t,renderCount:e,userJson:n,badEval:o}))),++e;return wn.dom(Wn.allStrings346495[1],o&&wn.dom(Wn.allStrings346495[2]),(e=>{t=e.target.value;try{n=function(t,e){if(!t)return t;return e=new Proxy(e,{has:()=>!0}),new Function("with(this) { return ("+t+")}").call(e)}(t,{}),t=JSON.stringify(n,null,2)}catch(e){o=!0;try{JSON.parse(t)}catch(t){n=Object.getOwnPropertyNames(t).reduce(((e,n)=>(e[n]=t[n])&&e||e),{})}}}),""===n?"":t,""===n?"":wn.dom(Wn.allStrings346495[3],zn({value:n})),zn(In),zn(Mn))}));const Wn={allStrings346495:[[{nn:"a",at:[["style","color:blue;"]],ch:[{nn:"text",v:0}]}],[{nn:"h3",ch:[{nn:"text",tc:"🔭 TaggedJs Dump demo page"}]},{nn:"p",ch:[{nn:"text",tc:"Use the textarea below to cast JSON into an interactive display"}]},{nn:"text",v:0},{nn:"div",at:[["style","display:flex;flex-wrap:wrap;align-item:center;justify-content: center;gap:.5em;padding:.5em;flex-wrap:wrap"]],ch:[{nn:"textarea",at:[["wrap","off"],["placeholder","paste json here"],["change",{tagJsVar:1},null],["style","min-width:300px;height:400px;flex-grow:.5;"]],ch:[{nn:"text",v:2}]},{nn:"text",v:3}]},{nn:"br"},{nn:"h3",ch:[{nn:"text",tc:"Sample Dumps"}]},{nn:"hr"},{nn:"div",at:[["style","display:flex;flex-wrap:wrap;align-item:center;justify-content: center;gap:1em;"]],ch:[{nn:"div",at:[["style","max-width:1400px"]],ch:[{nn:"text",v:4},{nn:"hr"},{nn:"text",v:5}]}]}],[{nn:"div",at:[["style","color:white;background-color:red;padding:.5em;"]],ch:[{nn:"text",tc:"Input data appears to be invalid"}]}],[{nn:"div",at:[["style","justify-content:center;display:flex;flex-grow:2;min-width:110px;max-width:98vw;width:100%;background-color:rgba(255,255,255,.5);min-width:300px"]],ch:[{nn:"div",at:[["style","max-width:1400px;"]],ch:[{nn:"text",v:0}]}]}]]};function Hn(){const t=document.getElementsByTagName("app")[0],e=Date.now();xn(Xn,t,{test:1});const n=Date.now()-e;console.info(`⏱️ rendered in ${n}ms`)}var Un=e.qw,Bn=e.cF,Fn=e.eF;export{Un as App,Bn as hmr,Fn as run};
//# sourceMappingURL=bundle.js.map